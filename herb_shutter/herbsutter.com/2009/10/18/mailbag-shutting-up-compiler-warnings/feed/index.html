<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	
	>
<channel>
	<title>
	Comments on: Mailbag: Shutting up compiler warnings	</title>
	<atom:link href="https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/feed/" rel="self" type="application/rss+xml" />
	<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/</link>
	<description>Herb Sutter on software development</description>
	<lastBuildDate>
	Mon, 19 Nov 2018 23:08:15 +0000	</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
			<item>
				<title>
				By: Arne Mertz				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1685</link>
		<dc:creator><![CDATA[Arne Mertz]]></dc:creator>
		<pubDate>Fri, 15 Jan 2010 09:39:08 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1685</guid>
					<description><![CDATA[@Krzysiek: I get your point. But because you referred to Yuri, Yuri referred to Herb and Herb was writing about boost&#039;s explicit inline on a function template (which *is* redundant), I was stuck on that template topic. I didn&#039;t realize that Yuri&#039;s and your posts were about inlining functions in general. Mea culpa.
Of course you are right, that the keyword in general is not redundant, but afaik it is only useful with free nontemplate function definitions inheader files.
(And yes, default parameters are not allowed on function templates)

Regards
Arne]]></description>
		<content:encoded><![CDATA[<p>@Krzysiek: I get your point. But because you referred to Yuri, Yuri referred to Herb and Herb was writing about boost&#8217;s explicit inline on a function template (which *is* redundant), I was stuck on that template topic. I didn&#8217;t realize that Yuri&#8217;s and your posts were about inlining functions in general. Mea culpa.<br />
Of course you are right, that the keyword in general is not redundant, but afaik it is only useful with free nontemplate function definitions inheader files.<br />
(And yes, default parameters are not allowed on function templates)</p>
<p>Regards<br />
Arne</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Krzysiek				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1681</link>
		<dc:creator><![CDATA[Krzysiek]]></dc:creator>
		<pubDate>Thu, 14 Jan 2010 18:22:23 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1681</guid>
					<description><![CDATA[@Arne
But what if you want to place
void f() { /* something tivial */ }
in header file?
I do not want to make it template since I would have to specify dummy template parameter with every function call (as far as I know function templates do not allow default template parameter values but I&#039;m maybe wrong). The only way is to use &#039;inline&#039; keyword which explicity states what I want to do. I just want to counterargue with statement that &#039;inline&#039; keyword is redundant.]]></description>
		<content:encoded><![CDATA[<p>@Arne<br />
But what if you want to place<br />
void f() { /* something tivial */ }<br />
in header file?<br />
I do not want to make it template since I would have to specify dummy template parameter with every function call (as far as I know function templates do not allow default template parameter values but I&#8217;m maybe wrong). The only way is to use &#8216;inline&#8217; keyword which explicity states what I want to do. I just want to counterargue with statement that &#8216;inline&#8217; keyword is redundant.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Arne Mertz				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1680</link>
		<dc:creator><![CDATA[Arne Mertz]]></dc:creator>
		<pubDate>Thu, 14 Jan 2010 08:49:16 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1680</guid>
					<description><![CDATA[@Michael: As stated above, the Code might have sideffets that you want to have.

@Krzysiek: Compilers won&#039;t complain about multiple definitions of template functions, because templates don&#039;t violate the ODR if the multiple definitions are equivalent.]]></description>
		<content:encoded><![CDATA[<p>@Michael: As stated above, the Code might have sideffets that you want to have.</p>
<p>@Krzysiek: Compilers won&#8217;t complain about multiple definitions of template functions, because templates don&#8217;t violate the ODR if the multiple definitions are equivalent.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Michael S.				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1591</link>
		<dc:creator><![CDATA[Michael S.]]></dc:creator>
		<pubDate>Thu, 19 Nov 2009 20:24:02 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1591</guid>
					<description><![CDATA[Why not simply outcomment the code? It is of no use anyway, right?

/Michael]]></description>
		<content:encoded><![CDATA[<p>Why not simply outcomment the code? It is of no use anyway, right?</p>
<p>/Michael</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Krzysiek				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1550</link>
		<dc:creator><![CDATA[Krzysiek]]></dc:creator>
		<pubDate>Mon, 26 Oct 2009 14:17:11 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1550</guid>
					<description><![CDATA[@Yuri
I also agree inline might be required. I mean placing such short function in header files which are included many times. Omiting &#039;inline&#039; keyword makes linker complaining about multiple definitions of such function.]]></description>
		<content:encoded><![CDATA[<p>@Yuri<br />
I also agree inline might be required. I mean placing such short function in header files which are included many times. Omiting &#8216;inline&#8217; keyword makes linker complaining about multiple definitions of such function.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Yuri				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1533</link>
		<dc:creator><![CDATA[Yuri]]></dc:creator>
		<pubDate>Wed, 21 Oct 2009 08:44:29 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1533</guid>
					<description><![CDATA[@Herb: explicit inline is required for free functions at least for gcc-based compilers. I can be wrong, but standard says that only class members will be inlined if they defined in class declaration.
I saw disassembly of compiled code (with -O2) which generated empty function instantiations for template ones which were not declared as inline (they contained only prolog and epilog, but were exported to linker, and called by name from main code).]]></description>
		<content:encoded><![CDATA[<p>@Herb: explicit inline is required for free functions at least for gcc-based compilers. I can be wrong, but standard says that only class members will be inlined if they defined in class declaration.<br />
I saw disassembly of compiled code (with -O2) which generated empty function instantiations for template ones which were not declared as inline (they contained only prolog and epilog, but were exported to linker, and called by name from main code).</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1528</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Tue, 20 Oct 2009 16:43:59 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1528</guid>
					<description><![CDATA[@Dmitry,Kirill: Aha, you&#039;re right. The explicit const lets you also handle temporaries. I&#039;ll update the post to add the const.]]></description>
		<content:encoded><![CDATA[<p>@Dmitry,Kirill: Aha, you&#8217;re right. The explicit const lets you also handle temporaries. I&#8217;ll update the post to add the const.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Kirill				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1527</link>
		<dc:creator><![CDATA[Kirill]]></dc:creator>
		<pubDate>Tue, 20 Oct 2009 09:53:20 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1527</guid>
					<description><![CDATA[It is better to write ignore(const T&#038;). Dmitry Vyukov already written the sample where it will be necessary. Additionally it was discussed on stackoverflow (http://stackoverflow.com/questions/1565600/non-const-reference-to-temporary-object).]]></description>
		<content:encoded><![CDATA[<p>It is better to write ignore(const T&amp;). Dmitry Vyukov already written the sample where it will be necessary. Additionally it was discussed on stackoverflow (<a href="http://stackoverflow.com/questions/1565600/non-const-reference-to-temporary-object" rel="nofollow">http://stackoverflow.com/questions/1565600/non-const-reference-to-temporary-object</a>).</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Zura				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1526</link>
		<dc:creator><![CDATA[Zura]]></dc:creator>
		<pubDate>Tue, 20 Oct 2009 08:40:48 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1526</guid>
					<description><![CDATA[Yes, you&#039;re right. I should have wrote that 

#define UNUSED(x)

is ONLY usable for function formal parameters, and actually it is different &quot;thing&quot;, so UNUSED_PARAM would be better name...

As for omitting unused formal param names - sometimes it is good to leave variable name, for the sake of description, etc..

Thanks.]]></description>
		<content:encoded><![CDATA[<p>Yes, you&#8217;re right. I should have wrote that </p>
<p>#define UNUSED(x)</p>
<p>is ONLY usable for function formal parameters, and actually it is different &#8220;thing&#8221;, so UNUSED_PARAM would be better name&#8230;</p>
<p>As for omitting unused formal param names &#8211; sometimes it is good to leave variable name, for the sake of description, etc..</p>
<p>Thanks.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Dmitry Vyukov				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1525</link>
		<dc:creator><![CDATA[Dmitry Vyukov]]></dc:creator>
		<pubDate>Tue, 20 Oct 2009 06:41:48 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1525</guid>
					<description><![CDATA[Re: To those who mentioned using this for suppressing warnings on unused function formal parameters, you don’t actually need it for that — just do the same thing ignore() itself does, namely don’t give the parameter a name.

I think it&#039;s a matter of personal taste or coding style. However, I prefer to not delete parameter names. When you read code with deleted parameter names, you basically have no idea as to WHAT that parameter actually means, thus you have no idea as to WHY it is unused. Maybe it&#039;s ultimately uninteresting for the function, or it&#039;s just not yet supported but must be supported. Moreover, if need that parameter back, you will have to find the name somewhere and retype it.
Sometimes I just comment unused parameters out:

void foo(...., int /*some_flag*/, ...) {...}

However that badly cooperates with other multi-line comments - there is no nested multi-line comments.

So I prefer to explicitly mark it as unused, it also provides a good place for comment regarding a reason why it is unused. For example:

inline int rl_WaitForSingleObjectEx(rl_HANDLE obj, unsigned long timeout, int alertable, debug_info_param info)
{
    (void)alertable; //not yet supported - support it!
    ...
}]]></description>
		<content:encoded><![CDATA[<p>Re: To those who mentioned using this for suppressing warnings on unused function formal parameters, you don’t actually need it for that — just do the same thing ignore() itself does, namely don’t give the parameter a name.</p>
<p>I think it&#8217;s a matter of personal taste or coding style. However, I prefer to not delete parameter names. When you read code with deleted parameter names, you basically have no idea as to WHAT that parameter actually means, thus you have no idea as to WHY it is unused. Maybe it&#8217;s ultimately uninteresting for the function, or it&#8217;s just not yet supported but must be supported. Moreover, if need that parameter back, you will have to find the name somewhere and retype it.<br />
Sometimes I just comment unused parameters out:</p>
<p>void foo(&#8230;., int /*some_flag*/, &#8230;) {&#8230;}</p>
<p>However that badly cooperates with other multi-line comments &#8211; there is no nested multi-line comments.</p>
<p>So I prefer to explicitly mark it as unused, it also provides a good place for comment regarding a reason why it is unused. For example:</p>
<p>inline int rl_WaitForSingleObjectEx(rl_HANDLE obj, unsigned long timeout, int alertable, debug_info_param info)<br />
{<br />
    (void)alertable; //not yet supported &#8211; support it!<br />
    &#8230;<br />
}</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Dmitry Vyukov				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1524</link>
		<dc:creator><![CDATA[Dmitry Vyukov]]></dc:creator>
		<pubDate>Tue, 20 Oct 2009 06:31:06 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1524</guid>
					<description><![CDATA[@Herb: Your version does not work correctly on the code I gave. Try to compile:

template
void unused(T&#038;) {}

std::string foo() { return std::string(); }
int bar() { return 0; }

int main()
{
    unused(foo());
    unused(bar());
}]]></description>
		<content:encoded><![CDATA[<p>@Herb: Your version does not work correctly on the code I gave. Try to compile:</p>
<p>template<br />
void unused(T&amp;) {}</p>
<p>std::string foo() { return std::string(); }<br />
int bar() { return 0; }</p>
<p>int main()<br />
{<br />
    unused(foo());<br />
    unused(bar());<br />
}</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1523</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 23:53:37 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1523</guid>
					<description><![CDATA[A colleague emailed me privately asking:

&lt;blockquote&gt;
Why not use
&lt;code&gt;sizeof pb;&lt;/code&gt;
Is there a compiler on which this doesn&#039;t quiet the warning?
&lt;/blockquote&gt;

Before trying it, my guess/expectation is that it would get the same result as just mentioning the variable name (e.g., &quot;pb;&quot;, see earlier comments), because it falls into the same category of using the name in an expression that has no effect. Therefore, whether or not it quiets the original &quot;unused variable&quot; warning, it is likely to generate a new warning saying that the expression has no effect or its result was unused.

Then I tried it, and the result... drum roll please... was: It doesn&#039;t suppress the warning on Borland, and just changes it to &quot;expression has no effect&quot; on EDG. Not exactly the same effect on every compiler as just writing a statement containing only the variable name, but it&#039;s close.

So the solution I posted (and Boost&#039;s identical facility) is still the only technique that works on all the compilers I tried. Any more suggestions of variants to try?]]></description>
		<content:encoded><![CDATA[<p>A colleague emailed me privately asking:</p>
<blockquote><p>
Why not use<br />
<code>sizeof pb;</code><br />
Is there a compiler on which this doesn&#8217;t quiet the warning?
</p></blockquote>
<p>Before trying it, my guess/expectation is that it would get the same result as just mentioning the variable name (e.g., &#8220;pb;&#8221;, see earlier comments), because it falls into the same category of using the name in an expression that has no effect. Therefore, whether or not it quiets the original &#8220;unused variable&#8221; warning, it is likely to generate a new warning saying that the expression has no effect or its result was unused.</p>
<p>Then I tried it, and the result&#8230; drum roll please&#8230; was: It doesn&#8217;t suppress the warning on Borland, and just changes it to &#8220;expression has no effect&#8221; on EDG. Not exactly the same effect on every compiler as just writing a statement containing only the variable name, but it&#8217;s close.</p>
<p>So the solution I posted (and Boost&#8217;s identical facility) is still the only technique that works on all the compilers I tried. Any more suggestions of variants to try?</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1522</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 23:50:08 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1522</guid>
					<description><![CDATA[@Glen: No, Microsoft didn&#039;t say we&#039;d refuse to implement them, that was a mistake in the minutes that we didn&#039;t see to ask to be corrected. I and others have been saying for two years now that trying to standardize attributes is a bad idea and fraught with peril, and I&#039;ve still been actively saying so on the committee reflectors over the past two months.]]></description>
		<content:encoded><![CDATA[<p>@Glen: No, Microsoft didn&#8217;t say we&#8217;d refuse to implement them, that was a mistake in the minutes that we didn&#8217;t see to ask to be corrected. I and others have been saying for two years now that trying to standardize attributes is a bad idea and fraught with peril, and I&#8217;ve still been actively saying so on the committee reflectors over the past two months.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Glen				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1521</link>
		<dc:creator><![CDATA[Glen]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 21:24:49 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1521</guid>
					<description><![CDATA[grumps corner: can&#039;t we squeeze this into the c++0x proposal (the one with the other attribute stuff) so we can have a standard compiler switch/attribute for this stuff? ;)

Maybe these are two I would actually vote for:

int a [[unused]];
int f( int a [[unused]] );

more &quot;creatively&quot;:

// Maybe this could cause all calls/side effects to trace (in the following line) to
be ignored but allowing the calls to be left left
in the code when [[unused]] can be removed if required later.

void trace [[unused]] ( int x, int y);

// Maybe this to strip out calls to and creates of trace_logger.
class trace_logger [[unused]] { }

// Getting silly but couldn&#039;t a [[used]] be, er, used too?

// Construction wanted, but no further
// use required so compiler don&#039;t complain
// about unused. At least I think this error sometimes happened back when i Used to use C++ (ho ho).

Object y[[used]](); // Prevent unused error.

// How about?
void used_this [[deprecated(&quot;we used to use this but now we use_that instead&quot;)]]( int x, y);

I&#039;ve asked this before but I hear MS aren&#039;t implementing c++0x attributes? Is this true? That might be no bad thing thing because they are so overused in .NET (and just see the sillyness above!) but then C++/CLI has single bracket attributes that though I like better will just make for non standard overuse... what was the committee view in not voting for the C++/CLI type attribute?

Others having &quot;fun&quot; with attributes I see:
 http://stackoverflow.com/questions/296838/c0x-attributes-youd-like-to-see

(interesting comments too about a plan for a world with no macros and the &quot;travesty&quot; of MS not doing them? I&#039;m not sure it&#039;s a travesty but I would like to know the reasoning or if true or not.]]></description>
		<content:encoded><![CDATA[<p>grumps corner: can&#8217;t we squeeze this into the c++0x proposal (the one with the other attribute stuff) so we can have a standard compiler switch/attribute for this stuff? ;)</p>
<p>Maybe these are two I would actually vote for:</p>
<p>int a [[unused]];<br />
int f( int a [[unused]] );</p>
<p>more &#8220;creatively&#8221;:</p>
<p>// Maybe this could cause all calls/side effects to trace (in the following line) to<br />
be ignored but allowing the calls to be left left<br />
in the code when [[unused]] can be removed if required later.</p>
<p>void trace [[unused]] ( int x, int y);</p>
<p>// Maybe this to strip out calls to and creates of trace_logger.<br />
class trace_logger [[unused]] { }</p>
<p>// Getting silly but couldn&#8217;t a [[used]] be, er, used too?</p>
<p>// Construction wanted, but no further<br />
// use required so compiler don&#8217;t complain<br />
// about unused. At least I think this error sometimes happened back when i Used to use C++ (ho ho).</p>
<p>Object y[[used]](); // Prevent unused error.</p>
<p>// How about?<br />
void used_this [[deprecated(&#8220;we used to use this but now we use_that instead&#8221;)]]( int x, y);</p>
<p>I&#8217;ve asked this before but I hear MS aren&#8217;t implementing c++0x attributes? Is this true? That might be no bad thing thing because they are so overused in .NET (and just see the sillyness above!) but then C++/CLI has single bracket attributes that though I like better will just make for non standard overuse&#8230; what was the committee view in not voting for the C++/CLI type attribute?</p>
<p>Others having &#8220;fun&#8221; with attributes I see:<br />
 <a href="http://stackoverflow.com/questions/296838/c0x-attributes-youd-like-to-see" rel="nofollow">http://stackoverflow.com/questions/296838/c0x-attributes-youd-like-to-see</a></p>
<p>(interesting comments too about a plan for a world with no macros and the &#8220;travesty&#8221; of MS not doing them? I&#8217;m not sure it&#8217;s a travesty but I would like to know the reasoning or if true or not.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1520</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 20:44:04 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1520</guid>
					<description><![CDATA[P.S.: To those who mentioned using this for suppressing warnings on unused function formal parameters, you don&#039;t actually need it for that -- just do the same thing ignore() itself does, namely don&#039;t give the parameter a name.]]></description>
		<content:encoded><![CDATA[<p>P.S.: To those who mentioned using this for suppressing warnings on unused function formal parameters, you don&#8217;t actually need it for that &#8212; just do the same thing ignore() itself does, namely don&#8217;t give the parameter a name.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1519</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 20:39:57 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1519</guid>
					<description><![CDATA[@Zura: I considered an UNUSED macro too, but there are several problems with that:

1. It doesn&#039;t work, because the macro expands to nothing during preprocessing before language rules begin. So writing UNUSED(x) is the same as writing nothing, and you end up with the warning.

2. It doesn&#039;t handle the case when you want an expression with side effects, such as:

&lt;pre&gt;
  ignore( SomeFunctionWithAResult() );
&lt;/pre&gt;

and you really want the contents of the ignore() to execute normally, not be discarded.

By the way, here&#039;s one option I didn&#039;t present, since this wasn&#039;t intended to be a full article, but here goes: You could simply mention the variable again, such as:

&lt;pre&gt;
  static void Constraints(D* p)
  {
     B* pb = p;
     pb; // mention the variable again
  }
&lt;/pre&gt;

Unfortunately, this also doesn&#039;t do the trick because it does suppress the original warning on both compilers I tried (good) but creates a new warning on an overlapping set of compilers: Expression has no effect. In my test suite, we went from Borland and EDG reporting the original warning to EDG and Digital Mars now reporting a different warning. No win.

So the original method I presented is still the only portable way that&#039;s been suggested so far, and it&#039;s basically identical to Boost&#039;s (Boost&#039;s just spells out the mostly-redundant &quot;inline&quot; and &quot;const&quot;; see earlier comment above).]]></description>
		<content:encoded><![CDATA[<p>@Zura: I considered an UNUSED macro too, but there are several problems with that:</p>
<p>1. It doesn&#8217;t work, because the macro expands to nothing during preprocessing before language rules begin. So writing UNUSED(x) is the same as writing nothing, and you end up with the warning.</p>
<p>2. It doesn&#8217;t handle the case when you want an expression with side effects, such as:</p>
<pre>
  ignore( SomeFunctionWithAResult() );
</pre>
<p>and you really want the contents of the ignore() to execute normally, not be discarded.</p>
<p>By the way, here&#8217;s one option I didn&#8217;t present, since this wasn&#8217;t intended to be a full article, but here goes: You could simply mention the variable again, such as:</p>
<pre>
  static void Constraints(D* p)
  {
     B* pb = p;
     pb; // mention the variable again
  }
</pre>
<p>Unfortunately, this also doesn&#8217;t do the trick because it does suppress the original warning on both compilers I tried (good) but creates a new warning on an overlapping set of compilers: Expression has no effect. In my test suite, we went from Borland and EDG reporting the original warning to EDG and Digital Mars now reporting a different warning. No win.</p>
<p>So the original method I presented is still the only portable way that&#8217;s been suggested so far, and it&#8217;s basically identical to Boost&#8217;s (Boost&#8217;s just spells out the mostly-redundant &#8220;inline&#8221; and &#8220;const&#8221;; see earlier comment above).</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Zura				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1518</link>
		<dc:creator><![CDATA[Zura]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 18:11:08 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1518</guid>
					<description><![CDATA[... Although in original example  (Constraints), it won&#039;t do anything.
But still, would be good if this will be listed here.]]></description>
		<content:encoded><![CDATA[<p>&#8230; Although in original example  (Constraints), it won&#8217;t do anything.<br />
But still, would be good if this will be listed here.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Zura				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1517</link>
		<dc:creator><![CDATA[Zura]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 18:01:16 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1517</guid>
					<description><![CDATA[I think just simple

#define UNUSED(x)

will do the job.
It can be used for function formal parameters as well.]]></description>
		<content:encoded><![CDATA[<p>I think just simple</p>
<p>#define UNUSED(x)</p>
<p>will do the job.<br />
It can be used for function formal parameters as well.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1515</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 14:27:30 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1515</guid>
					<description><![CDATA[@Maxim: Hi Maxim! See my note to James; alas, those options don&#039;t actually portably cause compilers to be quiet. Writing static_cast&#060;void&#062;(x) has the same effect as (void)x on the compilers I tried; it causes only one compiler to stop complaining.

@Dmitry: The const isn&#039;t needed, my version works correctly already on the code you gave. See below for details.

@Dmitry, @John: Yup, In general I might like the name &quot;unused&quot; better than &quot;ignore&quot;. And Boost&#039;s name contains both words. :-)

@All: Yes, Boost&#039;s is identical to the one I posted except that it does two things that aren&#039;t really needed:

1. Boost&#039;s explicitly says &quot;inline.&quot; This is usually redundant in practice, though I agree that saying it explicitly doesn&#039;t hurt. The reason it&#039;s redundant in practice is: (a) popular compilers aggressively inline functions anyway even if you didn&#039;t mark them inline, as long as their bodies are visible at compile time (and sometimes even if they aren&#039;t, see for example &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/xbf3tbeh(VS.80).aspx&quot; rel=&quot;nofollow&quot;&gt;VC++ /LTCG&lt;/a&gt;); and (b) this is a template, and all portable templates use the inclusion model and therefore are included with their full bodies, so they are effectively implicitly inline because of (a).

2. Boost&#039;s takes the parameter by const&#038;. That isn&#039;t necessary because template argument deduction will figure out the const anyway. I tried my version with const objects and it worked fine on all compilers, including very old ones.

&lt;b&gt;For bonus points: What about volatile?&lt;/b&gt;

Any time you see &quot;const&quot;, also think &quot;volatile&quot; because it&#039;s treated the same way in the type system. Incidentally, that&#039;s another realistic case where the program performs writes that appear to be dead but aren&#039;t because they go outside the program, namely to hardware.

Q: Does my version and/or Boost&#039;s work with volatile objects? A: Yes, both also work fine with volatile objects, because template argument deduction also figures out the volatile for you anyway. If you want to be super explicit, like Boost was with const&#038;, you&#039;d actually want to take the parameter by const volatile &#038;. But now I&#039;m just being picky to point out that writing either qualifier is redundant, and they didn&#039;t need to write the const either.

Nitpicker&#039;s corner: Yes, I know that compilers are much less likely to warn about apparently-unused volatile variables because they know those variables are for hardware communication and writes to them are never dead. But in fact one compiler I&#039;m testing with does still emit the warning even on apparently-unused volatile variables (it&#039;s the Y2K-vintage Borland 5.5.1 again).]]></description>
		<content:encoded><![CDATA[<p>@Maxim: Hi Maxim! See my note to James; alas, those options don&#8217;t actually portably cause compilers to be quiet. Writing static_cast&lt;void&gt;(x) has the same effect as (void)x on the compilers I tried; it causes only one compiler to stop complaining.</p>
<p>@Dmitry: The const isn&#8217;t needed, my version works correctly already on the code you gave. See below for details.</p>
<p>@Dmitry, @John: Yup, In general I might like the name &#8220;unused&#8221; better than &#8220;ignore&#8221;. And Boost&#8217;s name contains both words. :-)</p>
<p>@All: Yes, Boost&#8217;s is identical to the one I posted except that it does two things that aren&#8217;t really needed:</p>
<p>1. Boost&#8217;s explicitly says &#8220;inline.&#8221; This is usually redundant in practice, though I agree that saying it explicitly doesn&#8217;t hurt. The reason it&#8217;s redundant in practice is: (a) popular compilers aggressively inline functions anyway even if you didn&#8217;t mark them inline, as long as their bodies are visible at compile time (and sometimes even if they aren&#8217;t, see for example <a href="http://msdn.microsoft.com/en-us/library/xbf3tbeh(VS.80).aspx" rel="nofollow">VC++ /LTCG</a>); and (b) this is a template, and all portable templates use the inclusion model and therefore are included with their full bodies, so they are effectively implicitly inline because of (a).</p>
<p>2. Boost&#8217;s takes the parameter by const&amp;. That isn&#8217;t necessary because template argument deduction will figure out the const anyway. I tried my version with const objects and it worked fine on all compilers, including very old ones.</p>
<p><b>For bonus points: What about volatile?</b></p>
<p>Any time you see &#8220;const&#8221;, also think &#8220;volatile&#8221; because it&#8217;s treated the same way in the type system. Incidentally, that&#8217;s another realistic case where the program performs writes that appear to be dead but aren&#8217;t because they go outside the program, namely to hardware.</p>
<p>Q: Does my version and/or Boost&#8217;s work with volatile objects? A: Yes, both also work fine with volatile objects, because template argument deduction also figures out the volatile for you anyway. If you want to be super explicit, like Boost was with const&amp;, you&#8217;d actually want to take the parameter by const volatile &amp;. But now I&#8217;m just being picky to point out that writing either qualifier is redundant, and they didn&#8217;t need to write the const either.</p>
<p>Nitpicker&#8217;s corner: Yes, I know that compilers are much less likely to warn about apparently-unused volatile variables because they know those variables are for hardware communication and writes to them are never dead. But in fact one compiler I&#8217;m testing with does still emit the warning even on apparently-unused volatile variables (it&#8217;s the Y2K-vintage Borland 5.5.1 again).</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: John				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1514</link>
		<dc:creator><![CDATA[John]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 12:09:54 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1514</guid>
					<description><![CDATA[boost::ignore_unused_variable_warning(x); is verbose but nice. &#060;3 boost.]]></description>
		<content:encoded><![CDATA[<p>boost::ignore_unused_variable_warning(x); is verbose but nice. &lt;3 boost.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Dmitry Vyukov				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1513</link>
		<dc:creator><![CDATA[Dmitry Vyukov]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 08:57:59 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1513</guid>
					<description><![CDATA[Maxim,
IMHO
unused(p0, p3, p7);
looks nicer than:
static_cast(p0);
static_cast(p3);
static_cast(p7);
And it&#039;s a bit easier to search by &#039;unused&#039; than by &#039;static_cast&#039;.]]></description>
		<content:encoded><![CDATA[<p>Maxim,<br />
IMHO<br />
unused(p0, p3, p7);<br />
looks nicer than:<br />
static_cast(p0);<br />
static_cast(p3);<br />
static_cast(p7);<br />
And it&#8217;s a bit easier to search by &#8216;unused&#8217; than by &#8216;static_cast&#8217;.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Maxim Yegorushkin				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1512</link>
		<dc:creator><![CDATA[Maxim Yegorushkin]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 08:52:26 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1512</guid>
					<description><![CDATA[static_cast&#060;void&#062;(x);]]></description>
		<content:encoded><![CDATA[<p>static_cast&lt;void&gt;(x);</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Maxim Yegorushkin				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1511</link>
		<dc:creator><![CDATA[Maxim Yegorushkin]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 08:51:31 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1511</guid>
					<description><![CDATA[The same effect can be achieved without having to define a function template.

    static_cast(x);

Or, as James suggested, using C-style cast:

    (void)x;]]></description>
		<content:encoded><![CDATA[<p>The same effect can be achieved without having to define a function template.</p>
<p>    static_cast(x);</p>
<p>Or, as James suggested, using C-style cast:</p>
<p>    (void)x;</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Dmitry Vyukov				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1510</link>
		<dc:creator><![CDATA[Dmitry Vyukov]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 05:29:02 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1510</guid>
					<description><![CDATA[Why not:
template void ignore(T const&#038;) {}
?

This will work in:
void foo(..., int const bar, ...)
{
  ignore(bar);
}
and in:
ignore(baz()); // some compilers may complain on unused return value
too.

Humm... and what about:
template void ignore(T1 const&#038;) {}
template void ignore(T1 const&#038;, T2 const&#038;) {}
template void ignore(T1 const&#038;, T2 const&#038;, T3 const&#038;) {}

Sometimes several function parameters are unused, and such form is a kind of more compact.]]></description>
		<content:encoded><![CDATA[<p>Why not:<br />
template void ignore(T const&amp;) {}<br />
?</p>
<p>This will work in:<br />
void foo(&#8230;, int const bar, &#8230;)<br />
{<br />
  ignore(bar);<br />
}<br />
and in:<br />
ignore(baz()); // some compilers may complain on unused return value<br />
too.</p>
<p>Humm&#8230; and what about:<br />
template void ignore(T1 const&amp;) {}<br />
template void ignore(T1 const&amp;, T2 const&amp;) {}<br />
template void ignore(T1 const&amp;, T2 const&amp;, T3 const&amp;) {}</p>
<p>Sometimes several function parameters are unused, and such form is a kind of more compact.</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: Herb Sutter				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1509</link>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 03:44:37 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1509</guid>
					<description><![CDATA[@James: I tried your (void)pb suggestion on the compilers I tested against, and it was only partly effective. It silenced the warning on one compiler (year-2000-vintage Borland 5.5.1), but did not silence the warning on EDG-based compilers in particular (&lt;a href=&quot;http://www.edg.com/&quot; rel=&quot;nofollow&quot;&gt;EDG&lt;/a&gt; is the compiler front end that&#039;s used in compilers by Intel, Borland, Comeau, and others).]]></description>
		<content:encoded><![CDATA[<p>@James: I tried your (void)pb suggestion on the compilers I tested against, and it was only partly effective. It silenced the warning on one compiler (year-2000-vintage Borland 5.5.1), but did not silence the warning on EDG-based compilers in particular (<a href="http://www.edg.com/" rel="nofollow">EDG</a> is the compiler front end that&#8217;s used in compilers by Intel, Borland, Comeau, and others).</p>
]]></content:encoded>
					</item>
						<item>
				<title>
				By: James				</title>
				<link>https://herbsutter.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1508</link>
		<dc:creator><![CDATA[James]]></dc:creator>
		<pubDate>Mon, 19 Oct 2009 02:09:26 +0000</pubDate>
		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/10/18/mailbag-shutting-up-compiler-warnings/#comment-1508</guid>
					<description><![CDATA[What about:

(void) pb;

I think that&#039;s pretty idiomatic (at least in C), and I think should work fairly portably (conjecture on my part).]]></description>
		<content:encoded><![CDATA[<p>What about:</p>
<p>(void) pb;</p>
<p>I think that&#8217;s pretty idiomatic (at least in C), and I think should work fairly portably (conjecture on my part).</p>
]]></content:encoded>
					</item>
			</channel>
</rss>
