<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Sutter’s Mill | Herb Sutter on software development | Page 4</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965939&amp;back=https%3A%2F%2Fherbsutter.com%2Fpage%2F4%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJyNkN1uwjAMhV9onrUN1qtpz5K0JpjmT4kj1LfHpeoEglXcROck53Ns4zlDn6JQFAwNsm+OY0XPI1U8kWTTj3B1732tb/g8zvHAkWX6Ey+F5UhBf8nNYuAqk09p3AL7VEjvQzYyJwINbMhrjShbWMjfKzXLo060Ocw5axqszYVqBT0DtwBLsw/cCrmm1lJxMHeJtrEf0Pp03Z4tpkw4T0gPBZ4t4Z/obY88OJKKkjLkVFW9jNTUs/HAGrk3C8wYkyyPq9iq6iiBTmmEU7wzcPCGyxZaSPfjVDrU1I2dod/w87HffXZf3W7fnS4bTgAo?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s2.wp.com/_static/??-eJyF0G0KwjAMBuAL2dXJxP0Rz1Lr60hdP2zaDT29FSYiVIVAIHkISeQcBDk95hNYmhLXjHhbUmN4JX8BYWmIKqGx5F5Ye5fg0tNaf6QRIjOiGkqtDDr7iguekwVzQZXu50rkJsL8lxmkoPRFRDDdUTuEw3vn7x9Y1MHu267fbfp2263NA675cvs='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress.com" />
<link rel='shortlink' href='https://wp.me/eb5Y' />

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Sutter’s Mill" />
<meta property="og:description" content="Herb Sutter on software development" />
<meta property="og:url" content="https://herbsutter.com/" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965939" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="Herb Sutter on software development" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="home blog paged paged-4 mp6 customizer-styles-applied highlander-enabled highlander-light infinite-scroll neverending">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li class="current_page_item"><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">
					<div class="post-2865 post type-post status-publish format-standard hentry category-uncategorized" id="post-2865">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/11/15/trip-report-fall-iso-c-standards-meeting-issaquah/" rel="bookmark">Trip report: Fall ISO C++ standards meeting&nbsp;(Issaquah)</a></h2>
				<p class="postmetadata">2016-11-15 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><em>[ETA: Mentioning specific TSes expected to be merged soon post-C++17.]</em></p>
<p>On Saturday, the ISO C++ committee completed its fall meeting in Issaquah, WA, USA, hosted by Microsoft and the Standard C++ Foundation. We had over 110 people at the meeting, representing 10 national bodies. We also had more than usual local visitors – note that ISO C++ meetings are open and we always welcome people who are curious to see what goes on. As usual, we met for six days Monday through Saturday, including several evenings. Fun historical note: This meeting was held in the same hotel as the meeting that completed and shipped C++14.</p>
<p>The following are some highlights of what we achieved last week. You can find a brief summary of ISO procedures <a href="https://isocpp.org/std/iso-iec-jtc1-procedures">here</a>. The main things to note are:</p>
<ul>
<li>“IS” means “international standard.” In our case, it’s the core C++ standard itself. Think of this as “trunk.”</li>
<li>“TS” means “technical specification,” a document separate from the main standard where we can gain experience with new features before putting them into the IS. We have several of these, summarized on the <a href="http://isocpp.org/std/status">status page</a>. Think of these as “beta branches.”</li>
</ul>
<h1>C++17 completed its comment ballot, first of two (expected) meetings to address comments</h1>
<p>Draft C++17 hit its major feature-freeze at our previous meeting, and over the summer we conducted its major ISO comment ballot. So the primary focus at this meeting was addressing the review comments. Think of it as the “shakedown” stage of fixing bugs before release.</p>
<p>We expected to take two meetings to resolve all the comments, and we are on track. So at our next meeting we hope to finish addressing the ballot comments and any other fixes we can resolve and hopefully set C++17 in stone as we send it out for its possibly-final formal approval ballot. <em>(ISO administrative detail: I say “possibly-final” because as long as that ballot comes back with zero No votes, we can skip the actual final extra ballot, as we did with C++14. If for some reason it doesn’t, we’d run one more ballot over the summer. Either way, we’ll be done in 2017.)</em></p>
<p>We made some minor adjustments. For example, the <strong>std::variant</strong> type was tweaked to make it clear that <strong>Ts</strong> cannot be empty or contain <strong>void</strong> or <strong>T&amp;</strong> reference types.</p>
<p>Although we didn’t add any new features, we did agree to finally remove one: Old-style dynamic exception specifications were already deprecated, and have now been officially removed from the standard. They are superseded by <strong>noexcept.</strong></p>
<h1>Other progress</h1>
<p>Besides resolving C++17 ballot comments, we also worked on the TSes: We completed one, sent two out for their main ballots, and have two more expected to go out for their main ballots at the next meeting.</p>
<p>Here is a summary of progress, in rough order of expected delivery dates, starting with what we actually finished at this meeting:</p>
<p>The <strong>Library Fundamentals 2 TS</strong> is now done. This is another round of “beta” standard library extensions, and at this meeting we completed resolving its comment ballot results and approved sending the final text for publication.</p>
<p>The<strong> Networking </strong>TS and <strong>Ranges </strong>TS both reached feature-freeze and were sent out for their comment ballots. Both are expected to be completed and published in 2017.</p>
<p>The<strong> Modules</strong> TS and <strong>Coroutines</strong> TS are both “almost” ready to go out for their comment ballots. Both very nearly made it this time, but they need some final review and we expect both to go out for their comment ballots at our next meeting this winter. Depending on timing, they too might be done and published in 2017.</p>
<p>The<strong> Parallelism 2</strong> TS is in progress and should reach its comment ballot in a small number of meetings. The big news here is that it seems the concurrency subgroup has finally agreed on a unified executors proposal, which is important to be able to say “where” a piece of concurrent or parallel work executes. This is an important milestone and the result of copious amounts of effort across several meetings.</p>
<p>We also continued incubating other work. In particular, the <strong>Reflection</strong> study group reviewed the latest merged static reflection proposal and found it ready to enter the main Evolution groups at our next meeting to start considering the unified static reflection proposal for a TS or for the next standard.</p>
<h1>What’s next</h1>
<p>A lot of our C++ standardization work is reaching “ship stage” at about the same time, which is pretty exciting to see, so we’re in the middle of a busy handful of meetings. At our next <a href="https://isocpp.org/files/papers/n4573.txt">March 2017</a> meeting, we hope to finish addressing the ballot comments and plan to send C++17 out for its final approval ballot. We also expect to send out a few more TS “beta” branches out for review as mentioned above.</p>
<p>Then, once C++17 ships next year and possibly as soon as our July meeting, I expect we’ll start looking at merging more of the TS “beta branches” into the C++ “trunk,” including the published TSes that didn&#8217;t make the C++17 merge (notably Concepts and Concurrency). Here’s an updated snapshot of our status:</p>
<p><img data-attachment-id="2874" data-permalink="https://herbsutter.com/2016/11/15/trip-report-fall-iso-c-standards-meeting-issaquah/wg21-timeline-3/" data-orig-file="https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=500" data-orig-size="1901,1427" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-timeline" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=500?w=300" data-large-file="https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=500?w=500" class="alignnone size-full wp-image-2874" src="https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=500" alt="wg21-timeline" srcset="https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=500 500w, https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=1000 1000w, https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=150 150w, https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=300 300w, https://herbsutter.files.wordpress.com/2016/11/wg21-timeline.png?w=768 768w" sizes="(max-width: 500px) 100vw, 500px"   /></p>
<p>Thank you again to the over 110 experts at Issaquah last week, and the many more who participate in standardization through their national bodies! Have a good winter.</p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/11/15/trip-report-fall-iso-c-standards-meeting-issaquah/#comments">10 Comments &#187;</a>									</p>
							</div>
					<div class="post-2852 post type-post status-publish format-standard hentry category-uncategorized" id="post-2852">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/09/27/my-cppcon-talk-video-is-online/" rel="bookmark">My CppCon talk video is&nbsp;online</a></h2>
				<p class="postmetadata">2016-09-27 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>You can find it on <a href="https://www.youtube.com/watch?v=JfmTagWcqoE">YouTube here</a>. [ETA: <a href="https://github.com/CppCon/CppCon2016/blob/master/Presentations/Lifetime%20Safety%20By%20Default%20-%20Making%20Code%20Leak-Free%20by%20Construction/Lifetime%20Safety%20By%20Default%20-%20Making%20Code%20Leak-Free%20by%20Construction%20-%20Herb%20Sutter%20-%20CppCon%202016.pdf">Slides are here.</a>] Here&#8217;s an embed, below:<br />
<span class="embed-youtube" style="text-align:center; display: block;"><iframe class='youtube-player' type='text/html' width='560' height='315' src='https://www.youtube.com/embed/JfmTagWcqoE?version=3&#038;rel=1&#038;fs=1&#038;autohide=2&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></span></p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/09/27/my-cppcon-talk-video-is-online/#comments">12 Comments &#187;</a>									</p>
							</div>
					<div class="post-2778 post type-post status-publish format-standard hentry category-uncategorized" id="post-2778">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/09/25/to-store-a-destructor/" rel="bookmark">To store a&nbsp;destructor</a></h2>
				<p class="postmetadata">2016-09-25 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><em>[edited to add notes and apply Howard Hinnant&#8217;s de-escalation to static_cast]</em></p>
<p>After my talk on Friday, a couple of people asked me how I was storing destructors in my <a href="https://github.com/hsutter/gcpp">gcpp library</a>. Since several people are interested, I thought I&#8217;d write a note.</p>
<p>The short answer is to store two raw pointers: one to the object, and one to a type-erased destructor function that&#8217;s handy to write using a lambda.</p>
<p>In deferred_heap.h, you&#8217;ll see that the library stores a deferred destructor as:</p>
<pre>struct destructor {
    const void* p;
    void(*destroy)(const void*);
};</pre>
<p>So we store two raw pointers, a raw pointer to the object to be destroyed and a raw function pointer to the destructor. Then later we can just invoke <em>d.destroy(d.p)</em>.</p>
<p>The most common question is: &#8220;But how can you get a raw function pointer to the destructor?&#8221; I use a lambda:</p>
<pre>// Called indirectly from deferred_heap::make&lt;T&gt;.
// Here, t is a T&amp;.
dtors.push_back({
    std::addressof(t), // address of object
    [](const void* x) { static_cast&lt;const T*&gt;(x)-&gt;~T(); }
});                    // dtor to invoke</pre>
<p>A non-capturing lambda has no state so it can be used as a plain function, and because we know T here we just write a lambda that performs the correct cast back to invoke the correct T destructor. So for each distinct type T that this is instantiated with, we generate one T-specific lambda function (on demand at compile time, globally unique) and we store that function&#8217;s address.</p>
<p>Notes:</p>
<ul>
<li>The lambda gives a handy way to do type erasure in this case. One line removes the type, and the other line adds it back.</li>
<li>Yes, it&#8217;s legal to call the destructor on a const object. It has to be; we have to be able to destroy const objects. Const never applies to a constructor or destructor, it applies to all the other member functions.</li>
<li>Some have asked what the body of the wrapper lambda generates. I looked at the code gen in Clang a couple of weeks ago, and depending on the optimization level, the lambda is generated as either a one-instruction function (just a single <em>jmp</em> to the actual destructor) or as a copy of the destructor if it&#8217;s inlined (no run-time overhead at all, just another inline copy of the destructor in the binary if it&#8217;s generally being inlined anyway).</li>
<li>Because we are storing the destructor at the same time as we are constructing the T object, we know the complete object&#8217;s type is T and therefore can easily store the correct destructor for the complete object. Later, regardless of whether the list deferred_ptr keeping it alive is a deferred_ptr&lt;T&gt; or something else, such as a deferred_ptr&lt;const T&gt; or deferred_ptr&lt;BaseClass&gt; or deferred_ptr&lt;TDataMember&gt;, the correct T destructor will be called to clean up the complete object.</li>
</ul>
<p>I&#8217;ve now added a version of this to the gcpp readme FAQ section.</p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/09/25/to-store-a-destructor/#comments">14 Comments &#187;</a>									</p>
							</div>
					<div class="post-2733 post type-post status-publish format-standard hentry category-uncategorized" id="post-2733">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/09/22/my-talk-tomorrow-and-a-little-experimental-library/" rel="bookmark">My talk tomorrow, and a little experimental&nbsp;library</a></h2>
				<p class="postmetadata">2016-09-22 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>Thanks to everyone who responded to the <a href="https://herbsutter.com/2016/09/17/a-little-puzzle-for-cppcon/">little puzzle for CppCon</a> that I posted on the weekend. I&#8217;ll show a couple of answers in <a href="https://cppcon2016.sched.org/event/7opc/lifetime-safety-by-default-making-code-leak-free-by-construction">my talk tomorrow</a> at the conference, which will be recorded and should be available on YouTube in a week or so.</p>
<p>My talk will focus primarily on how to use the great <em>std::</em> facilities we already have in today&#8217;s C++, especially scoped lifetime, <em>unique_ptr</em>, and <em>shared_ptr</em>. Those are what you should prefer to use, in that order, to express object lifetimes in C++. In many basic situations, those tools let you express lifetime by construction with complete automation, good performance, and no extra coding work &#8212; the bee&#8217;s knees!</p>
<p>However, in some advanced situations, using today&#8217;s tools does still involve writing some manual code. In my talk I&#8217;ll cover how to do that by hand today.</p>
<p>Then at the end of the talk <strong>if time allows</strong>, I&#8217;ll offer some &#8220;very experimental&#8221; thoughts exploring whether some of that remaining manual code might be automatable, just as we automated single-owner-<em>new</em>/<em>delete</em> with <em>unique_ptr</em>, and automated multi-owner-<em>new</em>/<em>delete-</em>plus-reference-counting with <em>shared_ptr</em> and <em>weak_ptr</em>. To try the ideas out, I wrote a <a href="https://github.com/hsutter/gcpp">little demo library I call gcpp</a> [GitHub]. You can read about it at that link (but please also read the disclaimers!) and I&#8217;ll present parts of it at the end of my talk tomorrow if there&#8217;s time. Like any experiment, in the worst case it won&#8217;t work out and the ideas will be abandoned; in the best case, my hope is that it may contribute some interesting ideas to develop further.</p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/09/22/my-talk-tomorrow-and-a-little-experimental-library/#comments">7 Comments &#187;</a>									</p>
							</div>
					<div class="post-2731 post type-post status-publish format-standard hentry category-uncategorized" id="post-2731">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/09/17/a-little-puzzle-for-cppcon/" rel="bookmark">A little puzzle for&nbsp;CppCon</a></h2>
				<p class="postmetadata">2016-09-17 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>As CppCon begins, Stevens Capital Management is running an <strong><a href="https://scmchallenge.com/#!/">SCM Challenge quiz</a></strong> with questions provided by some CppCon speakers.(Creating a little login is required, in part so you can save progress, but they promise not to spam you.)</p>
<p>I&#8217;ve contributed a simple little question that&#8217;s directly related to my CppCon closing plenary session on Friday. By &#8220;simple little&#8221; I mean that my <em>question</em> itself is simple and can be illustrated well in a handful of short lines of code. Solving it with a valid <em>answer</em> is another matter, however. I wonder how many people will be able to give reasonable solutions[*] that pass the three short test cases&#8230;</p>
<p>Take a look, think about the question, and see if you can come up with a solution that works. Feel free to use the comments below to collaborate with others to solve the puzzle; if you&#8217;re at CppCon, use the great face time with other attendees to share possible solutions. If you succeed in writing a solution that prints &#8220;true&#8221; three times, they&#8217;ll email it to me and I&#8217;ll review it.</p>
<p>In my talk on Friday, I&#8217;ll present solutions to this and other lifetime problems. For those who aren&#8217;t here at CppCon in person, you&#8217;ll be able to catch the talk online on YouTube about a week later. (As always, all CppCon talks are being recorded and will be posted, but it will take a month or so to process and post all of the sessions &#8212; it takes a while to do professional-grade production for over 100 talks! Processing the plenary session videos is being expedited so that we can get those ones up quickly.)</p>
<p>I hope you enjoy the puzzle!</p>
<p>&nbsp;</p>
<p>[*] No fair hardcoding a hack that artificially prints the right results for just these three cases. I know how to do that too, but that&#8217;s evading the problem, not solving it. :)</p>
<p>&nbsp;</p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/09/17/a-little-puzzle-for-cppcon/#comments">40 Comments &#187;</a>									</p>
							</div>
					<div class="post-2660 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-2660">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/06/30/trip-report-summer-iso-c-standards-meeting-oulu/" rel="bookmark">Trip report: Summer ISO C++ standards meeting&nbsp;(Oulu)</a></h2>
				<p class="postmetadata">2016-06-30 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>On June 25, the ISO C++ committee completed its summer meeting in Oulu, Finland, hosted by Symbio and the Finnish national body.</p>
<p>We again had some 100 experts officially representing nine national bodies. As usual, we met for six days Monday through Saturday, and around the clock from 8:30am till 11pm most days – evening sessions regularly went a little later than the usual 10pm because it was Midsummer and there was literally no full night all week long at that short distance from the Arctic Circle, and people commonly did a double take when they looked at their watches and were surprised to find that it was already nearly midnight.</p>
<p>Here’s a summary of what happened, with some details about the current ISO C++ process so you can see just how the work is progressing and getting released. I’ve tried to add some links to the relevant feature design papers, or to the papers that summarize what was done which in turn usually carry more links to the design papers.</p>
<h1>C++17 is feature-complete, enters review period</h1>
<p>The big news is that C++ is feature-complete, and on time! We added several more features to the C++17 working paper (see next section), then approved the result to be sent out this summer for its major ISO international comment ballot, which is the Committee Draft or “CD” ballot.</p>
<p>Between now and our November meeting, national bodies around the world will be reviewing the draft and reporting any concerns about feature design details and wording correctness or consistency. Then for probably the next two meetings we’ll be addressing every national body comment and recording its resolution, as well as continuing to process our own known issues lists to fine-tune the text of the standard. That usually takes two meetings, and if that’s the case again this time then we’ll be putting the finishing touches on C++17 in our November and March meetings and then, we hope, sending C++17 out for its possibly-final ballot in the spring. If we need an extra meeting, then that would extend to the July meeting next year and the possibly-final ballot in late summer.</p>
<p>So C++17 is and tracking to ship on schedule next year. In my <a href="https://herbsutter.com/2016/03/11/trip-report-winter-iso-c-standards-meeting/">March trip report</a>, I mentioned that after completing C++11 we switched to a “train model” where we have been shipping the standard consistently every three years. So far, we have been running the trains on time: C++14 was actually the first C++ standard ever that shipped when expected, and now C++17 is on track to do it again. This is excellent news for the community because it enables implementers to track the standard closely, whereas in previous releases they often held back from implementing new features aggressively because with an open-ended schedule the committee could (and did) change its mind again about the design of some feature before the standard actually shipped. The ISO C++ committee is now sticking to a high quality bar, voting features in when they’re stable and releasing on time, which removes uncertainty and is a major reason why compilers are more in sync than ever before: After C++98 shipped, it took 5 years before we saw the first complete conforming compiler that implemented all language features (modulo bugs of course); after C++11 shipped, it took 3 years; when C++14 shipped, it took months. Now, many C++17 features are already available in major compilers, and I wouldn’t be surprised if C++17 repeated C++14’s synchronization with the community so that we see at least one major implementation that has all C++17 features in the same year that C++17 is published. This is great news for the community, because it means we have to play less of the “which compilers actually implement which features” game; true, we still need to deal with older compilers, and some compilers are still not as quick as others to ship the latest features, but all of the major compilers’ current releases are in closer sync with the standard than they’ve ever been before and even the delta between them continues to shrink, which is good news for all C++ users.</p>
<p style="padding-left:30px;"><strong>Note:</strong> Last time I mentioned that there was some thought of moving to a two-year cadence after C++17, but for now we’re staying with three years, so the next standard after C++17 will be C++20.</p>
<h1>More features added to C++17</h1>
<p>At this meeting, we added several more features into C++17; you can find a good summary of those features in <a href="https://www.reddit.com/r/cpp/comments/4pmlpz/what_the_iso_c_committee_added_to_the_c17_working/">Bryce Lelbach’s Reddit post</a>. Again, note that these are just the ones we added at this meeting; the complete list of C++17 features is longer. For example, see my <a href="https://herbsutter.com/2016/03/11/trip-report-winter-iso-c-standards-meeting/">March trip report</a> for what was added at the spring meeting.</p>
<h2>Language features</h2>
<p>Here are some of the more noticeable language features we added to C++17 in Oulu. I’ll merge from Bryce’s nice list (thanks Bryce!), my own comments in the previous trip report, and some new comments and examples:</p>
<p><strong><a href="http://wg21.link/P0035">Dynamic memory allocation for over-aligned data</a>:</strong> Extending the C++11 <em>alignof</em>/<em>alignas</em> for heap allocated memory control.</p>
<p><strong><a href="http://open-std.org/JTC1/SC22/WG21/docs/papers/2016/p0091r1.html">Template argument deduction for constructors</a></strong>, so that you can write just <em>pair p(2, 4.5);</em> instead of <em>pair<strong>&lt;int,double&gt;</strong> p(2, 4.5);</em> or <em>auto p = <strong>make_</strong>pair(2, 4.5);</em>. This is pretty sweet, including that it obsoletes many “make” helpers.</p>
<p><strong><em><a href="http://wg21.link/P0127">template &lt;auto&gt;</a></em>:</strong> Recall that templates can take “non-type parameters,” or ordinary compile-time values; a familiar example is <em>std::array&lt;widget,10&gt;</em> which is an array of 10 <em>widget</em> objects, passing 10 as a compile-time number. Well, as of C++11 we allow “auto”matically deducing the type of local variables:</p>
<pre>auto i = 10;           // deduces int</pre>
<p>and in the Concepts TS we allow “auto”matically deducing the type of parameters:</p>
<pre>void f(auto value) { } // same as template &lt;class T&gt; void f(T value);

f(10);                 // deduces int</pre>
<p>Now, with the <em>template&lt;auto&gt;</em> extension, C++17 will additionally allow the same to happen when you pass a value as a template parameter, which is just another place you can pass a value:</p>
<pre>template &lt;auto value&gt; void f() { }

f&lt;10&gt;();               // deduces int</pre>
<p><strong><a href="http://wg21.link/P0135">Guaranteed copy elision</a>:</strong> When you call a function that returns an object by value, and you use the copy to initialize a local variable, the language has always said that you copy (or move) twice. You may know that, since forever, C++ has also added, “but by the way, the compiler is allowed to elide (disappear) the extra copy.” With guaranteed copy elision, in many cases the C++17 language now says you copy (or move) once; that is, compiler is now <em>required</em> not to perform an extra copy or move, so that copy elision is no longer an optimization but a guaranteed language feature.</p>
<p>Richard Smith, the proposal author, provided the following additional notes and examples that show how the copy elision guarantee depends on what happens inside the function. In some cases, such as when the function returns a temporary of the right type, the new rules guarantee that zero copies will be performed, and the return type is not even required to be copyable or movable any more:</p>
<pre>T f() {
  return T{}; // no copy here (C++17)
}

T x = f();    // no copy here either (C++17)</pre>
<p>In other cases, where the named return value optimization (NRVO) would apply today, there is one copy and the compiler may elide the copy, but is not guaranteed to do so because there are cases where that could not be guaranteed:</p>
<pre>T g() {
  T t;
  return t;   // one copy, can be elided but elision is not guaranteed
}

T y = g();    // no copy here (C++17)</pre>
<p>And if the function returns something that really requires a copy, such as returning a reference parameter, you get exactly one copy:</p>
<pre>T h(T &amp;t) {
  return t;   // one guaranteed copy (by necessity)
}

T z = h(x);   // no copy here (C++17)</pre>
<p><strong><a href="http://wg21.link/P0145R2">Order of expression evaluation guarantees</a>:</strong> This removes portability and usability bugs. In a nutshell, a number of code examples that you thought worked, now actually do work. In particular, this solves the long-standing <a href="http://gotw.ca/gotw/056.htm"><em>f(new T, new T)</em> bug</a> that I wrote about nearly 20 years ago, fixes some examples in published books, and makes the brand-new <em>future&lt;T&gt;::then</em> chaining actually work correctly.</p>
<p><strong><a href="http://wg21.link/N4424">Inline variables</a>: </strong>This feature makes it easier to define global variables (that’s the bad news) correctly (that’s the good news), including in header files. The net effect is that some code people already write in practice, but shouldn’t have because it had subtle pitfalls, now works.</p>
<p><strong><em><u><a href="http://wg21.link/P0292R1">if constexpr</a></u>:</em></strong> This is a very powerful feature that allows branches that are evaluated at compile time. Note that this is a disciplined compile-time “if”, not just text substitution; the code in a false branch needs to be syntactically well-formed, but doesn’t need to be semantically valid.</p>
<p>This lets you express some pretty powerful stuff, including that a function template can write all the special cases of its algorithm right within its body (e.g., a fast algorithm for random-access iterators, and a fallback for less powerful iterators), without writing a set of template specializations.</p>
<p>It also works very nicely with C++14’s “auto” return type deduction for inline functions: It’s perfectly fine for two mutually exclusive <em>if constexpr</em> branches to return unrelated types since only one of the branches can be taken for a given set of inputs, and the correct return type will be deduced. Of course, within the same <em>if constexpr</em> branch the return types have to be compatible according to the current rules. In fact, we’ll see an example of this in the next topic…</p>
<p><strong><a href="http://wg21.link/P0144r2">Structured bindings</a>:</strong> This allows taking a value that contains multiple elements, such as a tuple or a struct, and binding convenient names to the individual elements – much like <em>std::tie</em>, except without having to have variables of the correct type already available. I was pleasantly surprised to see this one make it into C++17 even though it came in late in the cycle. Here’s a simple example of what it enables:</p>
<pre>tuple&lt;T1,T2,T3&gt; f();
auto [x,y,z] = f(); // types are: T1, T2, T3

map&lt;int,string&gt; mymap;
auto [iter, success] = mymap.insert(value); // types are: iterator, bool

struct mystruct { int i; string s; double d; };
mystruct s = { 1, “xyzzy”s, 3.14 };
auto [x,y,z] = s; // types are: int, string, double</pre>
<p>What if you want to add structured bindings for your own type that isn’t a struct or a tuple? I’m glad you asked, because it&#8217;s an excuse to also show off also how you can use <em>if constexpr</em>. Let’s say you&#8217;re the author of a type <em>S:</em></p>
<pre>class S {
   int i;
   char c[27];
   double d;
public:
   // ...
};</pre>
<p>Now you want to allow structured bindings for your type <em>S</em>, and for extra marks you don’t want to bind directly to the private variables but perhaps want member <em>c</em> to be bound as a <em>string_view</em> (also adopted for C++17; see below). Here’s how do add this ability; it’s a few lines, but you only have to do it once for all users of type <em>S</em>:</p>
<pre>// 1. Add tuple_size and tuple_element support
namespace std {
   template&lt;&gt; struct tuple_element&lt;0,S&gt; { using type = int; };
   template&lt;&gt; struct tuple_element&lt;1,S&gt; { using type = string_view; };
   template&lt;&gt; struct tuple_element&lt;2,S&gt; { using type = double; };
   template&lt;&gt; struct tuple_size&lt;S&gt;: public integral_constant&lt;size_t,3&gt; {};
}

// 2. Now add get&lt;&gt; support (using C++17, because why not; it’s better
// than =delete’ing the primary get&lt;&gt; template and adding specializations)
template&lt;int I&gt;
auto get(const S&amp;) {
   if      constexpr(I == 0) return x.i;
   else if constexpr(I == 1) return string_view{x.c}; }
   else if constexpr(I == 2) return x.d;
}</pre>
<p>Now all users of <em>S</em> can write code like this:</p>
<pre>S f();  // some function that returns an S

auto [ n, s, val ] = f(); // types are int, std::string_view, and double</pre>
<p><strong><a href="http://wg21.link/P0305r0"><em>if (init; condition)</em> and <em>switch (init; condition)</em></a>:</strong> Just like the venerable <em>for (int i = 0; /*&#8230;*/)</em> loop has always allowed declaring a variable (in that example, <em>i</em>) that exists for the scope of the loop, we will now be able to do the same for <em>if</em> and <em>switch</em> without having to resort to today’s workaround of declaring the variable before the <em>if</em> or <em>switch</em> and then wrapping it up in <em>{ }</em> to restrict its scope. Here’s an example of the new cleaner syntax, which allows more tightly-scoped variables:</p>
<pre>map&lt;int,string&gt; mymap;

if (auto result = mymap.insert(value); result.second) {
    // insert succeeded, and result is valid for this block
    use(result.first);  // ok
    // ...
} // result is destroyed here</pre>
<p>In fact, you might have noticed that I used a similar example for both structured bindings and for <em>if/switch</em> initialization. It took Reddit about 30 minutes to discover that they’re great together, like peanut butter and jelly:</p>
<pre>// better together: structured bindings + if initializer

if (auto [iter, succeeded] = mymap.insert(value); succeeded) {
    use(iter);  // ok
    // ...
} // iter and succeeded are destroyed here</pre>
<h2>Two language features that didn’t make it (yet)</h2>
<p>Of the new language features I mentioned last time, only two didn’t make it into C++17:</p>
<ul>
<li><strong><a href="http://open-std.org/JTC1/SC22/WG21/docs/papers/2016/p0252r0.pdf"><em>operator.</em> (dot)</a> </strong>to allow smart references (in parallel with smart pointers) and much more. During final core language wording review, the authors discovered a problem that couldn’t be fixed in real time at this meeting, and was pulled back while the authors fix the proposal. This proposal is still active and is expected to come back with a fix to that problem very soon, possibly as soon as in the next week or two for the post-meeting mailing; I’m hearing some rumblings that national bodies might mention this in their summer ballot comments, so we might see it again during C++17 ballot resolution, else I’d expect it to be one of the first things added to the draft standard once C++17 ships.</li>
<li><strong><a href="http://open-std.org/JTC1/SC22/WG21/docs/papers/2016/p0221r0.html">Defaulted comparisons</a></strong>, to generate <em>==, !=, &lt;, &lt;=, &gt;, &gt;=</em> for types that don’t write them by hand. The current version of the proposal is opt-out, and would generate comparisons for existing types. When the proposal got to the full committee, we discovered that the committee didn’t have consensus to approve the paper’s opt-out model; a number of people spoke up for an opt-in model instead. This proposal might eventually come back but probably not soon.</li>
</ul>
<h2>Standard library features</h2>
<p>Here are some of the library features that made it into C++17 at this meeting:</p>
<p><strong><em><a href="http://wg21.link/P0088r2">variant&lt;&gt;</a></em>:</strong> Don’t use raw unions any more. This addition completes the trifecta of <em>std::any</em> and <em>std::optional</em> (which were already added to C++17). The new <em>std::variant</em> is a type-safe union; for more background see also my <a href="https://herbsutter.com/2015/10/25/2568/">fall meeting trip report</a>. Here’s an example adapted from the paper that shows how you can use it:</p>
<pre>variant&lt;int, float, string&gt; v, w;
v = “xyzzy”;         // now v contains a string
v = 12;              // now v contains an int

int i = get&lt;int&gt;(v); // ok, because it contains an int

w = get&lt;int&gt;(v);     // ok, assign to another variant
w = get&lt;0&gt;(v);       // same effect as the previous line
w = v;               // same effect as the previous line

get&lt;double&gt;(v);      // compile-time error: v can’t contain a double
get&lt;3&gt;(v);           // compile-time error: v doesn’t have 4 types

try {
  get&lt;float&gt;(w);     // will throw: w contains an int, not a float
}
catch (bad_variant_access&amp;) {}</pre>
<p><strong><a href="http://wg21.link/P0083r2">Moving nodes between <em>map&lt;&gt;</em>, <em>unordered_map&lt;&gt;</em>, <em>set&lt;&gt;</em>, and <em>unordered_set&lt;&gt;</em></a>:</strong> You will now be able to directly move internal nodes from one node-based container directly into another container of the same type (differing at most in the comparator template parameter), either one node at a time or the whole container. Why is that important? Because it guarantees no memory allocation overhead, no copying of keys or values, and even no exceptions if the container’s comparison function doesn’t throw. The mechanics are provided by new functions <em>.extract</em> and <em>.move</em>, and corresponding new <em>.insert</em> overloads. Here’s an example adapted from the paper:</p>
<pre>map&lt;int, string&gt; src {{1,”one”}, {2,”two”}, {3,”buckle my shoe”}};
map&lt;int, string&gt; dst {{3,”three”}};

dst.insert(src.extract(src.find(1))); // iterator version
dst.insert(src.extract(2));           // key type version
auto r = dst.insert(src.extract(3));  // key type version
    // note: this last one will fail because dst already contains 3;
    // the node is owned by r, the returned struct

// At this point we have the following state:
//   src == {}
//   dst == {{1,“one”}, {2,“two”}, {3,“three”}}
//   r.position == dst.begin() + 2
//   r.inserted == false
//   r.node == {3,“buckle my shoe”}

// We can go back and retry the failed insert with a different key:
r.node.key() = 4;                      // use a non-conflicting value
dst.insert(r.position, std::move(r.node));  // now succeeds</pre>
<p><strong><a href="http://wg21.link/P0040r2">Extended memory management tools for in-place construction and destruction:</a></strong> These include <em>destroy(_at|_n), uninitialized_move(_n), uninitialized_value_construct(_n),</em> and <em>uninitialized_default_construct(_n)</em>.</p>
<h2>In case you missed it: <em>string_view</em> also in C++17</h2>
<p>C++17 also contains a number of other useful features. I’ve mentioned these before, including “small” but widely-used features like <em>optional</em> and <em>any</em>, right up to Parallel STL. But let me just take a moment to remark again on the wonderfulness of <em>string_view</em>, which is a non-owning view of a contiguous string owned by someone else.</p>
<p>If you have a <em>const string&amp;</em> parameter, consider just changing it to <em>string_view</em>. As Mark Isaacson mentioned in <a href="http://maintainablecode.logdown.com/posts/745037-tech-talk-exploring-c-17">his NDC talk</a> earlier this month, it’s pretty rare that you can get a performance boost by just doing a global search-and-replace, but Mark points out you can pretty much do that by globally replacing <em>const string&amp;</em> with <em>string_view</em> (with one exception noted in the next paragraph). Why is this often more efficient? In particular, when the caller passes something like a string literal as an argument, if your function takes it via a <em>const string&amp;</em> parameter that means the caller has to convert the string literal to a temporary <em>string</em> object, which typically incurs a heap allocation and deallocation, whereas passing it to a <em>string_view</em> incurs no allocation overhead at all.</p>
<p>However, beware one potential pitfall, especially until more of the world has migrated to <em>string_view</em>: If your function <em>f(/*some string*/ x)</em> internally calls one or more <em>other</em> functions that still take a <em>string&amp;</em> (either const or non-const), then let your function <em>f</em> continue to take <em>x</em> by <em>const string&amp;</em> and don’t change it to <em>string_view</em>. The reason is that if <em>f</em> is called with an actual <em>string</em> object, then <em>f(const string&amp; x)</em> can pass it along painlessly by reference, whereas <em>f(string_view x)</em> would avoid a copy when entering <em>f</em> but would need to create a new <em>string</em> internally just to pass it along to the other function that needs a <em>string</em>. Bottom line: If you know your function needs to call other functions that you don’t control and that take (possibly const) <em>string&amp;</em>, then you should probably leave your function taking <em>const string&amp;</em> too.</p>
<h1>C++17: Recognizably new</h1>
<p>C++17 will pervasively change the way we write C++ code, just as C++11 did. As these and other new features become available, we’re going to see new code using structured bindings, if/switch scope variables, <em>string_view</em>, <em>optional, any, variant,</em> Parallel STL, and more all over the place.</p>
<p>Here&#8217;s my personal litmus test for whether we’ve changed the way people program: Just as you can take a look at a screenful of code and tell that it’s C++11 (not C++98), if you can look at a screenful of code and tell that it’s C++17, then we’ve changed the way we program C++. I think C++17 will meet that bar.</p>
<p>Here’s a little “C++17 demo” put together by committee member Thomas Köppe, who is the author of the if/switch initializer proposal. It shows off a few of the features that will soon be available as part of C++17, and how they work together. Note this uses some other new C++17 features I didn’t specifically mention. I’ll let the comments speak for themselves; thanks, Thomas, for providing this demo.</p>
<pre>unordered_map&lt;string, unique_ptr&lt;Foo&gt;&gt; items;
vector&lt;unique_ptr&lt;Foo&gt;&gt; standby;

// Desired semantics of f: If there is currently no item 'id', install
// 'foo' as item 'id'. Otherwise, put 'foo' on the standby list for later.

//------------------------------------------------
// Before C++17: 7 lines + 4 pitfalls
//
void f(string id, unique_ptr&lt;Foo&gt; foo) {
   auto it = items.find(id);
   if (it == items.end()) {
      auto p = items.emplace(move(id), move(foo));
      p.first-&gt;second-&gt;launch();
   } else {
      standby.push_back(move(foo));
      standby.back()-&gt;wait_for_notification();
   }

   // Notes:  
   // * Variable 'id' can no longer be used (moved-from); or...  
   // * ...would need to pass by 'const string&amp; id' and force copying.
   // * Map lookup performed twice. Ordered map could use lower_bound +
   //   hint, but unordered map cannot.  
   // * (Cannot emplace unconditionally, because it might destroy *foo.)
}

//------------------------------------------------
// With C++17: 4 lines + none of those pitfalls
//
void f(string_view id, unique_ptr&lt;Foo&gt; foo) {
   if (auto [pos, inserted] = items.try_emplace(id, move(foo)); inserted){
      pos-&gt;second-&gt;launch();
   } else {
      standby.emplace_back(move(foo))-&gt;wait_for_notification();
   }
}</pre>
<h1>Other progress</h1>
<p>Because this time our focus was on completing C++17, we didn’t spend as much time on the other TSes as we did at a normal meeting, but we made progress on some of the TSes and will continue with all of them next time. In particular, the Reflection and 2D Graphics proposals received several hours of review each and are making great progress; at our next meeting we’ll continue with Ranges, Networking, Library Fundamentals 2, Parallelism 2, Modules, Coroutines, Contracts, and more.</p>
<h1>What’s next</h1>
<p>This summer, we’re going to send out the feature-complete C++17 out for its major international comment ballot. After that, we’ll address ballot comments at the <a href="https://isocpp.org/files/papers/N4571.pdf">November 2016</a> and <a href="https://isocpp.org/files/papers/n4573.txt">February-March 2017</a> meetings and plan to send C++17 out for its final approval ballot then.</p>
<p>Once C++17 ships next year, I expect we’ll start looking at merging more of the TS “beta branches” into the C++ “trunk.” Here’s an updated snapshot of our status:</p>
<p><img data-attachment-id="2724" data-permalink="https://herbsutter.com/2016/06/30/trip-report-summer-iso-c-standards-meeting-oulu/wg21-timeline-2/" data-orig-file="https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=500" data-orig-size="1901,1352" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-timeline" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=500?w=300" data-large-file="https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=500?w=500" class="alignnone size-full wp-image-2724" src="https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=500" alt="wg21-timeline" srcset="https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=500 500w, https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=1000 1000w, https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=150 150w, https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=300 300w, https://herbsutter.files.wordpress.com/2016/06/wg21-timeline.png?w=768 768w" sizes="(max-width: 500px) 100vw, 500px"   /></p>
<p>Thank you again to our host Symbio, to the over 100 experts at Oulu last week, and to the many more who participate in standardization through their national bodies, without whose efforts and willing collaborative spirit these results would not be achievable. The over four million C++ users worldwide benefit, and appreciate it very much too. Thank you, all, for your many contributions to Standard C++.</p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/06/30/trip-report-summer-iso-c-standards-meeting-oulu/#comments">54 Comments &#187;</a>									</p>
							</div>
					<div class="post-2627 post type-post status-publish format-standard hentry category-uncategorized" id="post-2627">
				<div class="posttitle">
			<h2><a href="https://herbsutter.com/2016/06/27/cppcast-interview-about-the-oulu-iso-c-meeting/" rel="bookmark">CppCast interview about the Oulu ISO C++&nbsp;meeting</a></h2>
				<p class="postmetadata">2016-06-27 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><img data-attachment-id="2643" data-permalink="https://herbsutter.com/2016/06/27/cppcast-interview-about-the-oulu-iso-c-meeting/logo2x/" data-orig-file="https://herbsutter.files.wordpress.com/2016/06/logo2x.png" data-orig-size="811,180" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logo2x" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=300&#038;h=67" data-large-file="https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=500" class=" size-medium wp-image-2643 alignright" src="https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=300&#038;h=67" alt="logo2x" width="300" height="67" srcset="https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=300&amp;h=67 300w, https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=600&amp;h=134 600w, https://herbsutter.files.wordpress.com/2016/06/logo2x.png?w=150&amp;h=33 150w" sizes="(max-width: 300px) 100vw, 300px" />On Saturday afternoon, at the ISO C++ meeting in Oulu, Finland, we completed the feature set of C++17 and approved sending out the feature-complete document for its primary international comment ballot (aka &#8220;CD&#8221; or Committee Draft ballot).</p>
<p>An hour later, I sat down (via Skype) with Rob and Jason to do a <strong><a href="http://cppcast.com/2016/06/herb-sutter/">CppCast interview about C++17</a></strong> and what happened at the just-concluded meeting. I hope you enjoy it. Also check out the two related links:</p>
<ul>
<li>Bryce Lelbach&#8217;s nice <a href="https://www.reddit.com/r/cpp/comments/4pmlpz/what_the_iso_c_committee_added_to_the_c17_working/">Reddit summary of the features that were just approved</a></li>
<li>The nice reminder about <a href="http://cppcon.org/regopen2016/">CppCon registration</a> (the early bird deadline is this Friday)</li>
</ul>
<p>Yesterday was a (long) travel day as many of us made our way back home &#8212; and had ad-hoc standards discussions in several different airport departure lounges. Now that I&#8217;m back in the office with my usual coffeemaker nearby, I&#8217;ll soon get around to writing up a written trip report. In the meantime, I hope you find the CppCast and other links useful.</p>
<p><em>(Interestingly, it just now occurs to me as I write this that one of the things we just adopted for C++17 make the CppCast subtitle needlessly verbose&#8230; the &#8220;&lt;C++&gt;&#8221; part can now be inferred! Cute. C++ without lots of angle brackets&#8230; who knew?)</em></p>
									</div>

				<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											<a href="https://herbsutter.com/2016/06/27/cppcast-interview-about-the-oulu-iso-c-meeting/#comments">4 Comments &#187;</a>									</p>
							</div>
				<p align="center" class="posts-nav-link">
			<a href="https://herbsutter.com/page/3/" >&#171; Newer Posts</a> - <a href="https://herbsutter.com/page/5/" >Older Posts &#187;</a>		</p>
</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/page/4/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
		<script type="text/javascript">
		//<![CDATA[
		var infiniteScroll = {"settings":{"id":"content-main","ajaxurl":"https:\/\/herbsutter.com\/?infinity=scrolling","type":"scroll","wrapper":true,"wrapper_class":"infinite-wrap","footer":true,"click_handle":"1","text":"Older posts","totop":"Scroll back to top","currentday":"27.06.16","order":"DESC","scripts":[],"styles":[],"google_analytics":false,"offset":4,"history":{"host":"herbsutter.com","path":"\/page\/%d\/","use_trailing_slashes":true,"parameters":""},"query_args":{"paged":4,"error":"","m":"","p":0,"post_parent":"","subpost":"","subpost_id":"","attachment":"","attachment_id":0,"name":"","pagename":"","page_id":0,"second":"","minute":"","hour":"","day":0,"monthnum":0,"year":0,"w":0,"category_name":"","tag":"","cat":"","tag_id":"","author":"","author_name":"","feed":"","tb":"","meta_key":"","meta_value":"","preview":"","s":"","sentence":"","title":"","fields":"","menu_order":"","embed":"","category__in":[],"category__not_in":[],"category__and":[],"post__in":[],"post__not_in":[],"post_name__in":[],"tag__in":[],"tag__not_in":[],"tag__and":[],"tag_slug__in":[],"tag_slug__and":[],"post_parent__in":[],"post_parent__not_in":[],"author__in":[],"author__not_in":[],"posts_per_page":7,"ignore_sticky_posts":false,"suppress_filters":false,"cache_results":false,"update_post_term_cache":true,"lazy_load_term_meta":true,"update_post_meta_cache":true,"post_type":"","nopaging":false,"comments_per_page":"50","no_found_rows":false,"order":"DESC"},"last_post_date":"2016-06-27 09:36:21","stats":"blog=3379246&v=wpcom&tz=-8&user_id=0&subd=herbsutter&x_pagetype=infinite"}};
		//]]>
		</script>
		<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	</div>
		<div id="infinite-footer">
			<div class="container">
				<div class="blog-info">
					<a id="infinity-blog-title" href="https://herbsutter.com/" rel="home">
						Sutter’s Mill					</a>
				</div>
				<div class="blog-credits">
					<a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a> 				</div>
			</div>
		</div><!-- #infinite-footer -->
		
	<div id="carousel-reblog-box">
		<form action="#" name="carousel-reblog">
			<textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Add your thoughts here... (optional)"></textarea>
			<label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Post to</label>
			<select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id">
						</select>

			<div class="submit">
				<span class="canceltext"><a href="#" class="cancel">Cancel</a></span>
				<input type="submit" name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblog Post" />
				<input type="hidden" id="carousel-reblog-blog-id" value="3379246" />
				<input type="hidden" id="carousel-reblog-blog-url" value="https://herbsutter.com" />
				<input type="hidden" id="carousel-reblog-blog-title" value="Sutter’s Mill" />
				<input type="hidden" id="carousel-reblog-post-url" value="" />
				<input type="hidden" id="carousel-reblog-post-title" value="" />
			</div>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="c0f0a72e87" /><input type="hidden" name="_wp_http_referer" value="/page/4/" />		</form>

		<div class="arrow"></div>
	</div>
<link rel='stylesheet' id='all-css-0-2' href='https://s0.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel.css?m=1524699534h&cssminify=yes' type='text/css' media='all' />
<!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel-ie8fix.css?m=1412618825h&#038;ver=20121024' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='all-css-2-2' href='https://s2.wp.com/wp-content/mu-plugins/tiled-gallery/tiled-gallery.css?m=1443731146h&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2016%2F11%2F15%2Ftrip-report-fall-iso-c-standards-meeting-issaquah%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/page\/4\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2Fpage%2F4%2F","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2016%2F11%2F15%2Ftrip-report-fall-iso-c-standards-meeting-issaquah%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"665015e67f","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2016%2F11%2F15%2Ftrip-report-fall-iso-c-standards-meeting-issaquah%2F","blog_id":"3379246","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblog","reblogged":"Reblogged","reblog_add_thoughts":"Add your thoughts here... (optional)","reblogging":"Reblogging...","post_reblog":"Post Reblog","stats_query_args":"blog=3379246&v=wpcom&tz=-8&user_id=0&subd=herbsutter","is_public":"1","reblog_enabled":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVUdFuwyAM/KFSt5q6Pk37FkqcxpQYhk3S/H1JpURTq0XaA9JxvrPPAGMyLrIiK3iBBgdymO57Lzv4VeqLSaFciQUC3VDgp2DBznITMG+IiVti0mkFr9pFKBOrvXd07UI9ivmd2Rhjm57YXGyG3kqVVmTigDlTU7Ou3D87aLbuJlsmpxR5Nq1oQ+1sjkUwgEdNtbNZiMVD7EKZA9ePkLGNF49O/3qwoa4WwYqgPg3Pe8ooc+Dv/ut4+vg8ns+H08E/AITttzI='></script>
<script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVy0sOQEAMANALqcYvYSHOgmkmpWoyirg9WyuxfIuHZ4BxVSM1XHYIsnvWDe1kM4owSD/OA0cHgQmVDoqkjtWn05bgnxu+Hws58L0IxeutZ3VLm1V5WRVlU+fTDQ0qQ9Y='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script type="text/javascript">
			jQuery.extend( infiniteScroll.settings.scripts, ["jquery-core","jquery-migrate","jquery","mobile-useragent-info","postmessage","jquery_inview","jetpack_resize","spin","jquery.spin","grofiles-cards","wpgroho","devicepx","jetpack_likes_queuehandler","the-neverending-homepage","syntaxhighlighter","wpcom-masterbar-js","wpcom-masterbar-tracks-js","wpcom-actionbar-bar","jetpack-carousel","swfobject","videopress","twitter-widgets","twitter-widgets-infinity","twitter-widgets-pending","tiled-gallery"] );
			jQuery.extend( infiniteScroll.settings.styles, ["jetpack_likes","the-neverending-homepage","infinity-mistylook","wpcom-core-compat-playlist-styles","mp6hacks","wpcom-bbpress2-staff-css","wp-block-library","mistylook","jetpack-top-posts-widget","jetpack-widget-social-icons-styles","noticons","geo-location-flair","reblogging","a8c-global-print","wpcom-actionbar-bar","h4-global","jetpack-carousel","tiled-gallery","jetpack-carousel-ie8fix"] );
		</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sLm1NQzAvbCs9fmlzanc4eVIzLk5RNC9Tdm1PLjBkPVU0bTE2ekZZcy1ERWE/SFhPQm5Ydl8tMzhBOE0zLC9wPWlxen5xLk9zNHN0Wms0eEdncUNmdSZrQ2tXaERRZmY2LUVnfndNbW5EWk9OVzAwaUNOQ2pqVE4xYkNuZGcxVlkycl11Y1ktZ3xbLTQ3N1dhYWlkMEJJcz1oVVRjUzJSN1ldT3VFV0xDRlVkZUhuSl1p'}]);
_stq.push([ 'clickTrackerInit', '3379246', '0' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>