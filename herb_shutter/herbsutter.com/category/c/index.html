<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>C++ | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965325&amp;back=https%3A%2F%2Fherbsutter.com%2Fcategory%2Fc%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; C++ Category Feed" href="https://herbsutter.com/category/c/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJyNkN1uwjAMhV9onrUN1qtpz5K0JpjmT4kj1LfHpeoEglXcROck53Ns4zlDn6JQFAwNsm+OY0XPI1U8kWTTj3B1732tb/g8zvHAkWX6Ey+F5UhBf8nNYuAqk09p3AL7VEjvQzYyJwINbMhrjShbWMjfKzXLo060Ocw5axqszYVqBT0DtwBLsw/cCrmm1lJxMHeJtrEf0Pp03Z4tpkw4T0gPBZ4t4Z/obY88OJKKkjLkVFW9jNTUs/HAGrk3C8wYkyyPq9iq6iiBTmmEU7wzcPCGyxZaSPfjVDrU1I2dod/w87HffXZf3W7fnS4bTgAo?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s2.wp.com/_static/??-eJyF0G0KwjAMBuAL2dXJxP0Rz1Lr60hdP2zaDT29FSYiVIVAIHkISeQcBDk95hNYmhLXjHhbUmN4JX8BYWmIKqGx5F5Ye5fg0tNaf6QRIjOiGkqtDDr7iguekwVzQZXu50rkJsL8lxmkoPRFRDDdUTuEw3vn7x9Y1MHu267fbfp2263NA675cvs='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress.com" />
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="Posts about C++ written by Herb Sutter" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="archive category category-c category-2426 mp6 customizer-styles-applied highlander-enabled highlander-light infinite-scroll neverending">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">
	              <h2 class="pagetitle">Archive for the &#8216;C++&#8217; Category</h2>
      		
			<div class="post-3673 post type-post status-publish format-standard hentry category-c" id="post-3673">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2018/07/02/trip-report-summer-iso-c-standards-meeting-rapperswil/" rel="bookmark">Trip report: Summer ISO C++ standards meeting&nbsp;(Rapperswil)</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a> on 2018-07-02|
													<a href="https://herbsutter.com/2018/07/02/trip-report-summer-iso-c-standards-meeting-rapperswil/#comments">25 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p>On Saturday June 9, the ISO C++ committee completed its summer meeting in beautiful Rapperswil, Switzerland, hosted with thanks by HSR Rapperswil, Zühlke, Netcetera, Bbv, SNV, Crealogix, Meeting C++, and BMW Car IT GmbH. We had some 140 people at the meeting, representing 11 national bodies. As usual, we met for six days Monday through Saturday, this time including all evenings.</p>
<p>Per our <a href="https://wg21.link/P1000">C++20 schedule</a>, this was the second-last meeting for merging major language features into C++20. So we gave priority to the major proposals that might make C++20 or otherwise could make solid progress, and we deferred other proposals to be considered at a future meeting — not at all as a comment on the proposals, but just for lack of time. We expect to get to these soon once C++20 is well in hand.</p>
<h1>Top news: Contracts adopted for C++20</h1>
<p><a href="https://wg21.link/p0542"><strong>Contracts (Gabriel Dos Reis, J. Daniel Garcia, John Lakos, Alisdair Meredith, Nathan Myers, Bjarne Stroustrup)</strong></a> was formally adopted for C++20.</p>
<p>Contracts allow preconditions, postconditions, and assertions to be expressed in code using a uniform syntax, with options to have different contract levels, custom violation handlers, and more.</p>
<p>Here are a few quick examples to get the flavor. Let’s start with perhaps the most familiar contract, <strong>assert</strong>:</p>
<pre>void f() {
    int x = g();
    int y = h();
<span style="color:#008000;"><strong>    [[assert: x+y &gt; 0]]</strong></span>
}</pre>
<p>“But wait,” someone might say, “C&#8217;s <strong>assert</strong> macro was good enough for my grandpappy, so shouldn’t it be good enough for me?” Never fear, you can still <strong>assert(x)</strong>, but if you respell it as <span style="color:#339966;"><strong>[[assert:x]]</strong></span> you get some benefits. For example:</p>
<ul>
<li>You’re not relying on a macro (unlike C assert). Yes, this matters, because macros are outside the language and routinely cause problems when using language features. For example, this was demonstrated again just a few days ago on Twitter by Nico Josuttis (HT: Alisdair Meredith), who pointed out that <strong>assert(c==std::complex&lt;float&gt;{0,0})</strong> does not compile; the reason is because macros don&#8217;t understand language commas, but <span style="color:#008000;"><strong>[[assert: c==std::complex&lt;float&gt;{0,0}]]</strong></span> works just fine without any surprises.</li>
<li>You get to install your own violation handler and ship a release build with the option of turning on enforcement at run time.</li>
<li>You get to express <span style="color:#008000;"><strong>audit</strong></span> to distinguish expensive checks to be run only when explicitly requested.</li>
<li>You get to express <span style="color:#008000;"><strong>axiom</strong></span> contracts that are intended to never generate run-time code but are available to static analysis tools.</li>
<li>Finally, you will likely get better performance, because contracts should enable compilers to perform more optimizations, more easily, than expressing them using assertions.</li>
</ul>
<p>But there’s more, because of course contracts are not just about assertions. They also include expects preconditions and ensures postconditions, which are part of the function declaration and so are visible at call sites:</p>
<pre>double sqrt(double x) <span style="color:#008000;"><strong>[[expects: x &gt;= 0]]</strong></span>;

void sort(vector&lt;emp&gt;&amp; v) <span style="color:#008000;"><strong>[[ensures audit: is_sorted(v)]]</strong></span>;
    // could be expensive, check only when audit is requested</pre>
<p>In addition to similar benefits as for assert, expects preconditions in particular deliver some enforcement benefits that are very desirable and difficult or impossible to get by hand:</p>
<ul>
<li>Preconditions are usually enforced at the call site, which is what we want most of the time because a precondition violation always means a programming bug in the calling code.</li>
<li>But preconditions can also be enforced in the callee, which can sometimes be necessary for pragmatic reasons, such as when the function is invoked through an opaque function pointer.</li>
<li>Preconditions and postconditions that are known at the call site also give the optimizer more information to potentially make your code fast.</li>
</ul>
<p>As a cheeky aside, if you noticed that I mentioned optimization several times, it’s for the usual reason: The simplest way to get C++ programmers to want a feature is to show that it can make their code faster, even if performance isn’t the only motivation or benefit.</p>
<h1>Why contracts are a big deal, and related Rapperswil progress</h1>
<p>In my opinion, contracts is the most impactful feature of C++20 so far, and arguably the most impactful feature we have added to C++ since C++11. That statement might surprise you, so let me elaborate why I think so.</p>
<p><strong>Having first-class contracts support it is the first major &#8220;step 1&#8221; of reforming error handling in C++</strong> and applying 30 years’ worth of learnings.</p>
<p><strong>Step 2 is to (gradually) migrate std:: standard library precondition violations in particular from exceptions (or error codes) to contracts.</strong> The programming world now broadly recognizes that programming bugs (e.g., out-of-bounds access, null dereference, and in general all pre/post/assert-condition violations) cause a corrupted state that cannot be recovered from programmatically, and so they should never be reported to the calling code as exceptions or error codes that code could somehow handle. Over the past three meetings (Albuquerque through Rapperswil), the Library Evolution Working Group (LEWG) voted unanimously to pursue <strong><a href="https://wg21.link/p0788r2">P0788R2 (Walter Brown)</a></strong> and relatedly in Rapperswil voted unanimously to pursue section 4.2 of <strong><a href="https://wg21.link/p0709">P0709 (my paper)</a></strong>, which includes pursuing a path of gradually migrating all standard library preconditions from exceptions toward contracts. (Note that in the near term, the idea is for implementations to be allowed, but not required, to use contracts. We are bringing the community forward gently here.)</p>
<p>Why is step 2 so important? Because it’s not just window dressing: Gradually switching precondition violations from exceptions to contracts promises to eventually remove a majority of all exceptions thrown by the standard library(!). This principle applies across programming languages; for examples, in Java and .NET some 90% of all exceptions are thrown for precondition violations (e.g., <strong>ArgumentNullException</strong>). Being able to eliminate a majority of all exceptions, which eventually enables many more functions to be <strong>noexcept</strong>, is a huge improvement for both correctness and performance:</p>
<ul>
<li><strong>Correctness: It eliminates a majority of the invisible control flow paths in our code.</strong> For example, over 20 years ago I wrote GotW #20 [<a href="http://gotw.ca/gotw/020.htm">Sutter 1997</a>] that shows how today a 4-line function has 3 normal execution paths and <em>20 invisible</em> exceptional execution paths; if we can eliminate a majority of the functions that can throw, we immediately remove a majority of the invisible possible execution paths in functions like this one, in all calling code.</li>
<li><strong>Performance: More </strong><strong>noexcept</strong><strong> enables more optimization and faster code.</strong> (You knew that was coming, right?)</li>
</ul>
<p>Once you change all preconditions (and postconditions and assertions) from exceptions to contracts, eliminating some of the largest categories of exceptions, one specific kind of exception dominates all others: <strong>bad_alloc</strong>. Which brings us to step 3…</p>
<p><strong>Step 3 is to consider handling heap exhaustion (out-of-memory, OOM) differently from other errors.</strong> If in addition to not throwing on precondition violations we also do not throw on OOM, the vast majority of all C++ standard library functions can be <strong>noexcept</strong>. — Needless to say, this would be a huge change where we need to tread carefully and measure impact and high-fidelity compatibility in major real code bases, and we don’t want people to panic about it or think we’ve lost our minds: We are serious about bringing code forward gently after validating good adoptability and low impact long before this gets near an actual standard.</p>
<p>Nevertheless, we are also serious about improving this, and the fundamental change is simple and already fully supported in C++ today: In Rapperswil, LEWG also voted unanimously to pursue section 4.3 of <strong><a href="https://wg21.link/p0709">P0709 (my paper)</a></strong> which proposes pursuing a path of gradually migrating all OOM from <strong>bad_alloc</strong> to <strong>new(nothrow)</strong>-like mechanisms. The initial contemplated step, definitely not for C++20, would be to change the default <strong>new_handler</strong> from throwing <strong>bad_alloc</strong> to calling <strong>terminate</strong>. That might sound like a big change, but it’s not, it’s already fully supported in C++ today because you can already change the <strong>new_handler</strong> to terminate today with a single line of code (<strong>std::set_new_handler([]{terminate();});</strong>), and this would just be changing the default and existing code that wants to keep the current behavior could still write simply the reverse single line of code (<strong>std::set_new_handler([]{throw std::bad_alloc();});</strong>) to get exactly the current behavior.</p>
<p>To repeat, this is a feature that will want a clear high-fidelity zero-breakage migration path, and we’re treating that compatibility seriously, even as we are also treating solving this problem seriously to modernize C++ error handling and move toward a mostly-<strong>noexcept</strong> world.</p>
<p>You can find a more detailed writeup in my new proposal <a href="https://wg21.link/p0709"><strong>P0709</strong></a>, particularly sections 1.1, 4.2, and 4.3. Again, P0709 is not for C++20, it is to illustrate a direction and potential path. The other parts of P0709 have not yet been reviewed by the full committee, so for now they should not be treated as anything more than a proposal, subject to much discussion and feedback over the coming several years.</p>
<h1>Other new features approved for C++20</h1>
<p>We adopted several other new features into the draft standard.</p>
<p><strong><a href="https://wg21.link/p0941">Feature test macros (Ville Voutilainen, Jonathan Wakely).</a></strong> This enables code to portably test whether a certain new C++ feature exists. “Why would I do that?” someone might ask. The primary and biggest benefit is <strong>they help your team to start to adopt new C++ features even before all your compilers support them</strong>; just write</p>
<pre>#if /*new feature is present*/ // temporary
<strong>    nice clean modern code!    // &lt;-- keep this long-term</strong>
#else                          // temporary
    do it the old way          // temporary
#endif                         // temporary</pre>
<p>and eventually drop the #if test and the whole #else block as soon as all your compilers are up to date. This is so much better than today, where one of two things happens: (1) Teams often wait until all their compilers support a given new C++ feature before they start to use it, which slows down adopting the new features and getting their benefits at least on the compilers that do support it. Or, (2) teams roll their own nonstandard nonportable compiler-specific “approximate” feature tests (e.g., write their own macro for “I know this feature is available on version ## of MSVC and version ## of GCC” by hand).</p>
<p>We all agree we don’t like macros. However, we don’t yet have replacements for all uses of macros, including this one, and these standard macros are better than rolling your own nonstandard ones or, more likely, just not using new C++ features at all for a longer time.</p>
<p>Some experts still disagree, and we respect their views, but in my view these feature test macros are an important and pragmatic help to improve the speed of adoption of new standard C++ features.</p>
<p><strong><a href="https://wg21.link/p0898">Standard library concepts (Casey Carter, Eric Niebler).</a></strong> This is the first part of the Ranges TS to be merged into C++20 at an upcoming meeting, and contains the core concepts from the Ranges TS. It is also the first appearance of the concepts language feature in the standard library. Expect more to come for C++20 (see Ranges, below).</p>
<p><strong><a href="https://wg21.link/p0732">Class Types in Non-Type Template Parameters (Jeff Snyder, Louis Dionne).</a></strong> Yes, you can now have types other than int and char as non-type template parameters. For example, in addition to <strong>template&lt;int Size&gt;</strong>, you can now have things like <strong>template&lt;fixed_string S&gt;</strong> for a suitably defined class type. It turns out that this builds on the <strong>&lt;=&gt;</strong> spaceship comparison operator; and if you’re wondering why, it’s because we know the semantics of a defaulted <strong>&lt;=&gt;</strong> comparison, which is essential because the compiler has to perform comparisons to determine whether two template instantiations are the same.</p>
<p>Note: I did not have this benefit in mind at all when I proposed <strong>&lt;=&gt;</strong>. I think this is a great example where, when you let programmers express intent explicitly as with <strong>&lt;=&gt;</strong>, and provide useful defaults, you are inherently adding more reliable information to the source code and will reap additional benefits because you can now build on knowledge of that clear programmer intent.</p>
<p><a href="https://wg21.link/p0892"><strong>explicit(bool) (Barry Revzin).</strong></a> This is conditional <strong>explicit</strong>, along the same lines as conditional <strong>noexcept</strong>. It lets library writers write <strong>explicit</strong> at a finer granularity, to turn off conversions where possible and feasible, without having to write two functions all the time.</p>
<p><strong><a href="https://wg21.link/p0476">Bit-casting object representations (JF Bastien).</a></strong> Header <strong>&lt;bit&gt;</strong> now lets you <strong>bit_cast.</strong> “But wait,” someone may be thinking, “don’t we already have <strong>reinterpret_cast</strong>?” Yes we do, and this is still a reinterpreting operation, but <strong>bit_cast</strong> has less unsafety and some additional flexibility: it ensures the sizes of the From and To types match, guarantees that they are both actually trivially copyable, and as a bonus makes the operation <strong>constexpr</strong> wherever possible.</p>
<p>Speaking of constexpr bit_cast, here are some more items in the “constexpr all the things!” department:</p>
<ul>
<li><strong><a href="https://wg21.link/p0879">“Constexpr for swap and swap related functions” (Antony Polukhin).</a></strong> Don’t be misled by the title, there are a lot of algorithms mentioned here.</li>
<li><strong><a href="https://wg21.link/p1064">“Allowing Virtual Function Calls in Constant Expressions” (Peter Dimov, Vassil Vassilev).</a></strong> Even if you weren’t surprised that we were thinking of <strong>constexpr new</strong> (we are), you might still be surprised about <strong>constexpr virtual</strong> functions. After all, virtual functions are dynamic, right? Yes they are… except when they run at compile time. So here’s another step to general C++ compile-time code.</li>
</ul>
<h1>Other progress and decisions</h1>
<p><strong>Reflection TS is feature-complete</strong>: The Reflection TS was declared feature-complete and is being sent out for its main comment ballot over the summer. Note again that the TS’s current template metaprogramming-based syntax is just a placeholder; the feedback being requested is on the core “guts” of the design, and the committee already knows it intends to replace the surface syntax with a simpler programming model that uses ordinary compile-time code and not <strong>&lt;&gt;</strong>-style metaprogramming.</p>
<p><strong>Parallelism TS2 is done</strong>: The second Parallelism TS is done! We completed ballot comment resolution, and approved the final TS for publication. This TS includes more execution policies, an <strong>exception_list</strong> type to communicate multiple parallel exceptions, and more parallel algorithms including wavefront, reductions, inductions, parallel for, and more. It also includes <strong>task_block</strong> support to enable writing custom parallel algorithms.</p>
<p><strong>Graphics (io2d) is deferred</strong>: Many thanks to Michael McLaughlin especially, and to Guy Davidson, Michael Kazakov, and David Ludwig for their assistance with the design, specification, and implementation of this cross-platform library. This is a project that has been worked on for several years, and for the past two years has been primarily responding to committee tweak requests; unfortunately, although the committee requested a series of updates to the proposal that have been applied, at this meeting the committee decided that it does not have interest to pursue further work on graphics in any form at this time after all. However, the io2d project will continue, and be available on package managers (Conan, vcpkg), and we expect a renewed proposal in the medium term; in the meantime, watch <a href="https://hatcat.com">Guy Davidson’s blog</a> for news and updates.</p>
<p>Also, LEWG adopted <a href="http://open-std.org/JTC1/SC22/WG21/docs/papers/2018/p0921r2.pdf">P0921r2</a> as a statement of their direction for future C++ standard library evolution compatibility guarantees.</p>
<h1>Updates on other major proposals</h1>
<p>Here are other major items in progress. You’ll notice that the first six (6!) of them mention expectations for our next meeting this November in San Diego. Not all of those items will make C++20 in San Diego, but people are going to try. It’s not surprising that San Diego is going to be a busy meeting, though; that was expected, because it’s the last meeting to merge major features into C++20, and deadlines are famously motivational. — Just <strong>do not</strong> expect all of the following to make C++20, and I’m listing them in rough order starting with the most likely to make it in.</p>
<p><strong>(very likely for C++20) Ranges</strong>: In my previous trip report I mentioned that the core concepts from the Ranges TS were expected to make C++20, but the rest of the Ranges TS would be “C++20 or C++23.” Since then we have made faster than expected progress, and it now looks like Ranges is “likely” to make C++20 in the next meeting or two. For those interested in details, in addition to all of the Ranges TS, also paper P0789 on Range Adaptors and Utilities have now progressed to detailed wording review and are targeting C++20. In sum, to quote Eric Niebler: “If you liked the Ranges TS, you’ll love C++20.”</p>
<p><strong>(likely for C++20) Concepts: “convenience” notation for constrained templates</strong>: We already added the concepts core feature to C++20, and at this meeting we had further discussions on adding a convenience syntax to write constrained templates without resorting to the low-level “<strong>requires</strong>” keyword. The two major active proposals that received discussion were from Bjarne Stroustrup and from me. The good news is that the Evolution Working Group (EWG) liked both, which means that for the first time we have a proposal based on the TS syntax (Bjarne’s preference) that could get consensus to be approved!</p>
<p>The key people are continuing to work to come up with a merged proposal that might be adoptable for C++20 in November in San Diego, and I’m pleased to report that as of this post-meeting mailing we for the first time have a unified proposal that lists most of the previous authors of papers in this area as coauthors, you can find it here: <strong><a href="https://wg21.link/P1141">P1141R0: “Yet another approach for constrained declarations.”</a></strong> I’m guardedly optimistic that we may have a winner here; we’ll know in San Diego. (I sometimes delay my trip report until the post-meeting mailing is available so that everyone can see the latest papers, and knowing that this new paper was coming was one reason I delayed this report.)</p>
<p><strong>(maybe for C++20) Coroutines</strong>: EWG considered an alternative, then decided to go forward with the TS approach. That came up for full committee vote but fell just short and was not adopted for C++20; the proposers will continue to work on improving consensus over the summer by addressing remaining concerns and we expect coroutines to be proposed again for C++20 at our November meeting in San Diego.</p>
<p><strong>Modules</strong>: For the first time, the committee saw a merged approach that both major proposers said satisfies their requirements; that announcement was met by applause in the room. The merged proposal aims to combine the “best of” the Modules TS and the Atom alternative proposal, and that direction was approved by EWG. EWG did not approve the poll to incorporate a subset of it into C++20 at this meeting; it is not yet clear whether part of the proposal can make C++20 but we are going to have an extra two-day meeting in September to help make progress and we expect it to be proposed again for C++20 at our November meeting in San Diego.</p>
<p><strong>Executors</strong>: This is still not expected to be part of C++20, but key people have not given up and are trying to make it happen, and one never can tell. We are going to hold an extra two-day meeting in September to help make progress on Executors, and expect to have a lively discussion about options to merge all or parts of it into C++20 in November in San Diego.</p>
<p><strong>Networking</strong>: This is pretty much ready except that it depends on Executors. Soon after Executors are ready for C++20, Networking is ready to slide in right behind it.</p>
<p>Clearly San Diego is going to be a busy meeting. But before then we have two extra design meetings on modules and executors to help improve their chances of progress; those will be co-located with <strong><a href="https://cppcon.org/">CppCon in September</a></strong>, to take place near the CppCon site on the days just before the conference begins. On top of that, there will also be an extra library wording issues meeting in the Chicago area in August… all in all, it’ll be a full summer and fall before we even get to San Diego.</p>
<p>Additionally, <strong>SG12</strong> had productive discussions about undefined behavior (including with participation from our sister ISO working group WG23, Programming Language Vulnerabilities), and <strong>SG15</strong> had a second exploratory evening session focusing on package managers for C++.</p>
<h1>What’s next</h1>
<p>Here is a cheat-sheet summary of our current expectations for some of the major pieces of work. Note that, as always, this is an estimate only. The bolded parts are the major changes from last time, including that Ranges as a whole is looking very likely for C++20.</p>
<p><img data-attachment-id="3675" data-permalink="https://herbsutter.com/2018/07/02/trip-report-summer-iso-c-standards-meeting-rapperswil/wg21-schedule-2018-06/" data-orig-file="https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=500" data-orig-size="1357,617" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-schedule-2018-06" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=500?w=300" data-large-file="https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=500?w=500" class="alignnone size-full wp-image-3675" src="https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=500" alt="wg21-schedule-2018-06" srcset="https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=500 500w, https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=1000 1000w, https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=150 150w, https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=300 300w, https://herbsutter.files.wordpress.com/2018/06/wg21-schedule-2018-06.png?w=768 768w" sizes="(max-width: 500px) 100vw, 500px"   /></p>
<p>And here is an updated snapshot of where we are on the timeline for C++20 and the TSes that are completed, in flight, or expected to begin:</p>
<p><img data-attachment-id="3674" data-permalink="https://herbsutter.com/2018/07/02/trip-report-summer-iso-c-standards-meeting-rapperswil/wg21-timeline-2018-06/" data-orig-file="https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=500" data-orig-size="1943,1339" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-timeline-2018-06" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=500?w=300" data-large-file="https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=500?w=500" class="alignnone size-full wp-image-3674" src="https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=500" alt="wg21-timeline-2018-06" srcset="https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=500 500w, https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=1000 1000w, https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=150 150w, https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=300 300w, https://herbsutter.files.wordpress.com/2018/06/wg21-timeline-2018-06.png?w=768 768w" sizes="(max-width: 500px) 100vw, 500px"   /></p>
<p>Thank you again to the approximately 140 experts who attended this meeting, and the many more who participate in standardization through their national bodies! Have a good spring… we look forward now to our next “extra” meetings in September (Bellevue, WA, USA) and the next regular WG21 meeting in November (San Diego, CA, USA).</p>
					<p><a href="https://herbsutter.com/2018/07/02/trip-report-summer-iso-c-standards-meeting-rapperswil/" rel="bookmark" title="Permanent Link to Trip report: Summer ISO C++ standards meeting&nbsp;(Rapperswil)">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3602 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3602">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/11/02/interview-on-clion-on-simplifying-c/" rel="bookmark">Interview: On simplifying&nbsp;C++</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-11-02|
													<a href="https://herbsutter.com/2017/11/02/interview-on-clion-on-simplifying-c/#comments">4 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p>I was also interviewed recently by Anastasia Kazakova for the CLion blog, and that interview is now live:</p>
<blockquote>
<h3><a href="https://blog.jetbrains.com/clion/2017/11/towards-a-more-powerful-and-simpler-cpp-with-herb-sutter/">Toward a more powerful and simpler C++ with Herb Sutter</a></h3>
</blockquote>
<p>Topics include:</p>
<ul>
<li>Concepts and modules (and coroutines) as the true hot topics right now</li>
<li>How my work on metaclasses was motivated and developed</li>
<li>Obligatory aside on operator&lt;=&gt; which grew out of the same work</li>
<li>Good and bad ways to learn from other languages and their experience</li>
<li>What are the next questions to be answered for metaclasses proposal</li>
<li>What has been the committee&#8217;s feedback so far</li>
<li>How can we expect to see reflection, compile-time code, injection, and metaclasses both progress in committee and get built into production compilers</li>
<li>How toolable are today&#8217;s C++11/14/17 features, and what about toolability for metaclasses</li>
</ul>
					<p><a href="https://herbsutter.com/2017/11/02/interview-on-clion-on-simplifying-c/" rel="bookmark" title="Permanent Link to Interview: On simplifying&nbsp;C++">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3578 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3578">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/10/25/my-qt-world-summit-keynote-video-is-now-online/" rel="bookmark">My Qt World Summit keynote video is now&nbsp;online</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-10-25|
													<a href="https://herbsutter.com/2017/10/25/my-qt-world-summit-keynote-video-is-now-online/#comments">4 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p>The Qt World Summit videos were just posted, including my talk which was a condensed (40-minute) version of my <a href="https://herbsutter.com/2017/09/28/my-cppcon-2017-session-is-now-on-youtube/">CppCon 2017 metaclasses talk</a> with some small tweaks for a Qt-specific audience.</p>
<p>Here it is below:</p>
<span class="embed-youtube" style="text-align:center; display: block;"><iframe class='youtube-player' type='text/html' width='500' height='282' src='https://www.youtube.com/embed/NunSS_ppDsI?version=3&#038;rel=0&#038;fs=1&#038;autohide=2&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;start=77&#038;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></span>
					<p><a href="https://herbsutter.com/2017/10/25/my-qt-world-summit-keynote-video-is-now-online/" rel="bookmark" title="Permanent Link to My Qt World Summit keynote video is now&nbsp;online">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3563 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3563">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/10/23/interview-with-infoq-c17-and-beyond/" rel="bookmark">Interview with InfoQ: C++17, and&nbsp;beyond&#8230;</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-10-23|
											</p>
				</div>

				<div class="entry">
					<p>Last week I did an interview by email with InfoQ. It just went live:</p>
<blockquote>
<h3 class="general"><a href="https://www.infoq.com/news/2017/10/cpp-17-herb-sutter-interview">C++17 is Here: Interview with Herb Sutter</a></h3>
</blockquote>
<p>Topics include:</p>
<ul>
<li>What parts of C++17 should developers get most excited about?</li>
<li>Why didn&#8217;t concepts make it into C++17?</li>
<li>What will be the major focus areas for C++20?</li>
<li>What do you find interesting or inspiring about new languages like Rust, Swift, and Go?</li>
<li>Any new books coming? What&#8217;s your main focus today?</li>
</ul>
					<p><a href="https://herbsutter.com/2017/10/23/interview-with-infoq-c17-and-beyond/" rel="bookmark" title="Permanent Link to Interview with InfoQ: C++17, and&nbsp;beyond&#8230;">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3325 post type-post status-publish format-standard hentry category-c category-effective-concurrency category-uncategorized" id="post-3325">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/09/05/update-on-october-seminar-in-london/" rel="bookmark">Update on October seminar in&nbsp;London</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/effective-concurrency/" rel="category tag">Effective Concurrency</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-09-05|
													<a href="https://herbsutter.com/2017/09/05/update-on-october-seminar-in-london/#comments">2 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p>As I mentioned earlier, part of my fall schedule is to give a repeat of <a href="https://herbsutter.com/2017/02/13/this-spring-high-performance-and-low-latency-c-stockholm-and-accu-bristol/">this spring&#8217;s</a> sold-out seminar: <a href="https://www.alfasoft.com/en/events/other/683-683-high-performance-and-low-latency-c-with-herb-sutter.html">&#8220;High-Performance and Low-Latency C++&#8221; (October 9-11, London, UK)</a>.</p>
<p>I am still getting mails about whether there are alternative/additional European dates for this seminar. Unfortunately, the answer is still no, but since I&#8217;m getting inquiries about it let me repeat that part of the earlier post:</p>
<blockquote><p>On October 9-11, I’ll be in London giving a one-time repeat of <a href="https://www.alfasoft.com/en/events/other/683-683-high-performance-and-low-latency-c-with-herb-sutter.html"><strong>“High-Performance and Low-Latency C++” </strong>(course details page)</a>. This is the same as the public course I gave in Stockholm [in April]; because that course sold out, and I was coming to Europe again for Qt World Summit anyway, we decided to do a single repeat that same week, this time in London.</p>
<p>Notes: (1) Some of you have emailed me asking if there will be other dates/cities, and the answer is no, sorry, I do seminars very rarely and this is the last one I have time to do for the foreseeable future. So if you are interested then this is the one to attend. (2) Some of you have also emailed me to ask whether the seminar will be recorded, and the answer is again no, sorry, the organizers are not set up for that. However, you can find all of my past <em>Effective Concurrency</em> writing (on which parts of this course are based) freely available via this blog, just search for that phrase or use the category tag — there’s a book’s worth of free material written by me in individual-article form.</p></blockquote>
<p>So, if you&#8217;re interested, I hope you&#8217;ll be able to attend this October, and I look forward to seeing many of you there.</p>
					<p><a href="https://herbsutter.com/2017/09/05/update-on-october-seminar-in-london/" rel="bookmark" title="Permanent Link to Update on October seminar in&nbsp;London">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3292 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3292">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" rel="bookmark">Metaclasses: Thoughts on generative&nbsp;C++</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-07-26|
													<a href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/#comments">78 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p>I’ve been working on an experimental new C++ language feature tentatively called “metaclasses” that aims to make C++ programming both more powerful and simpler. You can find out about it here:</p>
<ul>
<li><a href="https://herbsutter.files.wordpress.com/2017/07/p0707r1.pdf"><strong>Current proposal paper: P0707R1.</strong></a> I hope the first ten pages give a readable motivation and overview. (The best two pages to start with are 9 and 10, which probably means I need to reorder the paper…)</li>
<li><a href="https://youtu.be/6nsyX37nsRs"><strong>Initial intro talk video: ACCU 2017 (YouTube).</strong></a> This is the initial public presentation three months ago. Thank you to <strong>Roger Orr, Russel Winder, Julie Archer, and the other ACCU organizers</strong> for inviting me and for holding back the video until we could have the ISO C++ summer meeting about a week ago, so it could go live along with a report (herein) on the results of this feature’s first presentation to the ISO C++ committee. And special thanks to <strong>Ina and Arvid</strong>, the two audience volunteers who graciously agreed to come on-stage to participate in a live mini UX study. There’s a lot of subtle information in their nuanced reactions to the code examples; pay special attention when their responses are different or as their responses evolve.</li>
<li><strong>“Incomplete and experimental” prototype compiler.</strong> The Clang-based prototype by <strong>Andrew Sutton</strong> is available as an online live compiler at <a href="https://cppx.godbolt.org/">cppx.godbolt.org</a>, and as source at <a href="https://github.com/asutton/clang">github.com/asutton/clang</a>. It’s incomplete but can compile a number of the examples in the paper (see the paper for example code links). Thanks to <strong>Matt Godbolt</strong> for hosting it on godbolt.org!</li>
</ul>
<p>Please see the paper and video to answer “what are metaclasses and why should I care?” If you’re the “show me code first, English later” kind of person, try the live compiler and these quick examples: <a href="https://godbolt.org/g/Uzw5iJ">interface</a>, <a href="https://godbolt.org/g/sXmhkN">base_class</a>, <a href="https://godbolt.org/g/59LSSZ">value</a> (regular type), <a href="https://godbolt.org/g/2uMpF5">plain_struct</a> (these links are also in the paper).</p>
<p>The rest of this post aims not to duplicate any information above, but to provide some context about the broader journey, and what I and others are attempting to accomplish.</p>
<h1>A journey: Toward more powerful and simpler C++ programming</h1>
<h2>Phase 1: By using the existing language better</h2>
<p>About five years ago, I started working on long-term effort toward making using C++ simpler and safer.</p>
<p>In the first phase, a small group of us—centered on <strong>Bjarne Stroustrup, Gabriel Dos Reis, Neil MacIntosh </strong>and <strong>Andrew Pardoe</strong>—pushed to see how far we could get with “C++ as it is” plus just a few well-chosen library-only extensions, with a particular goal of improving type and memory safety. Bjarne, Neil, and I first publicly reported on this effort in the two CppCon 2015 plenary sessions <a href="https://www.youtube.com/watch?v=1OEu9C51K2A">“Writing Good C++14”</a> and <a href="https://www.youtube.com/watch?v=hEx5DNLWGgA">“Writing Good C++14… By Default.”</a> The results of that work so far have manifested as the <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">C++ Core Guidelines</a> and its support library <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#S-gsl">GSL</a> that adds a limited number of library types (e.g., <a href="https://wg21.link/P0122"><em>span</em>, now being standardized</a>); and I led the Lifetime design in particular (available in the <a href="https://github.com/isocpp/CppCoreGuidelines/tree/master/docs">Guidelines /docs folder</a>) which Neil and I and others continue to work on formalizing with the aim of sharing a “draft” static analysis spec later this year.</p>
<p>One of the goals of this phase was to answer the question: “How much progress can we make toward simplifying the existing C++ language with only a few key library extensions?” The answer as I see it turned out to be: “Some solid progress, but probably not a major simplification.” And so that answer led to phase two…</p>
<h2>Phase 2: By evolving the language</h2>
<p>Two years ago, I started to focus specifically on exploring ways that we might evolve the C++ language itself to make C++ programming both more powerful and simpler. The only way to accomplish both of those goals at the same time is by adding abstractions that let programmers directly express their intent—to elevate comments and documentation to testable code, and elevate coding patterns and idioms into compiler-checkable declarations. The work came up with several potential candidate features where judiciously adding some power to the language could simplify code dramatically.</p>
<p>Of those potential candidate features, metaclasses is the first major piece I picked to propose for ISO C++. [*] We presented it for the first time at the summer ISO C++ meeting earlier this month, and it received a warm reception. There was (rare) unanimous support for pursuing this kind of capability, but also some concern about how best to expose it and specific design change feedback the committee wants us to apply to improve the proposal. [**] We’ll work to include in a revision for the November standards meeting as we start the multi-year process of vetting and refining the proposal. So this is good progress, but note that it (only) means encouragement to continue the experiment and see where it leads; it’s far too early to talk about potential ship vehicles.</p>
<p>So do expect change: The proposal is still evolving, and it in turn assumes and builds on the <a href="https://wg21.link/P0578">static reflection proposal (P0578 et al.)</a> and the <a href="https://wg21.link/P0633">compile-time programming proposal (P0633)</a>, both of which are actively evolving in their own right. Incidentally, one of the contributions of Andrew Sutton’s prototype metaclasses compiler is that it is implementing those other proposals too(!), since the metaclasses feature needs them. The aim is to keep the latest compiler and the latest P0707 paper in sync with each other and with those related proposals, but there will doubtless be occasional drift in between syncs.</p>
<h1>What’s next</h1>
<p>I’ll talk about metaclasses more in my upcoming <a href="https://cppcon.org/2017-keynote-speakers/">CppCon 2017 talk</a> this September, and<strong> Andrew Sutton </strong>will also be giving two CppCon talks about metaclasses—one about implementing them in Clang, and one about using them for a real project.</p>
<p>This is just the beginning, and we’ll see whether it all pans out and leads somewhere, but I hope you enjoy this exploration and I look forward to talking with many of you about it at CppCon this September.</p>
<p>&nbsp;</p>
<p>———</p>
<h1>Notes</h1>
<p>[*] I actually brought a smaller piece from this same work to the committee at the previous meeting, the winter meeting in Kona: <a href="https://wg21.link/P0515">P0515</a> (consistent comparisons), which proposes adding the three-way <strong>&lt;=&gt;</strong> comparison operator. P0515 is only about a minor feature, and not one of the most important things that can help improve C++, so normally I wouldn’t have picked that piece to contribute first; but the committee was already continuing to actively discuss comparisons, so I cherry-picked it from my design work and contributed it since I had the design in my pocket anyway. Happily the committee liked what they saw and both EWG and LEWG accepted it, and it is now progressing well and on track to hopefully be voted into draft C++20 in the next meeting or two. Thanks to <strong>Jens Maurer</strong> and <strong>Walter Brown</strong> for the heavy lifting of writing the core language and library standardese wording, respectively, for that P0515 proposal.</p>
<p>[**] The committee’s design feedback was primarily about how to wrap up the transformation code: Instead of putting it inside a new “meta” class-like abstraction, how about wrapping the same code inside a compile-time function-like abstraction that takes an input meta::type parameter and returns a generated meta::type return value? This doesn’t affect the proposal’s basic engine, just the shape of its steering wheel—for example, we could change the first line of each example metaclass definition from the class-like syntax</p>
<pre>$class <strong>interface</strong> {
    constexpr {
        // … basically same code …
    }
};</pre>
<p>to the decorator-function-like syntax</p>
<pre>meta::type <strong>interface</strong>(const meta::type source) {
    // … basically same code …
};</pre>
<p>where the latter has the advantage that it’s easy to see that we’re reading one type and generating another type. Interestingly, I think this dovetails with the mini UX study in the video where most of the difficulty the UX participants seemed to encounter was in understanding the $class syntax, not the metaclass bodies and not later using the metaclasses to author new types.</p>
<p>But we’ll explore this and other options and validate/invalidate it with more experiments… and feel free to express your thoughts in the comments if you like one of these styles better, or perhaps another variation.</p>
					<p><a href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" rel="bookmark" title="Permanent Link to Metaclasses: Thoughts on generative&nbsp;C++">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
			<div class="post-3259 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3259">
				<div class="posttitle">
					<h2><a href="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/" rel="bookmark">Trip report: Summer ISO C++ standards meeting&nbsp;(Toronto)</a></h2>
					<p class="post-info">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> on 2017-07-15|
													<a href="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/#comments">16 Comments &#187;</a>											</p>
				</div>

				<div class="entry">
					<p><img data-attachment-id="3267" data-permalink="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/wg21-toronto-city/" data-orig-file="https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png" data-orig-size="645,861" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-toronto-city" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=225" data-large-file="https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=500" class="alignright size-medium wp-image-3267" src="https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=225&#038;h=300" alt="No, we didn't meet at city hall, but this shot was taken from the primary hotel which was across the street from city hall. Also, this building appears in Star Trek: http://spacing.ca/toronto/2013/10/01/star-trek-toronto-city-hall/" width="225" height="300" srcset="https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=225&amp;h=300 225w, https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=450&amp;h=600 450w, https://herbsutter.files.wordpress.com/2017/07/wg21-toronto-city-e1500123984972.png?w=112&amp;h=150 112w" sizes="(max-width: 225px) 100vw, 225px" /><em>[This post will be updated with additional details as mentioned in the comments section at bottom.]</em></p>
<p>A few minutes ago, the ISO C++ committee completed its summer meeting in Toronto, Ontario, Canada. We had some 120 people at the meeting, representing nine national bodies. As usual, we met for six days Monday through Saturday, including several evenings.</p>
<p>The following are some highlights of what we achieved this week. You can find a brief summary of ISO procedures <a href="https://isocpp.org/std/iso-iec-jtc1-procedures">here</a>. The main things to note are:</p>
<ul>
<li>“IS” means “international standard.” In our case, it’s the core C++ standard itself. Think of this as “trunk.”</li>
<li>“TS” means “technical specification,” a document separate from the main standard where we can gain experience with new features before putting them into the IS. We have several of these, summarized on the <a href="http://isocpp.org/std/status">status page</a>. Think of these as “beta branches.”</li>
</ul>
<p>Note: As I reported in my <a href="https://herbsutter.com/2017/03/24/trip-report-winter-iso-c-standards-meeting-kona-c17-is-complete/">previous trip report</a> for the winter meeting (Kona 2017), we have already completed our work on C++17, which is now still going through its final ISO approval steps. Nothing we did this week affects C++17, but we did begin work on C++20…</p>
<h2>First meeting for C++20</h2>
<p>This was the first meeting where we could vote changes into Draft C++20. And we did!</p>
<p>First, the<strong> Concepts TS </strong>was merged into draft C++20. Yes, Concepts are back in the draft international standard and better than C++0x, which makes the famous concepts feature (principally driven by Bjarne Stroustrup, Gabriel Dos Reis, and Andrew Sutton) the first major language feature voted into draft C++20. Recall that Concepts was published as a separate TS two years ago, and available in GCC; today we voted to adopt nearly of it, except only the “introducer syntax” and “terse/natural syntax” for now because that syntax still has a handful of remaining issues that don’t have consensus, but it’s close and Evolution also voted unanimously to aggressively pursue adding the terse syntax as soon as possible once those design questions can be addressed. A few specific Concepts changes were also approved along with the merge, notably removing the need to write &#8220;bool&#8221; and removing function concepts until we see a need to overload concepts.</p>
<p>Here are some other features that were added to C++20 at this meeting. Note: These links currently find the most recent pre-meeting papers and so may not reflect the exact wording adopted at the meeting, but the links will light up to the post-meeting versions of the papers that were actually adopted as soon as those are available in the post-meeting mailing about three weeks from now.</p>
<ul>
<li><a href="https://wg21.link/p0409">Allow lambda capture [=, this].</a> Mostly a style issue, but it extends the legal syntax for C++17’s capture of “this” so that programmers can write this stylistically if they want to be explicit in their code.</li>
<li><a href="https://wg21.link/p0329">Add designated initializers.</a> Draft C++20 now allows code like: struct A { int x; int y; int z; }; A b{<strong>.x =</strong> 1, <strong>.z =</strong> 2};</li>
<li><a href="https://wg21.link/p0428">Allow template parameter lists on lambdas.</a> For example: auto f = []<strong>&lt;typename T&gt;</strong>(std::vector&lt;T&gt; vector) { /*&#8230;*/ };</li>
</ul>
<h2>One TS sent for its ISO ballot, three TSes completed to be published</h2>
<p>We also spent quite a bit of the week working on three TSes that completed their review ballots, and sending out one more: The <strong>Modules TS</strong> is sent out for its comment and approval (PDTS) ballot. And the <strong>Coroutines TS</strong>, <strong>Networking TS</strong>, and <strong>Ranges TS</strong> are all done, as the groups worked hard to process and address all the comments from their ballots and we are sending them out for final publication. – It’s not every meeting that we publish three specifications! Some of them would have been handled at our last meeting, but we were busy finishing C++17 so they stacked up for this meeting.</p>
<p>Thank you very much again to all the volunteers who helped progress our proposals, send out our PDTSes, address our ballot comments and publish three (3) TSes, and get the C++20 cycle off to a roaring start.</p>
<h2>Other progress</h2>
<p>We considered merging one other published TS, the <strong>Concurrency TS</strong>. The feeling was that its three major features were in different stages of readiness, and some are advancing toward bring merged into C++20, possibly at our next meeting:</p>
<ul>
<li><strong>atomic_shared_ptr&lt;T&gt;</strong> is on track to be merged into C++20 with changes, in detailed standardese wording review and expected to be put up for approval at our next meeting. Interestingly, some of the changes are to make it more like the original design I proposed, including to name it atomic&lt;shared_ptr&lt;T&gt;&gt;.</li>
<li><strong>Latches</strong> are also approved, essentially as-is, and the feature is in wording review for the next meeting.</li>
<li><strong>Barriers</strong> are also potentially on track for C++20 but SG1 is still discussing open design problems. Its design can be expected to change substantially from the TS version.</li>
<li>Some minor pieces of the <strong>future</strong> extensions are moving ahead, but the extension has several unresolved design issues including to coordinate with the (we hope soon-coming) executors design.</li>
</ul>
<p>Other items making progress for possible consideration to be adopted in the fall meeting:</p>
<ul>
<li>The first part of <a href="https://wg21.link/P0194">compile-time reflection</a> is in wording review.</li>
<li>The library groups are starting to <a href="https://issues.isocpp.org/show_bug.cgi?id=311">remove deprecated features</a>.</li>
</ul>
<p>The Library Evolution group has started discussing at how to integrate modules and contracts into the standard library. They expect to start integrating concepts next meeting, which is a big benefit of getting a major feature merged early in the C++20 cycle. They are also actively working on <a href="https://wg21.link/P0244">Unicode support</a>, several new containers, and a <a href="https://wg21.link/P0355">date library</a>, among other things.</p>
<p>We also continued incubating other work. In particular, the <strong>Reflection</strong> study group had presentations, and gave direction and feedback, on a few additions to the static reflection proposal that is already progressing in the main subgroups, the compile-time programming proposal, and my new metaclasses paper. (I’ll post a separate report on the metaclasses part soon, probably in the next week or so, with a link to the ACCU video.)</p>
<h2>What’s next</h2>
<p>In my <a href="https://herbsutter.com/2016/11/15/trip-report-fall-iso-c-standards-meeting-issaquah/">trip report last fall</a>, two meetings ago, I wrote: “Then, once C++17 ships next year and possibly as soon as our July meeting, I expect we’ll start looking at merging more of the TS ‘beta branches’ into the C++ ‘trunk.’”</p>
<p>Well, that’s exactly what happened: We did finish C++17 at the next meeting, and now at the meeting after that we did merge our first major TS into the C++ trunk.</p>
<p>Here’s an updated snapshot of our status (the latest is always on the <a href="https://isocpp.org/std/status">isocpp.org/std/status</a> page):</p>
<p><a href="https://isocpp.org/files/img/wg21-timeline-2017-07b.png"><img data-attachment-id="3263" data-permalink="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/wg21-timeline-2017-07b/" data-orig-file="https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=500" data-orig-size="1937,1427" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wg21-timeline-2017-07b" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=500?w=300" data-large-file="https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=500?w=500" class="alignnone size-full wp-image-3263" src="https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=500" alt="wg21-timeline-2017-07b" srcset="https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=500 500w, https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=1000 1000w, https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=150 150w, https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=300 300w, https://herbsutter.files.wordpress.com/2017/07/wg21-timeline-2017-07b.png?w=768 768w" sizes="(max-width: 500px) 100vw, 500px"   /></a></p>
<p>Thank you again to the 120 experts in Toronto this week, and the many more who participate in standardization through their national bodies! Have a good summer – and see you at <a href="https://cppcon.org/">CppCon</a>!</p>
					<p><a href="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/" rel="bookmark" title="Permanent Link to Trip report: Summer ISO C++ standards meeting&nbsp;(Toronto)">Read Full Post &raquo;</a></p>
				</div>
							</div>

		
		<p align="center"><a href="https://herbsutter.com/category/c/page/2/" >Older Posts &raquo;</a></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/category/c/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426 current-cat"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
		<script type="text/javascript">
		//<![CDATA[
		var infiniteScroll = {"settings":{"id":"content-main","ajaxurl":"https:\/\/herbsutter.com\/?infinity=scrolling","type":"scroll","wrapper":true,"wrapper_class":"infinite-wrap","footer":true,"click_handle":"1","text":"Older posts","totop":"Scroll back to top","currentday":"15.07.17","order":"DESC","scripts":[],"styles":[],"google_analytics":false,"offset":0,"history":{"host":"herbsutter.com","path":"\/category\/c\/page\/%d\/","use_trailing_slashes":true,"parameters":""},"query_args":{"category_name":"c","error":"","m":"","p":0,"post_parent":"","subpost":"","subpost_id":"","attachment":"","attachment_id":0,"name":"","pagename":"","page_id":0,"second":"","minute":"","hour":"","day":0,"monthnum":0,"year":0,"w":0,"tag":"","cat":2426,"tag_id":"","author":"","author_name":"","feed":"","tb":"","paged":0,"meta_key":"","meta_value":"","preview":"","s":"","sentence":"","title":"","fields":"","menu_order":"","embed":"","category__in":[],"category__not_in":[],"category__and":[],"post__in":[],"post__not_in":[],"post_name__in":[],"tag__in":[],"tag__not_in":[],"tag__and":[],"tag_slug__in":[],"tag_slug__and":[],"post_parent__in":[],"post_parent__not_in":[],"author__in":[],"author__not_in":[],"posts_per_page":7,"ignore_sticky_posts":false,"suppress_filters":false,"cache_results":false,"update_post_term_cache":true,"lazy_load_term_meta":true,"update_post_meta_cache":true,"post_type":"","nopaging":false,"comments_per_page":"50","no_found_rows":false,"order":"DESC"},"last_post_date":"2017-07-15 07:39:08","stats":"blog=3379246&v=wpcom&tz=-8&user_id=0&subd=herbsutter&x_pagetype=infinite"}};
		//]]>
		</script>
		<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	</div>
		<div id="infinite-footer">
			<div class="container">
				<div class="blog-info">
					<a id="infinity-blog-title" href="https://herbsutter.com/" rel="home">
						Sutter’s Mill					</a>
				</div>
				<div class="blog-credits">
					<a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a> 				</div>
			</div>
		</div><!-- #infinite-footer -->
		
	<div id="carousel-reblog-box">
		<form action="#" name="carousel-reblog">
			<textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Add your thoughts here... (optional)"></textarea>
			<label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Post to</label>
			<select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id">
						</select>

			<div class="submit">
				<span class="canceltext"><a href="#" class="cancel">Cancel</a></span>
				<input type="submit" name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblog Post" />
				<input type="hidden" id="carousel-reblog-blog-id" value="3379246" />
				<input type="hidden" id="carousel-reblog-blog-url" value="https://herbsutter.com" />
				<input type="hidden" id="carousel-reblog-blog-title" value="Sutter’s Mill" />
				<input type="hidden" id="carousel-reblog-post-url" value="" />
				<input type="hidden" id="carousel-reblog-post-title" value="" />
			</div>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="c0f0a72e87" /><input type="hidden" name="_wp_http_referer" value="/category/c/" />		</form>

		<div class="arrow"></div>
	</div>
<link rel='stylesheet' id='all-css-0-2' href='https://s0.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel.css?m=1524699534h&cssminify=yes' type='text/css' media='all' />
<!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel-ie8fix.css?m=1412618825h&#038;ver=20121024' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='all-css-2-2' href='https://s2.wp.com/wp-content/mu-plugins/tiled-gallery/tiled-gallery.css?m=1443731146h&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2018%2F07%2F02%2Ftrip-report-summer-iso-c-standards-meeting-rapperswil%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/category\/c\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2Fcategory%2Fc%2F","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2018%2F07%2F02%2Ftrip-report-summer-iso-c-standards-meeting-rapperswil%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"665015e67f","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2018%2F07%2F02%2Ftrip-report-summer-iso-c-standards-meeting-rapperswil%2F","blog_id":"3379246","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblog","reblogged":"Reblogged","reblog_add_thoughts":"Add your thoughts here... (optional)","reblogging":"Reblogging...","post_reblog":"Post Reblog","stats_query_args":"blog=3379246&v=wpcom&tz=-8&user_id=0&subd=herbsutter","is_public":"1","reblog_enabled":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVUdFuwyAM/KFSt5q6Pk37FkqcxpQYhk3S/H1JpURTq0XaA9JxvrPPAGMyLrIiK3iBBgdymO57Lzv4VeqLSaFciQUC3VDgp2DBznITMG+IiVti0mkFr9pFKBOrvXd07UI9ivmd2Rhjm57YXGyG3kqVVmTigDlTU7Ou3D87aLbuJlsmpxR5Nq1oQ+1sjkUwgEdNtbNZiMVD7EKZA9ePkLGNF49O/3qwoa4WwYqgPg3Pe8ooc+Dv/ut4+vg8ns+H08E/AITttzI='></script>
<script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVy0sOQEAMANALqcYvYSHOgmkmpWoyirg9WyuxfIuHZ4BxVSM1XHYIsnvWDe1kM4owSD/OA0cHgQmVDoqkjtWn05bgnxu+Hws58L0IxeutZ3VLm1V5WRVlU+fTDQ0qQ9Y='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script type="text/javascript">
			jQuery.extend( infiniteScroll.settings.scripts, ["jquery-core","jquery-migrate","jquery","mobile-useragent-info","postmessage","jquery_inview","jetpack_resize","spin","jquery.spin","grofiles-cards","wpgroho","devicepx","jetpack_likes_queuehandler","the-neverending-homepage","syntaxhighlighter","wpcom-masterbar-js","wpcom-masterbar-tracks-js","wpcom-actionbar-bar","jetpack-carousel","swfobject","videopress","twitter-widgets","twitter-widgets-infinity","twitter-widgets-pending","tiled-gallery"] );
			jQuery.extend( infiniteScroll.settings.styles, ["jetpack_likes","the-neverending-homepage","infinity-mistylook","wpcom-core-compat-playlist-styles","mp6hacks","wpcom-bbpress2-staff-css","wp-block-library","mistylook","jetpack-top-posts-widget","jetpack-widget-social-icons-styles","noticons","geo-location-flair","reblogging","a8c-global-print","wpcom-actionbar-bar","h4-global","jetpack-carousel","tiled-gallery","jetpack-carousel-ie8fix"] );
		</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sQnxvZT1CP1o0ZitNdCU9TmRMYWw3TC1pb0JIcHdOfkNBOSZoeXBnaUIrcHVSWUlhbzVSTUlEW0E9NkR3OHNjeCt5YmtialBvZi1jVn4wLElKSUssSnF3aGpUenVabEczOVV6UFEyVmxSdlg3c3ZGSStpNltGUVFwRz8rV24/U1BoRytuSTJlVlVRJVVZX3g3OGQ/Ly5VT3ZIQzltLFUrRix6R2FudVFBUVJtc0MuRlNRJUQ5'}]);
_stq.push([ 'clickTrackerInit', '3379246', '0' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>