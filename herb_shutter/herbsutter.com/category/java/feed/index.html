<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>Java &#8211; Sutter’s Mill</title>
	<atom:link href="https://herbsutter.com/category/java/feed/" rel="self" type="application/rss+xml" />
	<link>https://herbsutter.com</link>
	<description>Herb Sutter on software development</description>
	<lastBuildDate>
	Fri, 23 Nov 2018 09:31:49 +0000	</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='herbsutter.com' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>Java &#8211; Sutter’s Mill</title>
		<link>https://herbsutter.com</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
	<atom:link rel='hub' href='https://herbsutter.com/?pushpress=hub'/>
	<item>
		<title>Recommended reading: Why mobile web apps are slow (Drew Crawford)</title>
		<link>https://herbsutter.com/2013/07/09/recommended-reading-why-mobile-web-apps-are-slow-drew-crawford/</link>
				<comments>https://herbsutter.com/2013/07/09/recommended-reading-why-mobile-web-apps-are-slow-drew-crawford/#comments</comments>
				<pubDate>Tue, 09 Jul 2013 16:47:02 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Software Development]]></category>
		<category><![CDATA[Web]]></category>

		<guid isPermaLink="false">http://herbsutter.com/?p=2224</guid>
				<description><![CDATA[I don&#8217;t often link to other articles, but this one is worth reading. Why mobile web apps are slow by Drew Crawford … So if you are trying to figure out exactly what brand of crazy all your native developer friends are on for continuing to write the evil native applications on the cusp of [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>I don&#8217;t often link to other articles, but this one is worth reading.</p>
<blockquote><p><a href="http://sealedabstract.com/rants/why-mobile-web-apps-are-slow/"><span style="font-size:14pt;">Why mobile web apps are slow</span></a></p>
<p>by Drew Crawford</p>
<p>… So if you are trying to figure out exactly what brand of crazy all your native developer friends are on for continuing to write the evil native applications on the cusp of the open web revolution, or whatever, then bookmark this page, make yourself a cup of coffee, clear an afternoon, find a comfy chair, and then we&#8217;ll both be ready.<span style="font-size:14pt;"><br />
</span></p></blockquote>
<p>He offers data (imagine!) to justly debunk many common memes and &#8220;easy answers&#8221; that routinely litter HN/Reddit/Slashdot comment threads. The piece is also often subtly (and intentionally) hilarious – do watch for the subtle humor, not just the obvious wit.</p>
<p>Don&#8217;t be distracted by the author&#8217;s viewpoint and emphasis on &#8220;iOS and Javascript&#8221; development – the article covers lots of important ground, including:</p>
<ul>
<li>developing for ARM vs. x86;</li>
<li>developing for desktop vs. mobile;</li>
<li>managed vs. native code performance;</li>
<li>JIT issues vs. inherent language design tensions;</li>
<li>why garbage collection is not at all the panacea it&#8217;s often billed to be and often needs to be emphatically avoided (did you realize Apple already jettisoned GC?); and</li>
<li>as many of you know already, why if you&#8217;re serious about performance you&#8217;ll be <em>seriously</em> serious about memory usage and access patterns as a first-order issue.</li>
</ul>
<p>I agree with most of it, and not just because he quotes from my <a href="https://herbsutter.com/2012/04/02/reader-qa-when-will-better-jits-save-managed-code">When Will Better JITs Save Managed Code</a> blog post from last year.</p>
<p>Recommended.</p>
<h3>Spoilers</h3>
<p>A few takeaways from the conclusion (spoiler alert):</p>
<blockquote><p>Garbage collection is exponentially bad in a memory-constrained environment. It is way, way worse than it is in desktop-class or server-class environments.</p></blockquote>
<blockquote><p>Every competent mobile developer, whether they use a GCed environment or not, spends a great deal of time thinking about the memory performance of the target device</p></blockquote>
<blockquote><p>JavaScript, as it currently exists, is fundamentally opposed to even allowing developers to think about the memory performance of the target device</p></blockquote>
<blockquote><p>If they did change their minds and allowed developers to think about memory, experience suggests this is a technically hard problem.</p></blockquote>
<blockquote><p>asm.js show some promise, but even if they win you will be using C/C++ or similar &#8220;backwards&#8221; language as a frontend, rather than something dynamic like JavaScript</p></blockquote>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2013/07/09/recommended-reading-why-mobile-web-apps-are-slow-drew-crawford/feed/</wfw:commentRss>
		<slash:comments>36</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
		<item>
		<title>Java vulnerabilities</title>
		<link>https://herbsutter.com/2013/01/15/java-vulnerabilities/</link>
				<comments>https://herbsutter.com/2013/01/15/java-vulnerabilities/#comments</comments>
				<pubDate>Wed, 16 Jan 2013 00:08:30 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Software Development]]></category>

		<guid isPermaLink="false">http://herbsutter.wordpress.com/?p=1703</guid>
				<description><![CDATA[With the help of friends Robert Seacord and David Svoboda of CERT in particular, I posted a note and link to their CERT post today because people have been misunderstanding the recent Java vulnerabilities, thinking they’re somehow really C or C++ vulnerabilities because Java is implemented in C and C++. From the post: Are the [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="http://www.cert.org/blogs/certcc/2013/01/anatomy_of_java_exploits.html"><img style="float:right;margin:0 0 0 10px;display:inline;" alt="" align="right" src="https://i0.wp.com/isocpp.org/files/img/cert-java-exploit_1.PNG" width="447" height="309" /></a>With the help of friends Robert Seacord and David Svoboda of CERT in particular, I <a href="http://isocpp.org/blog/2013/01/are-the-java-vulnerabilities-actually-c-and-c-vulnerabilities">posted a note</a> and link to their CERT post today because people have been misunderstanding the recent Java vulnerabilities, thinking they’re somehow really C or C++ vulnerabilities because Java is implemented in C and C++.</p>
<p>From the post:</p>
<blockquote>
<h3><a href="http://isocpp.org/blog/2013/01/are-the-java-vulnerabilities-actually-c-and-c-vulnerabilities">Are the Java vulnerabilities actually C and C++ vulnerabilities?</a></h3>
<p>by Herb Sutter</p>
<p>&#160;</p>
<p>You’ve probably seen the headlines:</p>
</blockquote>
<blockquote>
<h5><a href="http://www.cert.org/blogs/certcc/2013/01/java_in_web_browser_disable_no.html"><em>[US-CERT] Java in Web Browser: Disable Now!</em></a></h5>
<p><em>We’ve been telling people to disable Java for years. … We have confirmed that VU#625617 can be used to reliably execute code on Windows, OS X, and Linux platforms. And the exploit code for the vulnerability is publicly available and already incorporated into exploit kits. This should be enough motivation for you to turn Java off.</em></p>
<h5><a href="http://dottech.org/92964/firefox-and-apple-have-blocked-java-while-u-s-homeland-security-recommends-everyone-disable-it-because-of-vulnerabilities/"><em>Firefox and Apple have blocked Java while U.S. Homeland Security recommends everyone disable it, because of vulnerabilities</em></a></h5>
<h5><a href="http://news.cnet.com/8301-1009_3-57563951-83/homeland-security-still-advises-disabling-java-even-after-update/"><em>Homeland Security still advises disabling Java, even after update</em></a></h5>
</blockquote>
<blockquote>
<p>Some people have asked whether last week’s and similar recent Java vulnerabilities are actually C or C++ vulnerabilities – because, like virtually all modern systems software, Java is implemented in C and C++.</p>
<p>The answer is no, these particular exploits are pure Java. Some other exploits have indeed used vulnerabilities in Java’s native C code implementation, but the major vulnerabilities in the news lately are in Java itself, and they enable portable exploits on any operating system with a single program. …</p>
</blockquote>
<p>Some other C++ experts who have better sense than I do won’t add the following bit publicly, but I can’t help myself: Insert “write once, pwn everywhere” joke here…</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2013/01/15/java-vulnerabilities/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>

		<media:content url="http://isocpp.org/files/img/cert-java-exploit_1.PNG" medium="image" />
	</item>
		<item>
		<title>&#8220;Strong&#8221; and &#8220;weak&#8221; hardware memory models</title>
		<link>https://herbsutter.com/2012/08/02/strong-and-weak-hardware-memory-models/</link>
				<comments>https://herbsutter.com/2012/08/02/strong-and-weak-hardware-memory-models/#comments</comments>
				<pubDate>Thu, 02 Aug 2012 11:26:37 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Concurrency]]></category>
		<category><![CDATA[Hardware]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Talks & Events]]></category>

		<guid isPermaLink="false">http://herbsutter.wordpress.com/?p=1590</guid>
				<description><![CDATA[In Welcome to the Jungle, I predicted that “weak” hardware memory models will disappear. This is true, and it’s happening before our eyes: x86 has always been considered a “strong” hardware memory model that supports sequentially consistent atomics efficiently. The other major architecture, ARM, recently announced that they are now adding strong memory ordering in [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>In <a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the Jungle</a>, I predicted that “weak” hardware memory models will disappear. This is true, and it’s happening before our eyes:</p>
<ul>
<li>x86 has always been considered a “strong” hardware memory model that supports sequentially consistent atomics efficiently.</li>
<li>The other major architecture, ARM, recently announced that they are now adding strong memory ordering in ARMv8 with the new sequentially consistent <em>ldra </em>and <em>strl </em>instructions, as I predicted they would. (Actually, Hans Boehm and I influenced ARM in this direction, so it was an ever-so-slightly disingenuous prediction&#8230;)</li>
</ul>
<p>However, at least two people have been confused by what I meant by “weak” hardware memory models, so let me clarify what “weak” means – it means something different for hardware memory models and software memory models, so perhaps those aren’t the clearest terms to use.</p>
<p>By &#8220;weak <strong><em>(hardware)</em></strong> memory model&#8221; CPUs I mean specifically ones that do not natively support efficient sequentially consistent (SC) atomics, because on the <strong><em>software</em></strong> side programming languages have converged on &#8220;sequential consistency for data-race-free programs&#8221; (SC-DRF, roughly aka DRF0 or RCsc) as the default (C11, C++11) or only (Java 5+) supported software memory model for software. POWER and ARMv7 notoriously do not support SC atomics efficiently.</p>
<p>Hardware that supports only hardware memory models weaker than SC-DRF, <em>meaning that they do not support SC-DRF efficiently</em>, are permanently disadvantaged and will either become stronger or atrophy. As I mentioned specifically in the article, the two main current hardware architectures with what I called &#8220;weak&#8221; memory models were current ARM (ARMv7) and POWER:</p>
<ul>
<li>ARM recently announced ARMv8 which, as I predicted, is upgrading to SC acquire/release by adding new SC acquire/release instructions ldra and strl that are mandatory in both 32-bit and 64-bit mode. In fact, this is something of an industry first &#8212; ARMv8 is the first major CPU architecture to support SC acquire/release instructions directly like this. (Note: That’s for CPUs, but the roadmap for ARM GPUs is similar. ARM GPUs currently have a stronger memory model, namely fully SC; ARM has announced their GPU future roadmap has the GPUs fully coherent with the CPUs, and will likely add “SC load acquire” and “SC store release” to GPUs as well.)</li>
<li>It remains to be seen whether POWER will adapt similarly, or die out.</li>
</ul>
<p>Note that I&#8217;ve seen some people call x86 &#8220;weak&#8221;, but x86 has always been the poster child for a <strong><em>strong (hardware) </em></strong>memory model in all of our <strong><em>software</em></strong> memory model discussions for Java, C, and C++ during the 2000s. Therefore perhaps &#8220;weak&#8221; and &#8220;strong&#8221; are not useful terms if they mean different things to some people, and I&#8217;ve updated the WttJ text to make this clearer.</p>
<p>I will be discussing this in detail in my <a href="https://herbsutter.com/2012/06/29/cb-session-atomic-weapons-the-c11-memory-model-and-modern-hardware/">atomic&lt;&gt; Weapons</a> talk at C&amp;B next week, which I hope to make freely available online in the near future (as I do most of my talks). I’ll post a link on this blog when I can make it available online.</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2012/08/02/strong-and-weak-hardware-memory-models/feed/</wfw:commentRss>
		<slash:comments>10</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
		<item>
		<title>2000 Interview: Dennis Ritchie, Bjarne Stroustrup, and James Gosling</title>
		<link>https://herbsutter.com/2011/10/13/2000-interview-dennis-ritchie-bjarne-stroustrup-and-james-gosling/</link>
				<comments>https://herbsutter.com/2011/10/13/2000-interview-dennis-ritchie-bjarne-stroustrup-and-james-gosling/#comments</comments>
				<pubDate>Thu, 13 Oct 2011 23:37:04 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Opinion & Editorial]]></category>

		<guid isPermaLink="false">http://herbsutter.com/?p=693</guid>
				<description><![CDATA[Dennis Ritchie gave very few interviews, but I was lucky enough to be able to get one of them. Back in 2000, when I was editor of C++ Report, I interviewed the creators of C, C++, and Java all together: The C Family of Languages: Interview with Dennis Ritchie, Bjarne Stroustrup, and James Gosling This [&#8230;]]]></description>
								<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_694" style="width: 310px" class="wp-caption alignright"><a href="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png"><img data-attachment-id="694" data-permalink="https://herbsutter.com/2011/10/13/2000-interview-dennis-ritchie-bjarne-stroustrup-and-james-gosling/dmr-bs-jg/" data-orig-file="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png" data-orig-size="1351,525" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="dmr-bs-jg" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=300&#038;h=116" data-large-file="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=500" class="size-medium wp-image-694" title="dmr-bs-jg" src="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=300&#038;h=116" alt="" width="300" height="116" srcset="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=300&amp;h=116 300w, https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=597&amp;h=232 597w, https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=150&amp;h=58 150w" sizes="(max-width: 300px) 100vw, 300px" /></a><p class="wp-caption-text">Ritchie, Stroustrup, and Gosling</p></div>
<p>Dennis Ritchie gave very few interviews, but I was lucky enough to be able to get one of them.</p>
<p>Back in 2000, when I was editor of <em>C++ Report</em>, I interviewed the creators of C, C++, and Java all together:</p>
<blockquote><p><strong><span style="color:#006666;font-family:Verdana, Arial, Helvetica;"><a href="http://www.gotw.ca/publications/c_family_interview.htm">The C Family of Languages: Interview with Dennis Ritchie, Bjarne Stroustrup, and James Gosling</a></span></strong></p>
<p><em><span style="color:#008080;">This article appeared in <strong>Java Report, 5(7), July 2000</strong> and <strong>C++ Report, 12(7), July/August 2000</strong>.</span></em></p></blockquote>
<p>Their extensive comments &#8212; on everything from language history and design (of course) and industry context and crystal-ball prognostication, to personal preferences and war stories and the first code they ever wrote &#8212; are well worth re-reading and remarkably current now, some 11 years on.</p>
<p>As far as I know, it&#8217;s the only time these three have spoken together. It&#8217;s also the only time a feature article ran simultaneously in both <em>C++ Report</em> and <em>Java Report</em>.</p>
<p>Grab a cup of coffee, fire up your tablet, and enjoy.</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2011/10/13/2000-interview-dennis-ritchie-bjarne-stroustrup-and-james-gosling/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>

		<media:content url="https://herbsutter.files.wordpress.com/2011/10/dmr-bs-jg.png?w=300" medium="image">
			<media:title type="html">dmr-bs-jg</media:title>
		</media:content>
	</item>
		<item>
		<title>My C++ and Beyond Intro: C++ Renaissance</title>
		<link>https://herbsutter.com/2011/09/07/my-c-and-beyond-intro-c-renaissance/</link>
				<comments>https://herbsutter.com/2011/09/07/my-c-and-beyond-intro-c-renaissance/#comments</comments>
				<pubDate>Wed, 07 Sep 2011 22:00:01 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Microsoft]]></category>
		<category><![CDATA[Software Development]]></category>

		<guid isPermaLink="false">http://herbsutter.com/?p=627</guid>
				<description><![CDATA[Channel 9 has just posted a recording of my intro talk at C++ and Beyond 2011 last month in Banff. Here&#8217;s the link: C++ and Beyond 2011: Why C++. It&#8217;s a keynote-y talk, not a technical talk, but we felt it was important to address an important trend involving the language. The goal is to share a [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="https://herbsutter.files.wordpress.com/2011/09/why-c++.png"><img data-attachment-id="660" data-permalink="https://herbsutter.com/2011/09/07/my-c-and-beyond-intro-c-renaissance/capture-3/" data-orig-file="https://herbsutter.files.wordpress.com/2011/09/capture2.png" data-orig-size="508,282" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Why C++" data-image-description="" data-medium-file="https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=300&#038;h=166" data-large-file="https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=500" class="alignright size-medium wp-image-660" title="Why C++" src="https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=300&#038;h=166" alt="Why C++" width="300" height="166" srcset="https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=300&amp;h=166 300w, https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=150&amp;h=83 150w, https://herbsutter.files.wordpress.com/2011/09/capture2.png 508w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Channel 9 has just posted a recording of my intro talk at <a href="http://cppandbeyond.com">C++ and Beyond 2011</a> last month in Banff. Here&#8217;s the link: <strong><a href="http://channel9.msdn.com/posts/C-and-Beyond-2011-Herb-Sutter-Why-C" target="_blank">C++ and Beyond 2011: Why C++</a>.</strong></p>
<p>It&#8217;s a keynote-y talk, not a technical talk, but we felt it was important to address an important trend involving the language. The goal is to share a perspective and rationale for why of late there&#8217;s such a resurgence of interest in C++ &#8212; both across the industry, and within Microsoft.</p>
<p>Whether or not you agree with the perspective and rationale, I hope you enjoy it!</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2011/09/07/my-c-and-beyond-intro-c-renaissance/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>

		<media:content url="https://herbsutter.files.wordpress.com/2011/09/capture2.png?w=300" medium="image">
			<media:title type="html">Why C++</media:title>
		</media:content>
	</item>
		<item>
		<title>Interview on Channel 9</title>
		<link>https://herbsutter.com/2011/01/14/interview-on-channel-9/</link>
				<comments>https://herbsutter.com/2011/01/14/interview-on-channel-9/#comments</comments>
				<pubDate>Sat, 15 Jan 2011 04:08:24 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Concurrency]]></category>
		<category><![CDATA[Java]]></category>

		<guid isPermaLink="false">http://herbsutter.com/?p=516</guid>
				<description><![CDATA[Over the holidays, Erik Meijer interviewed me on Channel 9. We covered a wide variety of topics, mostly centered on C++ with some straying into C#/Java/Haskell/Clojure/Erlang, but ranging from auto and closures to why (not?) derive future&#60;T&#62; from T, and from what the two most important problems in parallelism are in 2011 to why and how [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>Over the holidays, Erik Meijer <a href="http://channel9.msdn.com/Shows/Going+Deep/E2E-Herb-Sutter-and-Erik-Meijer-Perspectives-on-C">interviewed me on Channel 9</a>. We covered a wide variety of topics, mostly centered on C++ with some straying into C#/Java/Haskell/Clojure/Erlang, but ranging from auto and closures to why (not?) derive future&lt;T&gt; from T, and from what the two most important problems in parallelism are in 2011 to why and how to taste new programming languages regularly. I think it turned out well. Enjoy!</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2011/01/14/interview-on-channel-9/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
		<item>
		<title>Effective Concurrency: volatile vs. volatile</title>
		<link>https://herbsutter.com/2009/01/12/effective-concurrency-volatile-vs-volatile/</link>
				<comments>https://herbsutter.com/2009/01/12/effective-concurrency-volatile-vs-volatile/#comments</comments>
				<pubDate>Mon, 12 Jan 2009 09:12:15 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Concurrency]]></category>
		<category><![CDATA[Java]]></category>

		<guid isPermaLink="false">http://herbsutter.wordpress.com/2009/01/12/effective-concurrency-volatile-vs-volatile/</guid>
				<description><![CDATA[This month&#8217;s Effective Concurrency column, &#8220;volatile vs. volatile&#8221;, is now live on DDJ&#8217;s website and also appears in the print magazine. (As a historical note, it&#8217;s DDJ&#8217;s final print issue, as I mentioned previously.) This article aims to answer the frequently asked question: &#8220;What does volatile mean?&#8221; The short answer: &#8220;It depends, do you mean [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>This month&#8217;s <strong>Effective Concurrency</strong> column, <strong><a href="http://www.ddj.com/hpc-high-performance-computing/212701484">&#8220;volatile vs. volatile&#8221;</a></strong>, is now live on DDJ&#8217;s website and also appears in the print magazine. (As a historical note, it&#8217;s DDJ&#8217;s final print issue, as I <a href="https://herbsutter.wordpress.com/2008/12/31/the-2008-media-inflection-meet-dr-web-the-new-gorilla/">mentioned previously</a>.)</p>
<p>This article aims to answer the frequently asked question: &#8220;What does volatile mean?&#8221; The short answer: &#8220;It depends, do you mean Java/.NET volatile or C/C++ volatile?&#8221; From the article:</p>
<blockquote>
<p>What does the <b>volatile</b> keyword mean? How should you use it? Confusingly, there are two common answers, because depending on the language you use volatile supports one or the other of two different programming techniques: lock-free programming, and dealing with &#8216;unusual&#8217; memory.</p>
<p>Adding to the confusion, these two different uses have overlapping requirements and impose overlapping restrictions, which makes them appear more similar than they are. Let&#8217;s define and understand them clearly, and see how to spell them correctly in C, C++, Java and C# &#8212; and not always as <b>volatile</b>. &#8230;</p>
</blockquote>
<p>I hope you enjoy it. Finally, here are links to previous Effective Concurrency columns and the DDJ print magazine issue in which they first appeared:</p>
<blockquote>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/200001985">The Pillars of Concurrency</a> (Aug 2007)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/201202924">How Much Scalability Do You Have or Need?</a> (Sep 2007)  </p>
<p><a href="http://ddj.com/cpp/201804238">Use Critical Sections (Preferably Locks) to Eliminate Races</a> (Oct 2007)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/202401098">Apply Critical Sections Consistently</a> (Nov 2007)  </p>
<p><a href="http://ddj.com/architect/202802983">Avoid Calling Unknown Code While Inside a Critical Section</a> (Dec 2007)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/204801163">Use Lock Hierarchies to Avoid Deadlock</a> (Jan 2008)  </p>
<p><a href="http://www.ddj.com/cpp/205900309">Break Amdahl’s Law!</a> (Feb 2008)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/206100542">Going Superlinear</a> (Mar 2008)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/206903306">Super Linearity and the Bigger Machine</a> (Apr 2008)  </p>
<p><a href="http://ddj.com/architect/207100682">Interrupt Politely</a> (May 2008)  </p>
<p><a href="http://ddj.com/architect/208200273">Maximize Locality, Minimize Contention</a> (Jun 2008)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/208801371">Choose Concurrency-Friendly Data Structures</a> (Jul 2008)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/209900973">The Many Faces of Deadlock</a> (Aug 2008)  </p>
<p><a href="http://www.ddj.com/cpp/210600279">Lock-Free Code: A False Sense of Security</a> (Sep 2008)  </p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/210604448">Writing Lock-Free Code: A Corrected Queue</a> (Oct 2008)  </p>
<p><a href="http://www.ddj.com/cpp/211601363">Writing a Generalized Concurrent Queue</a> (Nov 2008)  </p>
<p><a href="http://www.ddj.com/cpp/211800538">Understanding Parallel Performance</a> (Dec 2008)</p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/212201163">Measuring Parallel Performance: Optimizing a Concurrent Queue</a> (Jan 2009)</p>
<p><a href="http://www.ddj.com/hpc-high-performance-computing/212701484">volatile vs. volatile</a> (Feb 2009)</p>
</blockquote>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2009/01/12/effective-concurrency-volatile-vs-volatile/feed/</wfw:commentRss>
		<slash:comments>12</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
		<item>
		<title>Effective Concurrency: Lock-Free Code &#8212; A False Sense of Security</title>
		<link>https://herbsutter.com/2008/08/05/effective-concurrency-lock-free-code-a-false-sense-of-security/</link>
				<comments>https://herbsutter.com/2008/08/05/effective-concurrency-lock-free-code-a-false-sense-of-security/#comments</comments>
				<pubDate>Wed, 06 Aug 2008 00:31:41 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Concurrency]]></category>
		<category><![CDATA[Java]]></category>

		<guid isPermaLink="false">http://herbsutter.wordpress.com/2008/08/05/effective-concurrency-lock-free-code-a-false-sense-of-security/</guid>
				<description><![CDATA[DDJ posted the next Effective Concurrency column a couple of weeks earlier than usual. You can find it here: &#8220;Lock-Free Code: A False Sense of Security&#8221;, just went live on DDJ&#8217;s site, and also appears in the print magazine.   This is a special column in a way, because I rarely critique someone else&#8217;s published [&#8230;]]]></description>
								<content:encoded><![CDATA[<div>DDJ posted the next <strong>Effective Concurrency</strong> column a couple of weeks earlier than usual. You can find it here: <a href="http://www.ddj.com/cpp/210600279"><strong>&#8220;Lock-Free Code: A False Sense of Security&#8221;</strong></a>, just went live on DDJ&#8217;s site, and also appears in the print magazine.</div>
<div> </div>
<div>This is a special column in a way, because I rarely critique someone else&#8217;s published code. However, mere weeks ago DDJ itself published <a href="http://www.ddj.com/208801974">an article with fundamentally broken code</a> that tried to show how to write a simplified lock-free queue. I corresponded with the author, Petru Marginean, and his main reviewer, Andrei Alexandrescu, to discuss the problems, and they have patched the code somewhat and added a disclaimer to the article. But the issues need to be addressed, and so Petru kindly let me vivisect his code in public in this column (and the next, not yet available, which will show how to do it right).</div>
<div> </div>
<div>From the article:</div>
<blockquote><p>[Lock-free code is] hard even for experts. It&#8217;s easy to write lock-free code that appears to work, but it&#8217;s very difficult to write lock-free code that is correct and performs well. Even good magazines and refereed journals have published a substantial amount of lock-free code that was actually broken in subtle ways and needed correction.</p>
<p>To illustrate, let&#8217;s dissect some peer-reviewed lock-free code that was published here in <em>DDJ</em> just two months ago &#8230;</p></blockquote>
<div>I hope you enjoy it. (Note: Yes, the title is a riff on Tom Cargill&#8217;s classic article <a href="http://www.informit.com/content/images/020163371x/supplements/Exception_Handling_Article.html">&#8220;Exception Handling: A False Sense of Security&#8221;</a>, one of Scott Meyers&#8217; five <a href="http://www.artima.com/cppsource/top_cpp_publications.html">&#8220;Most Important C++ Non-Book Publications&#8230;Ever&#8221;</a>.)</div>
<div> </div>
<div>Finally, here are links to previous Effective Concurrency columns (based on the magazine print issue dates):</div>
<table border="0" cellspacing="5" cellpadding="5" width="555">
<tbody>
<tr>
<td width="114" valign="top">August 2007</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/200001985">The Pillars of Concurrency</a></td>
</tr>
<tr>
<td width="114" valign="top">September 2007</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/201202924">How Much Scalability Do You Have or Need?</a></td>
</tr>
<tr>
<td width="114" valign="top">October 2007</td>
<td width="422" valign="top"><a title="Use Critical Sections (Preferably Locks) to Eliminate Races" href="http://ddj.com/cpp/201804238">Use Critical Sections (Preferably Locks) to Eliminate Races</a></td>
</tr>
<tr>
<td width="114" valign="top">November 2007</td>
<td width="422" valign="top"><a title="Use Critical Sections (Preferably Locks) to Eliminate Races" href="http://www.ddj.com/hpc-high-performance-computing/202401098">Apply Critical Sections Consistently</a></td>
</tr>
<tr>
<td width="114" valign="top">December 2007</td>
<td width="422" valign="top"><a href="http://herbsutter.spaces.live.com/blog/cns!2D4327CC297151BB!342.entry"></a><a title="Avoid Calling Unknown Code While Inside a Critical Section" href="http://ddj.com/architect/202802983">Avoid Calling Unknown Code While Inside a Critical Section</a></td>
</tr>
<tr>
<td width="114" valign="top">January 2007</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/204801163">Use Lock Hierarchies to Avoid Deadlock</a></td>
</tr>
<tr>
<td width="114" valign="top">February 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/cpp/205900309">Break Amdahl&#8217;s Law!</a></td>
</tr>
<tr>
<td width="114" valign="top">March 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/206100542">Going Superlinear</a></td>
</tr>
<tr>
<td width="114" valign="top">April 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/206903306">Super Linearity and the Bigger Machine</a></td>
</tr>
<tr>
<td width="114" valign="top">May 2008</td>
<td width="422" valign="top"><a href="http://ddj.com/architect/207100682">Interrupt Politely</a></td>
</tr>
<tr>
<td width="114" valign="top">June 2008</td>
<td width="422" valign="top"><a href="http://ddj.com/architect/208200273">Maximize Locality, Minimize Contention</a></td>
</tr>
<tr>
<td width="114" valign="top">July 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/208801371">Choose Concurrency-Friendly Data Structures</a></td>
</tr>
<tr>
<td width="114" valign="top">August 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/hpc-high-performance-computing/209900973">The Many Faces of Deadlock</a></td>
</tr>
<tr>
<td width="114" valign="top">September 2008</td>
<td width="422" valign="top"><a href="http://www.ddj.com/cpp/210600279">&#8220;Lock-Free Code: A False Sense of Security&#8221;</a></td>
</tr>
</tbody>
</table>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2008/08/05/effective-concurrency-lock-free-code-a-false-sense-of-security/feed/</wfw:commentRss>
		<slash:comments>13</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
		<item>
		<title>Constructor Exceptions in C++, C#, and Java</title>
		<link>https://herbsutter.com/2008/07/25/constructor-exceptions-in-c-c-and-java/</link>
				<comments>https://herbsutter.com/2008/07/25/constructor-exceptions-in-c-c-and-java/#comments</comments>
				<pubDate>Fri, 25 Jul 2008 19:43:04 +0000</pubDate>
		<dc:creator><![CDATA[Herb Sutter]]></dc:creator>
				<category><![CDATA[C# / .NET]]></category>
		<category><![CDATA[C++]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Software Development]]></category>

		<guid isPermaLink="false">http://herbsutter.wordpress.com/2008/07/25/constructor-exceptions-in-c-c-and-java/</guid>
				<description><![CDATA[I just received the following question, whose answer is the same in C++, C#, and Java. Question: In the following code, why isn&#8217;t the destructor/disposer ever called to clean up the Widget when the constructor emits an exception? You can entertain this question in your mainstream language of choice: // C++ (an edited version of [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>I just received the following question, whose answer is the same in C++, C#, and Java.</p>
<p>Question: In the following code, why isn&#8217;t the destructor/disposer ever called to clean up the Widget when the constructor emits an exception? You can entertain this question in your mainstream language of choice:</p>
<table border="0" cellspacing="1" cellpadding="15" width="400">
<tbody>
<tr>
<td width="400" valign="top">// C++ (an edited version of the original code<br />
// that the reader emailed me)<br />
class Gadget {<br />
   Widget* w;</p>
<p>public:<br />
   Gadget() {<br />
     w = new Widget();<br />
     throw new exception();<br />
     // &#8230; or some API call might throw<br />
   };</p>
<p>   <strong>~Gadget()</strong> {<br />
<strong>      if( w != nullptr ) delete w;<br />
</strong>   }<br />
};</td>
</tr>
<tr>
<td width="400" valign="top">// C# (equivalent)<br />
class Gadget <strong>: IDisposable</strong> {<br />
   private Widget w;</p>
<p>   public Gadget() {<br />
     w = new Widget();<br />
     throw new Exception();<br />
     // &#8230; or some API call might throw<br />
   };</p>
<p><strong>   public void Dispose()</strong> {<br />
     // &#8230; eliding other mechanics, eventually calls:<br />
<strong>     if( w != null ) w.Dispose();<br />
     // or just &#8220;w = null;&#8221; if Widget isn&#8217;t IDisposable<br />
</strong>   }<br />
};</td>
</tr>
<tr>
<td width="400" valign="top">// Java (equivalent)<br />
class Gadget {<br />
   private Widget w;</p>
<p>   public Gadget() {<br />
     w = new Widget();<br />
     throw new Exception();<br />
     // &#8230; or some API call might throw<br />
   };</p>
<p><strong>   public void dispose()</strong> {<br />
<strong>     if( w != null ) w.dispose();<br />
     // or just &#8220;w = null;&#8221; if Widget isn&#8217;t disposable</strong><br />
   }<br />
};</td>
</tr>
</tbody>
</table>
<p>Interestingly, we can answer this even without knowing the calling code&#8230; but there is typical calling code that is similar in all three languages that reinforces the answer.</p>
<h3>Construction and Lifetime</h3>
<p>The fundamental principles behind the answer is the same in C++, C#, and Java:</p>
<ol>
<li>A constructor conceptually turns a suitably sized chunk of raw memory into an object that obeys its invariants. <strong>An object&#8217;s lifetime doesn&#8217;t begin until its constructor completes successfully. </strong>If a constructor ends by throwing an exception, that means it never finished creating the object and setting up its invariants &#8212; and at the point the exceptional constructor exits, the object not only doesn&#8217;t exist, but never existed.</li>
<li>A destructor/disposer conceptually turns an object back into raw memory. Therefore, just like all other nonprivate methods, destructors/disposers assume as a precondition that &#8220;this&#8221; object is actually a valid object and that its invariants hold. Hence, <strong>destructors/disposers only run on successfully constructed objects.</strong></li>
</ol>
<p>I&#8217;ve covered some of these concepts and consequences before in <a href="http://www.gotw.ca/gotw/066.htm">GotW #66, &#8220;Constructor Failures,&#8221;</a> which appeared in updated and expanded form as Items 17 and 18 of <em><a href="http://www.amazon.com/exec/obidos/ASIN/020170434X/gotwca-20">More Exceptional C++</a></em>.</p>
<p>In particular, if Gadget&#8217;s constructor throws, it means that the Gadget object wasn&#8217;t created and never existed. So there&#8217;s nothing to destroy or dispose: The destructor/disposer not only isn&#8217;t needed to run, but it can&#8217;t run because it doesn&#8217;t have a valid object to run against.</p>
<p>Incidentally, it also means that the Gadget constructor isn&#8217;t exception-safe, because it and only it can clean up resources it might leak. In the C++ version, the usual simple way to write the code correctly is to change the w member&#8217;s type from Widget* to shared_ptr&lt;Widget&gt; or an equivalent smart pointer type that owns the object. But let&#8217;s leave that aside for now to explore the more general issue.</p>
<h3>A Look At the Calling Code</h3>
<p>Next, let&#8217;s see how these semantics are actually enforced, whether by language rules or by convention, on the calling side in each language. Here are the major idiomatic ways in each language to use an Gadget object in an exception-safe way:</p>
<table border="0" cellspacing="1" cellpadding="15" width="400">
<tbody>
<tr>
<td width="400" valign="top">// C++ caller</p>
<p>{<br />
<strong>  Gadget myGadget;<br />
</strong>  // do something with myGadget<br />
}</td>
</tr>
<tr>
<td width="400" valign="top">// C# caller</p>
<p><strong>using( Gadget myGadget = new Gadget() )<br />
</strong>{<br />
  // do something with myGadget<br />
}</td>
</tr>
<tr>
<td width="400" valign="top">// Java caller</p>
<p>Gadget myGadget = new Gadget();</p>
<p><strong>try {<br />
</strong>  // do something with myGadget<br />
<strong>}<br />
finally {<br />
  myGadget.dispose();<br />
}</strong></td>
</tr>
</tbody>
</table>
<p>Consider the two cases where an exception can occur:</p>
<ul>
<li>What if an exception is thrown <strong>while using myGadget </strong>&#8212; that is, during &#8220;do something with myGadget&#8221;? In all cases, we know that myGadget&#8217;s destructor/dispose method is guaranteed to be called.</li>
<li>But what if an exception is thrown <strong>while constructing myGadget</strong>? Now in all cases the answer is that the destructor/dispose method is guaranteed <strong>not </strong>to be called.</li>
</ul>
<p>Put another way, we can say for all cases: The destructor/dispose is guaranteed to be run if and only if the constructor completed successfully.</p>
<h3>Another Look At the Destructor/Dispose Code</h3>
<p>Finally, let&#8217;s return to each key line of code one more time:</p>
<table border="0" cellspacing="1" cellpadding="15" width="404">
<tbody>
<tr>
<td width="400" valign="top">// C++<br />
<strong>      if( w != nullptr ) delete w;</strong></td>
</tr>
<tr>
<td width="400" valign="top">// C#<br />
<strong>     if( w != null ) w.Dispose();</strong></td>
</tr>
<tr>
<td width="400" valign="top">// Java<br />
<strong>     if( w != null ) w.dispose();</strong></td>
</tr>
</tbody>
</table>
<p>The motivation for the nullness tests in the original example was to clean up partly-constructed objects. That motivation is suspect in principle &#8212; it means the constructors aren&#8217;t exception-safe because only they can clean up after themselves &#8212; and as we&#8217;ve seen it&#8217;s flawed in practice because the destructors/disposers won&#8217;t ever run on the code paths that the original motivation cared about. So we don&#8217;t need the nullness tests for that reason, although you might still have nullness tests in destructors/disposers to handle &#8216;optional&#8217; parts of an object where a valid object might hold a null pointer or reference member during its lifetime.</p>
<p>In this particular example, we can observe that the nullness tests are actually unnecessary, because w will always be non-null if the object was constructed successfully. There is no (legitimate) way that you can call the destructor/disposer (Furthermore, C++ developers will know that the test is unnecessary for a second reason: Delete is a no-op if the pointer passed to it is null, so there&#8217;s never a need to check for that special case.)</p>
<h3>Conclusion</h3>
<p>When it comes to object lifetimes, all OO languages are more alike than different. Object and resource lifetime matters, whether or not you have a managed language, garbage collection (finalizers are not destructors/disposers!), templates, generics, or any other fancy bell or whistle layered on top of the basic humble class.</p>
<p>The same basic issues arise everywhere&#8230; the code you write to deal with them is just spelled using different language features and/or idioms in the different languages, that&#8217;s all. We can have lively discussions about which language offers the easiest/best/greenest/lowest-carbon-footprint way to express how we want to deal with a particular aspect of object construction, lifetime, and teardown, but those concerns are general and fundamental no matter which favorite language you&#8217;re using to write your code this week.</p>
]]></content:encoded>
							<wfw:commentRss>https://herbsutter.com/2008/07/25/constructor-exceptions-in-c-c-and-java/feed/</wfw:commentRss>
		<slash:comments>35</slash:comments>
						
		<media:content url="https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">Herb Sutter</media:title>
		</media:content>
	</item>
	</channel>
</rss>
