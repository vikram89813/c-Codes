<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Lifetime profile v1.0 posted | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965323&amp;back=https%3A%2F%2Fherbsutter.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Lifetime profile v1.0&nbsp;posted Comments Feed" href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='My CppCon 2018 talk title and&nbsp;abstract' href='https://herbsutter.com/2018/09/14/my-cppcon-2018-talk-title-and-abstract/' />
<link rel='next' title='My CppCon 2018 talk is now&nbsp;online' href='https://herbsutter.com/2018/09/30/my-cppcon-2018-talk-is-now-online/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" />
<link rel='shortlink' href='https://wp.me/peb5Y-Xp' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Lifetime profile v1.0 posted" />
<meta property="og:url" content="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" />
<meta property="og:description" content="I love C++. I also love safe code and not having to worry about dangling pointers and iterators and views. So I’ve been doing some work to make my life less conflicted: As long promised, the Lifeti…" />
<meta property="article:published_time" content="2018-09-21T06:00:06+00:00" />
<meta property="article:modified_time" content="2018-09-21T06:00:06+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965323" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:creator" content="@herbsutter" />
<meta name="twitter:site" content="@herbsutter" />
<meta name="twitter:text:title" content="Lifetime profile v1.0&nbsp;posted" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="I love C++. I also love safe code and not having to worry about dangling pointers and iterators and views. So I’ve been doing some work to make my life less conflicted: As long promised, the Lifetime profile 1.0 paper is now posted in the C++ Core Guidelines repo. It aims to detect common local&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-3683 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2018/09/14/my-cppcon-2018-talk-title-and-abstract/" rel="prev">My CppCon 2018 talk title and&nbsp;abstract</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2018/09/30/my-cppcon-2018-talk-is-now-online/" rel="next">My CppCon 2018 talk is now&nbsp;online</a> &raquo;</div>
			</div>
			
			<div class="post-3683 post type-post status-publish format-standard hentry category-uncategorized" id="post-3683">
				<div class="posttitle">
					<h2>Lifetime profile v1.0&nbsp;posted</h2>
					<p class="post-info">2018-09-20 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>I love C++. I also love safe code and not having to worry about dangling pointers and iterators and views. So I’ve been doing some work to make my life less conflicted: As long promised, the <strong><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/docs/Lifetime.pdf">Lifetime profile 1.0 paper</a></strong> is now posted in the C++ Core Guidelines repo. It aims to detect common local cases of dangling pointers/iterators/string_views/spans/etc. in C++ code, at compile time, efficiently enough to run during normal compilation and in IDE tooltips. And, best of all (IMO), leveraging the rich information that’s already in typical modern C++ code, especially code that uses RAII and STL, with little or no annotation (e.g., see section 2.6).</p>
<p>For a quick summary, section 1.1 is a readable 3-page overview. Or, if you prefer watching a talk video, you can also see <a href="https://www.youtube.com/watch?v=hEx5DNLWGgA&amp;feature=youtu.be&amp;t=29m6s">my CppCon 2015 talk starting at 29:06</a>, where I first talked about this work; the approach is still the same. I’ll also be <a href="https://herbsutter.com/2018/09/14/my-cppcon-2018-talk-title-and-abstract/">giving an update on this work next week at CppCon</a> as one of the three major sections of my talk this year.</p>
<p>Many thanks to all of the people who contributed and gave feedback to help me flesh out this design over the past three years. I would like to especially thank <strong>Neil MacIntosh</strong> and <strong>Kyle Reed</strong> who did the bulk of the MSVC static analysis extension implementation work, and <strong>Matthias Gehre</strong> and <strong>Gábor Horváth</strong> who did the Clang-based implementation. Thank you! Those of you who’ll be at CppCon will see some of these folks on-stage showing their work in my talk, and be able to ask them questions at the conference.</p>
<p>… Did I say Clang? Yes, there’s now also a Clang-based implementation in addition to MSVC. Although I stress this work is still somewhat experimental and that both are partial implementations, both of them do already compile most of the examples in the paper and both already run efficiently enough to run during normal compilation (Clang) and in the IDE for live-squiggle diagnostics (MSVC) even though they have not been optimized yet. And, as you’d expect in 2018, the Clang-based implementation is available on Godbolt — in the paper, just search for “godbolt” to find over 30 links to live examples. Here are a few you might find interesting:</p>
<ul>
<li><a href="https://godbolt.org/z/szJjnH">godbolt.org/z/szJjnH</a> A simple starter dangling raw pointer example.</li>
<li><a href="https://godbolt.org/z/_midIP">godbolt.org/z/_midIP</a> This one’s simple but fun… quick, how is the pointer use on line 11 invalidated by the <em>following</em> line, line 12?</li>
<li><a href="https://godbolt.org/z/dymV_C">godbolt.org/z/dymV_C</a> From C++17: A dangling <em>string_view</em>, which is important because it turns out to be easy to convert a <em>std::string</em> to a <em>string_view</em>, so that dangling is almost the default behavior.</li>
<li><a href="https://godbolt.org/z/eqCRLx">godbolt.org/z/eqCRLx</a> From the very latest bleeding edge: A dangling <em>filter_view</em> from the Ranges TS that we’re about to see if we can merge into the standard in time for C++20. Those are non-owning indirections, so they can dangle too.</li>
<li><a href="https://godbolt.org/z/iq5Qja">godbolt.org/z/iq5Qja</a> From C++98 with a dash of C++11: You know how using <em>auto</em> to deduce a <em>vector&lt;bool&gt;</em> subscript <em>[]</em> operator actually captures a <em>vector&lt;bool&gt;::reference</em> proxy, which can dangle after a <em>push_back</em> or <em>reserve</em>? If you didn’t: Sorry to be the bearer of sad tidings, but here’s some good news about that example.</li>
<li><a href="https://godbolt.org/z/UE-Mb0">godbolt.org/z/UE-Mb0</a> This short example can take a few minutes to grok… take a cup of coffee to understand who owns what and points where, and why the pointers are dangling (or not), and what the compiler is understanding about our code in order to be able to tell us about the problems accurately.</li>
</ul>
<p>If you’re interested in preventing common cases of dangling pointers, iterators, string_views, spans, and more, efficiently at compile time with high quality diagnostics, check out the examples in the paper and play around with them on Godbolt.</p>
<p>If you find new examples that are correctly diagnosed that you think are particularly cool, feel free to distill them down to their essence (and sanitize them if they came from real code) and post them as new Godbolt links in the comments below — bonus points if you also briefly summarize what the problem is, and extra bonus points if they did come from real world code. I may add some of them to the paper, with attribution, and maybe even use one in next week’s talk.</p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											10 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">10 Responses</h3>

	<ol class="commentlist">
			<li class="comment byuser comment-author-rocallahan642177364 even thread-even depth-1 highlander-comment" id="comment-40333">
		<div id="div-comment-40333">
		<div class="cmtinfo"><em> on <a href="#comment-40333" title="">2018-09-24 at 3:35 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40333"></div><p>&gt; Is the rule for propagating function parameter lifetimes to function results not implemented in clang yet?</p>
<p>The equivalent code using pointers *does* warn so I think this is a bug in the handling of references.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rocallahan642177364 odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40332">
		<div id="div-comment-40332">
		<div class="cmtinfo"><em> on <a href="#comment-40332" title="">2018-09-24 at 2:56 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40332"></div><p>It&#8217;s a little bit unclear that the definition of &#8220;POin&#8221; is actually defining two different sets &#8220;Pin&#8221; and &#8220;Oin&#8221; (and likewise for &#8220;OIn_weak&#8221;).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-40331">
		<div id="div-comment-40331">
		<div class="cmtinfo"><em> on <a href="#comment-40331" title="">2018-09-23 at 11:52 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/029477176c7766e37f2edf7f8dc89396?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.lvalue.ml' rel='external nofollow' class='url'>Mateusz</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40331"></div><p>Nice, I would love to see and fix those warnings in my project :) </p>
<p>My example: <a href="https://godbolt.org/z/q7D0GU" rel="nofollow">https://godbolt.org/z/q7D0GU</a><br />
lambda captures by copy a pointer that will be dead by the time lambda is invoked.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rocallahan642177364 odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40330">
		<div id="div-comment-40330">
		<div class="cmtinfo"><em> on <a href="#comment-40330" title="">2018-09-23 at 3:11 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40330"></div><p>It might be good to some examples showing the treatment of Values. For example consider <a href="https://godbolt.org/z/zyNhXh" rel="nofollow">https://godbolt.org/z/zyNhXh</a></p>
<pre class="brush: plain; title: ; notranslate" title="">class X {
public:
    X() : a(new int(0)), b(new char(0)) {}
    int&amp; get_a() { return *a; }
    char&amp; get_b() { return *b; }
private:
    unique_ptr&lt;int&gt; a;
    unique_ptr&lt;char&gt; b;
};</pre>
<p>X can&#8217;t be an Owner or Pointer and it isn&#8217;t an Aggregate. It appears to me there is no possible valid lifetime annotation for the return values of get_a and get_b. It also appears that the inferred return psets will be {static}. Is that correct?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rocallahan642177364 even thread-even depth-1 highlander-comment" id="comment-40329">
		<div id="div-comment-40329">
		<div class="cmtinfo"><em> on <a href="#comment-40329" title="">2018-09-23 at 2:51 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40329"></div><p>One thing that would be good to clarify in the interest of rigor is what &#8220;o&#8221; can be in a pset. It looks like &#8220;o&#8221; must be a local variable (including exploded aggregate members and parameters), but (unlike the &#8220;var&#8221; case) nothing seems to explicitly say that.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rocallahan642177364 odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40328">
		<div id="div-comment-40328">
		<div class="cmtinfo"><em> on <a href="#comment-40328" title="">2018-09-23 at 2:02 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40328"></div><p><a href="https://godbolt.org/z/cZJg7J" rel="nofollow">https://godbolt.org/z/cZJg7J</a></p>
<pre class="brush: plain; title: ; notranslate" title="">int&amp; f(int&amp; a) {
    return a;
}
int&amp; hello() {
    int x = 0;
    return f(x);
}</pre>
<p>This produces no warnings. Is the rule for propagating function parameter lifetimes to function results not implemented in clang yet? If not, it might be worth pointing that out so people don&#8217;t get the impression the results are more meaningful than they actually are.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rocallahan642177364 even thread-even depth-1 highlander-comment" id="comment-40327">
		<div id="div-comment-40327">
		<div class="cmtinfo"><em> on <a href="#comment-40327" title="">2018-09-23 at 1:56 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/4c0a442f1bb3241cd53ee878d13e91ea?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert O'Callahan</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40327"></div><p>Why does &#8220;assert(p)&#8221; remove null from pset(p)? &#8220;assert&#8221; typically compiles to nothing in non-debug builds, so this could hide null-dereference bugs in release builds.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40323">
		<div id="div-comment-40323">
		<div class="cmtinfo"><em> on <a href="#comment-40323" title="">2018-09-22 at 12:08 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/fa57c1686f05a6f47912f5980b8211c7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Gabor Horvath</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40323"></div><p>Unfortunately, exceptions are not properly supported in either of the implementations yet.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-40320">
		<div id="div-comment-40320">
		<div class="cmtinfo"><em> on <a href="#comment-40320" title="">2018-09-21 at 4:54 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/07543ee4a551e8017e7c207590803d6d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Gigi</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40320"></div><p>This is quite simillar to the Roland example, but is real false positive:<br />
<a href="https://godbolt.org/z/d-URdX" rel="nofollow">https://godbolt.org/z/d-URdX</a></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40319">
		<div id="div-comment-40319">
		<div class="cmtinfo"><em> on <a href="#comment-40319" title="">2018-09-21 at 12:04 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/beee619022f0507cb7a8c735194e704d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://github.com/rbock' rel='external nofollow' class='url'>Roland Bock</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40319"></div><p>We have been using a slightly longer version of the following in interviews for several years now:</p>
<p><a href="https://godbolt.org/z/q10LUu" rel="nofollow">https://godbolt.org/z/q10LUu</a></p>
<p>Looks a bit absurd, but it is actually the distilled version of what we saw in a real-life code review once.</p>
<p>The current analysis yields a false positive (uninitialized reference e), but does not find the actual issue (dangling reference msg).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-4c0a442f1bb3241cd53ee878d13e91ea">
	</div>
	<div class="grofile-hash-map-029477176c7766e37f2edf7f8dc89396">
	</div>
	<div class="grofile-hash-map-fa57c1686f05a6f47912f5980b8211c7">
	</div>
	<div class="grofile-hash-map-07543ee4a551e8017e7c207590803d6d">
	</div>
	<div class="grofile-hash-map-beee619022f0507cb7a8c735194e704d">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_40333={"id":468178,"unique_id":"wp-comment-40333","title":"%26gt%3B%20Is%20the%20rule%20for%20propagating%20function%20parameter%20lifetimes%20to%20function%20results%20not%20implemented%20in%20clang%20yet%3FThe%20equivalent%20code%20using%20pointers%20%2Adoes%2A%20warn%20so%20I%20think%20this%20is%20a%20bug%20in%20the%20handl...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40333","item_id":"_comm_40333"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40333 == 'undefined' ){PDRTJS_468178_comm_40333 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40333 );}}PDRTJS_settings_468178_comm_40332={"id":468178,"unique_id":"wp-comment-40332","title":"It%26%23039%3Bs%20a%20little%20bit%20unclear%20that%20the%20definition%20of%20%26quot%3BPOin%26quot%3B%20is%20actually%20defining%20two%20different%20sets%20%26quot%3BPin%26quot%3B%20and%20%26quot%3BOin%26quot%3B%20%28and%20likewise%20for%20%26quot%3BOIn_weak%26quot%3B%29....","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40332","item_id":"_comm_40332"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40332 == 'undefined' ){PDRTJS_468178_comm_40332 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40332 );}}PDRTJS_settings_468178_comm_40331={"id":468178,"unique_id":"wp-comment-40331","title":"Nice%2C%20I%20would%20love%20to%20see%20and%20fix%20those%20warnings%20in%20my%20project%20%3A%29%20My%20example%3A%20https%3A%2F%2Fgodbolt.org%2Fz%2Fq7D0GUlambda%20captures%20by%20copy%20a%20pointer%20that%20will%20be%20dead%20by%20the%20time%20lambda%20is%20invoked....","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40331","item_id":"_comm_40331"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40331 == 'undefined' ){PDRTJS_468178_comm_40331 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40331 );}}PDRTJS_settings_468178_comm_40330={"id":468178,"unique_id":"wp-comment-40330","title":"It%20might%20be%20good%20to%20some%20examples%20showing%20the%20treatment%20of%20Values.%20For%20example%20consider%20https%3A%2F%2Fgodbolt.org%2Fz%2FzyNhXh%26%23091%3Bcode%26%23093%3Bclass%20X%20%7Bpublic%3A%20%20%20%20X%28%29%20%3A%20a%28new%20int%280%29%29%2C%20b%28new%20char%280%29%29%20%7B%7D%20%20%20%20int%26amp%3B%20ge...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40330","item_id":"_comm_40330"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40330 == 'undefined' ){PDRTJS_468178_comm_40330 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40330 );}}PDRTJS_settings_468178_comm_40329={"id":468178,"unique_id":"wp-comment-40329","title":"One%20thing%20that%20would%20be%20good%20to%20clarify%20in%20the%20interest%20of%20rigor%20is%20what%20%26quot%3Bo%26quot%3B%20can%20be%20in%20a%20pset.%20It%20looks%20like%20%26quot%3Bo%26quot%3B%20must%20be%20a%20local%20variable%20%28including%20exploded%20aggregate%20members%20and%20parameters%29%2C%20bu...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40329","item_id":"_comm_40329"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40329 == 'undefined' ){PDRTJS_468178_comm_40329 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40329 );}}PDRTJS_settings_468178_comm_40328={"id":468178,"unique_id":"wp-comment-40328","title":"https%3A%2F%2Fgodbolt.org%2Fz%2FcZJg7J%26%23091%3Bcode%26%23093%3Bint%26amp%3B%20f%28int%26amp%3B%20a%29%20%7B%20%20%20%20return%20a%3B%7Dint%26amp%3B%20hello%28%29%20%7B%20%20%20%20int%20x%20%3D%200%3B%20%20%20%20return%20f%28x%29%3B%7D%26%23091%3B%2Fcode%26%23093%3BThis%20produces%20no%20warnings.%20Is%20the%20rule%20for%20propagating%20function%20par...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40328","item_id":"_comm_40328"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40328 == 'undefined' ){PDRTJS_468178_comm_40328 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40328 );}}PDRTJS_settings_468178_comm_40327={"id":468178,"unique_id":"wp-comment-40327","title":"Why%20does%20%26quot%3Bassert%28p%29%26quot%3B%20remove%20null%20from%20pset%28p%29%3F%20%26quot%3Bassert%26quot%3B%20typically%20compiles%20to%20nothing%20in%20non-debug%20builds%2C%20so%20this%20could%20hide%20null-dereference%20bugs%20in%20release%20builds....","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40327","item_id":"_comm_40327"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40327 == 'undefined' ){PDRTJS_468178_comm_40327 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40327 );}}PDRTJS_settings_468178_comm_40323={"id":468178,"unique_id":"wp-comment-40323","title":"Unfortunately%2C%20exceptions%20are%20not%20properly%20supported%20in%20either%20of%20the%20implementations%20yet....","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40323","item_id":"_comm_40323"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40323 == 'undefined' ){PDRTJS_468178_comm_40323 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40323 );}}PDRTJS_settings_468178_comm_40320={"id":468178,"unique_id":"wp-comment-40320","title":"This%20is%20quite%20simillar%20to%20the%20Roland%20example%2C%20but%20is%20real%20false%20positive%3Ahttps%3A%2F%2Fgodbolt.org%2Fz%2Fd-URdX...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40320","item_id":"_comm_40320"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40320 == 'undefined' ){PDRTJS_468178_comm_40320 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40320 );}}PDRTJS_settings_468178_comm_40319={"id":468178,"unique_id":"wp-comment-40319","title":"We%20have%20been%20using%20a%20slightly%20longer%20version%20of%20the%20following%20in%20interviews%20for%20several%20years%20now%3Ahttps%3A%2F%2Fgodbolt.org%2Fz%2Fq10LUuLooks%20a%20bit%20absurd%2C%20but%20it%20is%20actually%20the%20distilled%20version%20of%20what%20...","permalink":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/#comment-40319","item_id":"_comm_40319"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40319 == 'undefined' ){PDRTJS_468178_comm_40319 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40319 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMAxpon2traGJkZGxiZGhskgUAFHlAaw=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2018\/09\/20\/lifetime-profile-v1-0-posted\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F","postID":"3683","shortlink":"https:\/\/wp.me\/peb5Y-Xp","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/3683","statsLink":"https:\/\/wordpress.com\/stats\/post\/3683\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2018%2F09%2F20%2Flifetime-profile-v1-0-posted%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'3683','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sNjk4bWVqN2ZlfC5WbGQ/MTY9dmIxVytZNy5qYUxVXWRxMml5PURScmNEN1BzfnFKV1FEVEpPS2JwRU1GUEQweHNmMi1qQWVNLlpwb0Q9YmhOL1hUej8mRG84fml5fC5zb3wtbVY0TEcyUWlVRV9zU0sxMU9IQiVDTUJ4dzlKX1sxR0lJNW04SlBrPV1kcFMrRmZmTTFoMlJtYlNIQ2w4M3hQTDVLdWVReE81aThiYlFkcTJCXXV0anREVlR0JixJYWY2Rjk1'}]);
_stq.push([ 'clickTrackerInit', '3379246', '3683' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>