<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>GotW #7a: Minimizing Compile-Time Dependencies, Part 1 | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965338&amp;back=https%3A%2F%2Fherbsutter.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; GotW #7a: Minimizing Compile-Time Dependencies, Part&nbsp;1 Comments Feed" href="https://herbsutter.com/2013/08/12/gotw-7a-minimizing-compile-time-dependencies-part-1/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='GotW #94 Solution: AAA Style (Almost Always&nbsp;Auto)' href='https://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/' />
<link rel='next' title='Comment delays and&nbsp;spam' href='https://herbsutter.com/2013/08/13/comment-delays-and-spam/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2013/08/12/gotw-7a-minimizing-compile-time-dependencies-part-1/" />
<link rel='shortlink' href='https://wp.me/peb5Y-AJ' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="GotW #7a: Minimizing Compile-Time Dependencies, Part 1" />
<meta property="og:url" content="https://herbsutter.com/2013/08/12/gotw-7a-minimizing-compile-time-dependencies-part-1/" />
<meta property="og:description" content="GotW #7a: Minimizing Compile-Time Dependencies, Part 1 Managing dependencies well is an essential part of writing solid code. C++ supports two powerful methods of abstraction: object-oriented progr…" />
<meta property="article:published_time" content="2013-08-12T22:53:30+00:00" />
<meta property="article:modified_time" content="2013-08-12T22:53:30+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965338" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="GotW #7a: Minimizing Compile-Time Dependencies, Part&nbsp;1" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="GotW #7a: Minimizing Compile-Time Dependencies, Part 1 Managing dependencies well is an essential part of writing solid code. C++ supports two powerful methods of abstraction: object-oriented programming and generic programming. Both of these are fundamentally tools to help manage dependencies, and therefore manage complexity. It&#039;s telling that all of the common OO/generic buzzwords—including encapsulation, polymorphism,&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2013/08/12/gotw-7a-minimizing-compile-time-dependencies-part-1/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-2277 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/" rel="prev">GotW #94 Solution: AAA Style (Almost Always&nbsp;Auto)</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2013/08/13/comment-delays-and-spam/" rel="next">Comment delays and&nbsp;spam</a> &raquo;</div>
			</div>
			
			<div class="post-2277 post type-post status-publish format-standard hentry category-gotw" id="post-2277">
				<div class="posttitle">
					<h2>GotW #7a: Minimizing Compile-Time Dependencies, Part&nbsp;1</h2>
					<p class="post-info">2013-08-12 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><span style="font-size:28pt;">GotW #7a: Minimizing Compile-Time Dependencies, Part 1<br />
</span></p>
<p><span style="color:#5a5a5a;"><em>Managing dependencies well is an essential part of writing solid code. C++ supports two powerful methods of abstraction: object-oriented programming and generic programming. Both of these are fundamentally tools to help manage dependencies, and therefore manage complexity. It&#8217;s telling that all of the common OO/generic buzzwords—including encapsulation, polymorphism, and type independence—along with the lion&#8217;s share of design patterns, are really about describing ways to manage complexity within a software system by managing the code&#8217;s interdependencies.<br />
</em></span></p>
<p><span style="color:#5a5a5a;"><em>When we talk about dependencies, we usually think of run-time dependencies like class interactions. In this Item, we will focus instead on how to analyze and manage compile-time dependencies. As a first step, try to identify (and root out) unnecessary headers.</em></span>
	</p>
<h1>Problem<br />
</h1>
<h2>JG Question<br />
</h2>
<p>1. For a function or a class, what is the difference between a forward declaration and a definition?
</p>
<h2>Guru Question<br />
</h2>
<p>2. Many programmers habitually <span style="color:#2e74b5;">#include</span> many more headers than necessary. Unfortunately, doing so can seriously degrade build times, especially when a popular header file includes too many other headers.
</p>
<p>In the following header file, what <span style="color:#2e74b5;">#include</span> directives could be immediately removed without ill effect? You may not make any changes other than removing or rewriting <span style="color:#2e74b5;">#include</span> directives. Note that the comments are important.
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>//  x.h: original header<br />//<br />#include &lt;iostream&gt;<br />#include &lt;ostream&gt;<br />#include &lt;list&gt;<br /><br />// None of A, B, C, D or E are templates.<br />// Only A and C have virtual functions.<br />#include "a.h"  // class A<br />#include "b.h"  // class B<br />#include "c.h"  // class C<br />#include "d.h"  // class D<br />#include "e.h"  // class E<br /><br />class X : public A, private B {<br />public:<br />       X( const C&amp; );<br />    B  f( int, char* );<br />    C  f( int, C );<br />    C&amp; g( B );<br />    E  h( E );<br />    virtual std::ostream&amp; print( std::ostream&amp; ) const;<br /><br />  private:<br />    std::list&lt;C&gt; clist;<br />    D            d_;<br />  };<br /><br />std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, const X&amp; x ) {<br />    return x.print(os);<br />}
</code></pre></p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/gotw/" rel="category tag">GotW</a> | 											21 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">21 Responses</h3>

	<ol class="commentlist">
			<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-12230">
		<div id="div-comment-12230">
		<div class="cmtinfo"><em> on <a href="#comment-12230" title="">2013-08-19 at 2:30 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12230"></div><p>@Gennaro: Yes, I&#8217;ll add a note to be clear it&#8217;s okay to replace #include with a forward declaration.</p>
<p>All: Remember to use  for code blocks, or escape those pesky characters using &#8220;&amp; l t ;&#8221; and &#8220;&amp; g t ;&#8221;. Sorry, it&#8217;s a WordPress thing.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12199">
		<div id="div-comment-12199">
		<div class="cmtinfo"><em> on <a href="#comment-12199" title="">2013-08-16 at 11:00 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/cadde58d8250971f6c1868587d38d142?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Norm</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12199"></div><p>It appears something is drastically removing things from peoples comments.<br />
A lot of them are saying remove #include and nothing after.<br />
like this</p>
<p>To the includes:<br />
#include<br />
#include</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12198">
		<div id="div-comment-12198">
		<div class="cmtinfo"><em> on <a href="#comment-12198" title="">2013-08-16 at 6:22 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/fa74a78b12f359738eaf59489de2dcb2?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Paul Omta</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12198"></div><p>Guru question #2.</p>
<p>* Replace iostream and ostream include with an include of iosfwd. I forgot where I read this, but this neat trick avoids including the heavy iostream header.</p>
<p>* Remove c.h and e.h, as previously stated. These can be replaced with forward declarations.</p>
<p>* d.h and list includes can be removed if one uses Herb&#8217;s own Private Implementation Pattern, but from the wording of the question, this seems out of scope of the question. It would require a change in the class itself.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12179">
		<div id="div-comment-12179">
		<div class="cmtinfo"><em> on <a href="#comment-12179" title="">2013-08-14 at 2:45 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/2385676760fc16f76a43f3319faaa843?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Johannes Schaub (litb)</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12179"></div><p>There&#8217;s another detail for class &#8220;C&#8221;. Since &#8220;A&#8221; has virtual functions, and we don&#8217;t know which, we must assume that &#8220;A::g( B )&#8221; might be virtual. If so, for the worstcase scenario we need to include &#8220;C&#8221; because the return type in the overridden function might differ from &#8220;C&amp;&#8221; (if C is a derived class of it, covariance).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12178">
		<div id="div-comment-12178">
		<div class="cmtinfo"><em> on <a href="#comment-12178" title="">2013-08-14 at 12:17 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/2a4ed3624369bac1dc21297f7ebb464d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.akiwi.co.uk' rel='external nofollow' class='url'>Mark</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12178"></div><p>You can get rid of all of them if you parameterise the entire class.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12166">
		<div id="div-comment-12166">
		<div class="cmtinfo"><em> on <a href="#comment-12166" title="">2013-08-13 at 9:34 am</a></em> <img alt='' src='https://i2.wp.com/graph.facebook.com/100005932212546/picture?q=type%3Dlarge&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/kostas.dritsas.3576' rel='external nofollow' class='url'>Kostas Dritsas</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12166"></div><p>Sorry, in my first sentence, i wanted to say: we remove header , we leave header </p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12165">
		<div id="div-comment-12165">
		<div class="cmtinfo"><em> on <a href="#comment-12165" title="">2013-08-13 at 9:31 am</a></em> <img alt='' src='https://i2.wp.com/graph.facebook.com/100005932212546/picture?q=type%3Dlarge%26_md5%3De8159903072c55da07e539fe5c4c0743&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/kostas.dritsas.3576' rel='external nofollow' class='url'>Kostas Dritsas</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12165"></div><p>First, i assume all header files use proper include guards. </p>
<p>*Here, the header  can be removed, because the function std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, const X&amp; x ) uses std::ostream object (typedef basic_ostream ostream, actually) so we can leave only the  header.</p>
<p>*From the class E, the header x.h uses the result and argument type; therefore its header file can be removed.</p>
<p>*A virtual table is a global variable declared implicitly for each class with at least one virtual function. So i think we should leave there the header &#8220;c.h&#8221;, otherwise the virtual table can&#8217;t be created.</p>
<p>*Definitely we ween the header file , because of the private object clist.<br />
*The same applies for the header &#8220;d.h&#8221;. (we need it, we construct the object d_ inside class X</p>
<p>*Class A has at least one virtual function, i understand it has one function declaration in it:  virtual std::ostream&amp; print( std::ostream&amp; ) const; it is overloaded by the function std::ostream&amp; class X::print( std::ostream&amp; ) const;<br />
Moreover, function std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, const X&amp; x ) calls function: print( std::ostream&amp; ); and object x can be of type either &quot;class X&quot; or &quot;class A&quot;, so i would leave the header a.h</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12164">
		<div id="div-comment-12164">
		<div class="cmtinfo"><em> on <a href="#comment-12164" title="">2013-08-13 at 9:09 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/ef95896d2a7b776c0c22f0039bd0bf4d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Brian M</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12164"></div><p>Agree too many includes is a bad thing but does the use of precompiled headers containing a lot of headers perhaps favour more than less? i.e you might have a lot of includes precompiled but is this better than fewer but not precompiled.   Spending a lot of time working out what to remove is also costly in time.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12159">
		<div id="div-comment-12159">
		<div class="cmtinfo"><em> on <a href="#comment-12159" title="">2013-08-13 at 5:24 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/2fb810cf7313d38d554fdea16371519f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Victor</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12159"></div><p>Guru Question: In the following header file, what #include directives could be immediately removed without ill effect? You may not make any changes other than removing or rewriting #include directives. Note that the comments are important.</p>
<p>About std headers: </p>
<p>1. Including  automatically includes also , , ,  and . So, we don&#8217;t need both  and , simple  is enouth. However, there is references only for ostream classes in function declarations &#8211; so we don&#8217;t need complete ostream type here. (Remember about function declarations). Just use forward declaration from  instead of  and .</p>
<p>2. Including  is needed &#8211; we use std::list as data member, so compiler needs complete type information here.</p>
<p>About custom headers:</p>
<p>1. class X is derived from A and B. So, compiler heeds complete type information here, leave &#8220;a.h&#8221; and &#8220;b.h&#8221; as is.</p>
<p>2. Class C is a great candidate for further removal, but it&#8217;s used in function declaration as parameter with passing by-value. It&#8217;s sad, but compiler needs to know about what class C is right here, so complete type is needed, and we leave #include &#8220;c.h&#8221; in code. Additionally, it is strange that class C has virtual functions, but is passed by-value. Schedule a meet with this code author :)</p>
<p>3. Class D is a data member. So, we need to leave &#8220;d.h&#8221;</p>
<p>4. Class E is used as return type in function declarations only. It&#8217;s strange, but compiler doesn&#8217;t need complete type here. AFAIR, it was side effect of C calling convention on x86 compilers. Maybe I&#8217;m wrong about why it&#8217;s not not needed (please correct me?) but I think, we could change #include &#8220;e.h&#8221; to forward declaration on class E;<br />
The only thing preventing us from this simple optimization is this exercise statement: We may not make any changes other than removing or rewriting #include directives. So, leave as is.</p>
<p>So, there is result:</p>
<pre class="brush: plain; title: ; notranslate" title="">
// #include &lt;iostream&gt; - removed
// #include &lt;ostream&gt; - changed to iosfwd
#include &lt;iosfwd&gt;  // placed instead of &lt;ostream&gt;
#include &lt;list&gt;

// None of A, B, C, D or E are templates.
// Only A and C have virtual functions.
#include &quot;a.h&quot;  // class A
#include &quot;b.h&quot;  // class B
#include &quot;c.h&quot;  // class C - candidate for further removal by rewriting 'C  f( int, C );' signature and adding forward declaration
#include &quot;d.h&quot;  // class D 
#include &quot;e.h&quot;  // class E - candidate for removal by changing to forward declaration right here and right now.

class X : public A, private B {
public:
       X( const C&amp; );
    B  f( int, char* );
    C  f( int, C );
    C&amp; g( B );
    E  h( E );
    virtual std::ostream&amp; print( std::ostream&amp; ) const;

  private:
    std::list&lt;C&gt; clist;
    D            d_;
  };

std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, const X&amp; x ) {
    return x.print(os);
}
</pre>
<p>I think, another optimization will result in redesign, so we can&#8217;t omit more headers right now.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12157">
		<div id="div-comment-12157">
		<div class="cmtinfo"><em> on <a href="#comment-12157" title="">2013-08-13 at 4:58 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/2fb810cf7313d38d554fdea16371519f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Victor</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12157"></div><p>Guru Question #2. Many programmers habitually #include many more headers than necessary. Unfortunately, doing so can seriously degrade build times, especially when a popular header file includes too many other headers.</p>
<p>1. Including  automatically includes also , , ,  and .<br />
So,  is not needed. However, don&#8217;t fool ourself &#8211;  is excess. Actually,  is enough, don&#8217;t include .</p>
<p>2. Next step about io streams usage: there is references to streams only. Compiler initially knows reference size for any class, so forward declaration is enough here. Replace streams implementation header  with forward declaration: .</p>
<p>That&#8217;s all about std headers &#8211; unfortunately, we use std::list as member, so full std::list class definition is needed. Lease  as is.</p>
<p>Class X is derived from A and B, so we need to know what A and B is &#8211; leave &#8220;a.h&#8221; and &#8220;b.h&#8221;.</p>
<p>Class C is candidate for further header removal, unfortunatelly, it&#8217;s passed into function declarations by value, so compiler need to know what is C, what constructors it have, etc. So, draw a sigh and leave &#8220;c.h&#8221;.</p>
<p>Class D is a data membe &#8211; compiler needs D declaration. Leave &#8220;d.h&#8221;</p>
<p>Class E is used in return type only &#8211; that&#8217;s good news. Return type might be incomplete type. This may be surprise, AFAIR, it&#8217;s good side effect of C calling conversions. I may be wrong in describing why it may be omitted (please correct me?) but I think we can remove &#8220;e.h&#8221;.</p>
<p>So, we have:</p>
<pre class="brush: plain; title: ; notranslate" title="">
#include &lt;iosfwd&gt;
#include &lt;list&gt;

// None of A, B, C, D or E are templates.
// Only A and C have virtual functions.
#include &quot;a.h&quot;  // class A
#include &quot;b.h&quot;  // class B
#include &quot;c.h&quot;  // class C - it's sad to see it here
#include &quot;d.h&quot;  // class D

class X : public A, private B {
public:
       X( const C&amp; );
    B  f( int, char* );
    C  f( int, C );
    C&amp; g( B );
    E  h( E );
    virtual std::ostream&amp; print( std::ostream&amp; ) const;

  private:
    std::list&lt;C&gt; clist;
    D            d_;
  };

std::ostream&amp; operator&lt;&lt;( std::ostream&amp; os, const X&amp; x ) {
    return x.print(os);
}
</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12155">
		<div id="div-comment-12155">
		<div class="cmtinfo"><em> on <a href="#comment-12155" title="">2013-08-13 at 4:40 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/2fb810cf7313d38d554fdea16371519f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Victor</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12155"></div><p>JQ #1: For a function or a class, what is the difference between a forward declaration and a definition?</p>
<p>For function: </p>
<p>Forward declaration specifies function&#8217;s return type and signature (parameters, cv-qualifiers if memeber, template parameters if any). It tells compiler about how to call this function, so parameters sizes should be known. Parameter size if known for any pointers, references or for complete types.<br />
Function definition may be treated as declaration, but additionally should contain function body: zero or more statements which will be executed during function call.</p>
<p>For class: </p>
<p>Class forward declaration provides incomplete type, including class name and template parameters (if any). Note, it doesn&#8217;t provide information about inheritance from base classes.<br />
Class definition provides complete type, including instance size (so, data member sizes and definition of base class are needed), declaration of all class methods and template parameters. So, definition provides all necessary information to compiler about what class is and how to use it, with or without function definitions.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-abrarov odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12154">
		<div id="div-comment-12154">
		<div class="cmtinfo"><em> on <a href="#comment-12154" title="">2013-08-13 at 3:59 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/ac51295810a3abf2ae009345a3cf76fc?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://abrarov.wordpress.com' rel='external nofollow' class='url'>abrarov</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12154"></div><pre class="brush: cpp; title: ; notranslate" title="">
//  x.h: original header
//

#ifndef X_H
#define X_H
#endif

#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1020)
#pragma once
#endif

#include &lt;iosfwd&gt;
#include &lt;list&gt;

// None of A, B, C, D or E are templates.
// Only A and C have virtual functions.
#include &quot;a.h&quot;  // class A
#include &quot;b.h&quot;  // class B
#include &quot;c.h&quot;  // class C
#include &quot;d.h&quot;  // class D

class E;

class X : public A, private B {
public:
       X(const C&amp;);
    B  f(int, char*);
    C  f(int, C);
    C&amp; g(B);
    E  h(E);
    virtual std::ostream&amp; print(std::ostream&amp;) const;

  private:
    std::list&lt;C&gt; clist;
    D            d_;
};

inline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const X&amp; x) {
    return x.print(os);
}

#endif // !defined(X_H)

</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12153">
		<div id="div-comment-12153">
		<div class="cmtinfo"><em> on <a href="#comment-12153" title="">2013-08-13 at 3:57 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/ac51295810a3abf2ae009345a3cf76fc?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/abrarov' rel='external nofollow' class='url'>Marat Abrarov</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12153"></div><pre class="brush: css; title: ; notranslate" title="">
//  x.h: original header
//

#ifndef X_H
#define X_H
#endif

#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1020)
#pragma once
#endif

#include &lt;iosfwd&gt;
#include &lt;list&gt;

// None of A, B, C, D or E are templates.
// Only A and C have virtual functions.
#include &quot;a.h&quot;  // class A
#include &quot;b.h&quot;  // class B
#include &quot;c.h&quot;  // class C
#include &quot;d.h&quot;  // class D

class E;

class X : public A, private B {
public:
       X(const C&amp;);
    B  f(int, char*);
    C  f(int, C);
    C&amp; g(B);
    E  h(E);
    virtual std::ostream&amp; print(std::ostream&amp;) const;

  private:
    std::list&lt;C&gt; clist;
    D            d_;
};

inline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const X&amp; x) {
    return x.print(os);
}

#endif // !defined(X_H)

</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12152">
		<div id="div-comment-12152">
		<div class="cmtinfo"><em> on <a href="#comment-12152" title="">2013-08-13 at 3:53 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/e599f89fae24384d5af3b5d376989ea0?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Marat Abrarov</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12152"></div><p>//  x.h: original header<br />
//</p>
<p>#ifndef X_H<br />
#define X_H<br />
#endif</p>
<p>#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1020)<br />
#pragma once<br />
#endif</p>
<p>#include<br />
#include </p>
<p>// None of A, B, C, D or E are templates.<br />
// Only A and C have virtual functions.<br />
#include &#8220;a.h&#8221;  // class A<br />
#include &#8220;b.h&#8221;  // class B<br />
#include &#8220;c.h&#8221;  // class C<br />
#include &#8220;d.h&#8221;  // class D</p>
<p>class E;</p>
<p>class X : public A, private B {<br />
public:<br />
       X(const C&amp;);<br />
    B  f(int, char*);<br />
    C  f(int, C);<br />
    C&amp; g(B);<br />
    E  h(E);<br />
    virtual std::ostream&amp; print(std::ostream&amp;) const;</p>
<p>  private:<br />
    std::list clist;<br />
    D            d_;<br />
};</p>
<p>inline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const X&amp; x) {<br />
    return x.print(os);<br />
}</p>
<p>#endif // !defined(X_H)</p>
<p>[/ecode]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12149">
		<div id="div-comment-12149">
		<div class="cmtinfo"><em> on <a href="#comment-12149" title="">2013-08-13 at 2:07 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/f6eaf3173d03147c5ad1e0fb7d85f102?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Arne Mertz</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12149"></div><p>@Gennaro rewriting #include direcitves includes their replacement by forward declarations.</p>
<p>@Alf I am not 100% sure, but wasn&#8217;t the requirement on the completely defined template argument type relaxed for auto_ptr? It is for shared_ptr and unique_ptr in C++11</p>
<p>To the includes:<br />
#include<br />
#include<br />
 &#8211;&gt; replace them by #include </p>
<p>#include &#8220;a.h&#8221;  // class A<br />
#include &#8220;b.h&#8221;  // class B<br />
#include &#8220;d.h&#8221;  // class D</p>
<p>&#8211;&gt; these are needed, as definitions of base classes and direct member variables are always needed (direct as compared to pointer/reference members and instantiated template members that have the class in their argument list)</p>
<p>#include &#8220;e.h&#8221;  // class E<br />
 &#8211;&gt; rewrite this one as forward declaration to class E; as its only used in function parameters and return types </p>
<p>#include &#8220;c.h&#8221;  // class C<br />
&#8211;&gt; needed. Formally, because the standard demands so for std::list template arguments. Technically at least, because X&#8217;s destructor is not declared and thus will be implicitly defined by the compiler, wich will instantiate the destructor for the std::list, wich in turn will destroy its elements, needing access to C::~C</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12143">
		<div id="div-comment-12143">
		<div class="cmtinfo"><em> on <a href="#comment-12143" title="">2013-08-12 at 8:05 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c73732232595afca920089aa1c915cc4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Anubhav</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12143"></div><p>In accordance with $3.2/4 &#8211;<br />
-&#8216;A&#8217; and &#8216;B&#8217; need to be complete types.<br />
-Classes C and E need not be complete, because X does not define (as opposed to declaring) any of it&#8217;s member functions,<br />
-D needs to be complete because class &#8216;X&#8217; has a member object of type &#8216;D&#8217;.<br />
-iostream can also be removed as we already include ostream</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12139">
		<div id="div-comment-12139">
		<div class="cmtinfo"><em> on <a href="#comment-12139" title="">2013-08-12 at 5:14 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/8a63fb909fa27c62c81c623696cc9461?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/tianyuzhu' rel='external nofollow' class='url'>Tianyu Zhu</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12139"></div><p>Remove #include , it&#8217;s not needed.<br />
Remove #include . Replace with #include.<br />
Forward declare class C.</p>
<p>I&#8217;m probably missing a lot of this.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12138">
		<div id="div-comment-12138">
		<div class="cmtinfo"><em> on <a href="#comment-12138" title="">2013-08-12 at 4:30 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/458ab9e0659ade2ef6bbf85452ac9435?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Gennaro</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12138"></div><p>Hi Herb, a little note just in case there&#8217;s an unintended limitation:</p>
<p>&gt; You may not make any changes other than removing or rewriting #include directives</p>
<p>Is the prohibition to forward declare intentional or was the wording just changed at the latest moment resulting too strict?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-helloworld922 even thread-even depth-1 highlander-comment" id="comment-12137">
		<div id="div-comment-12137">
		<div class="cmtinfo"><em> on <a href="#comment-12137" title="">2013-08-12 at 3:45 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/017645ede4e9307dffe51d902ee01a88?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://helloworld922.blogspot.com' rel='external nofollow' class='url'>helloworld922</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12137"></div><p>2. With only modifying the #include statements the only obvious inclusion I can get rid of is iostream (alt. can get rid of ostream, but I like including ostream instead of iostream because it&#8217;s more specific, and this doesn&#8217;t rely on iostream including ostream internally).</p>
<p>With forward declarations of class C and class E, c.h and e.h can be safely moved to x.cpp.</p>
<p>Also, shouldn&#8217;t the <code>operator&lt;&lt;</code> overload be extern with the actual implementation defined in x.cpp (alt.: declare it inline)?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12135">
		<div id="div-comment-12135">
		<div class="cmtinfo"><em> on <a href="#comment-12135" title="">2013-08-12 at 3:43 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/a072c16ad447418b01a43bfcd4d7ff9e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>MF</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12135"></div><p>Remove #include  &#8211; removes (often costly) instantiation of cin, cout, cerr and so on and ostream is enough here.<br />
Replace #include  with #include  &#8211; removes definition of ostream since only the declaration is needed here.<br />
Replace #include &#8220;e.h&#8221; with class E; &#8211; E is only used as a argument and return type.<br />
A, B and D are needed to calculate the size of X.<br />
C is needed since instantiation of std::list where C is an incomplete type is undefined behaviour.(17.6.4.8§2)</p>
<p>(operator&lt;&lt; should be inline to avoid ODR violations)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12134">
		<div id="div-comment-12134">
		<div class="cmtinfo"><em> on <a href="#comment-12134" title="">2013-08-12 at 3:17 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c6d1c46e2968a7674186b73b819dbca4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/alfps' rel='external nofollow' class='url'>Alf P. Steinbach</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12134"></div><p>In C++03 the &lt;ostream&gt; header could not be formally removed if one used e.g. std::endl, or the &lt;&lt; operator. However, in practice one could use just &lt;iostream&gt; (as all examples in the C++03 standard erroneously did), and with C++11 that&#8217;s also formally supported. In the above code it&#8217;s not an issue, so &lt;ostream&gt; can just be removed. I would also replace full &lt;iostream&gt; with &lt;iosfwd&gt;.</p>
<p>Class E is only used result and argument type, and so its header can be removed. The situation for class C is more complicated. The C++03 standard (I&#8217;m not 100% sure of C++11 and don&#8217;t have the time to check now, sorry) required the item type of a standard library container such as the std::list in this code, to be a complete type. However, this formal requirement was regularly sinned against with e.g. std::auto_ptr, by ensuring that the code conformed to the actual requirements of the particular C++ implementation. The most infamous case of this lets-be-practical-about-it approach was one of your own PIMPL GOTWs.. :-)  But anyway, at least for the formal class C&#8217;s header is needed, since C is used as a container item type, so, only the header for E can be omitted.</p>
<p>I would put a de facto standard #pragma once at the of that header.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2013/08/12/gotw-7a-minimizing-compile-time-dependencies-part-1/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-c0ba56bfd231f8f04feb057728975181">
	</div>
	<div class="grofile-hash-map-cadde58d8250971f6c1868587d38d142">
	</div>
	<div class="grofile-hash-map-fa74a78b12f359738eaf59489de2dcb2">
	</div>
	<div class="grofile-hash-map-2385676760fc16f76a43f3319faaa843">
	</div>
	<div class="grofile-hash-map-2a4ed3624369bac1dc21297f7ebb464d">
	</div>
	<div class="grofile-hash-map-5f5966eb1fdad03f2525cbc5a6dcc2da">
	</div>
	<div class="grofile-hash-map-ef95896d2a7b776c0c22f0039bd0bf4d">
	</div>
	<div class="grofile-hash-map-2fb810cf7313d38d554fdea16371519f">
	</div>
	<div class="grofile-hash-map-ac51295810a3abf2ae009345a3cf76fc">
	</div>
	<div class="grofile-hash-map-ac51295810a3abf2ae009345a3cf76fc">
	</div>
	<div class="grofile-hash-map-e599f89fae24384d5af3b5d376989ea0">
	</div>
	<div class="grofile-hash-map-f6eaf3173d03147c5ad1e0fb7d85f102">
	</div>
	<div class="grofile-hash-map-c73732232595afca920089aa1c915cc4">
	</div>
	<div class="grofile-hash-map-8a63fb909fa27c62c81c623696cc9461">
	</div>
	<div class="grofile-hash-map-458ab9e0659ade2ef6bbf85452ac9435">
	</div>
	<div class="grofile-hash-map-017645ede4e9307dffe51d902ee01a88">
	</div>
	<div class="grofile-hash-map-a072c16ad447418b01a43bfcd4d7ff9e">
	</div>
	<div class="grofile-hash-map-c6d1c46e2968a7674186b73b819dbca4">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_12230={"id":468178,"unique_id":"wp-comment-12230","title":"%40Gennaro%3A%20Yes%2C%20I%26%23039%3Bll%20add%20a%20note%20to%20be%20clear%20it%26%23039%3Bs%20okay%20to%20replace%20%23include%20with%20a%20forward%20declaration.All%3A%20Remember%20to%20use%20%26%23091%3Bcode%26%23093%3B%26%23091%3B%2Fcode%26%23093%3B%20for%20code%20blocks%2C%20or%20escape%20those%20pesky%20characters%20using%20%26quot%3B%26amp%3Bam...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12230","item_id":"_comm_12230"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12230 == 'undefined' ){PDRTJS_468178_comm_12230 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12230 );}}PDRTJS_settings_468178_comm_12199={"id":468178,"unique_id":"wp-comment-12199","title":"It%20appears%20something%20is%20drastically%20removing%20things%20from%20peoples%20comments.%20A%20lot%20of%20them%20are%20saying%20remove%20%23include%20and%20nothing%20after.like%20thisTo%20the%20includes%3A%23include%23include...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12199","item_id":"_comm_12199"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12199 == 'undefined' ){PDRTJS_468178_comm_12199 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12199 );}}PDRTJS_settings_468178_comm_12198={"id":468178,"unique_id":"wp-comment-12198","title":"Guru%20question%20%232.%2A%20Replace%20iostream%20and%20ostream%20include%20with%20an%20include%20of%20iosfwd.%20I%20forgot%20where%20I%20read%20this%2C%20but%20this%20neat%20trick%20avoids%20including%20the%20heavy%20iostream%20header.%2A%20Remove%20c.h%20and%20e.h%2C...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12198","item_id":"_comm_12198"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12198 == 'undefined' ){PDRTJS_468178_comm_12198 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12198 );}}PDRTJS_settings_468178_comm_12179={"id":468178,"unique_id":"wp-comment-12179","title":"There%26%23039%3Bs%20another%20detail%20for%20class%20%26quot%3BC%26quot%3B.%20Since%20%26quot%3BA%26quot%3B%20has%20virtual%20functions%2C%20and%20we%20don%26%23039%3Bt%20know%20which%2C%20we%20must%20assume%20that%20%26quot%3BA%3A%3Ag%28%20B%20%29%26quot%3B%20might%20be%20virtual.%20If%20so%2C%20for%20the%20worstcase%20scenario%20we%20need%20to%20incl...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12179","item_id":"_comm_12179"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12179 == 'undefined' ){PDRTJS_468178_comm_12179 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12179 );}}PDRTJS_settings_468178_comm_12178={"id":468178,"unique_id":"wp-comment-12178","title":"You%20can%20get%20rid%20of%20all%20of%20them%20if%20you%20parameterise%20the%20entire%20class....","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12178","item_id":"_comm_12178"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12178 == 'undefined' ){PDRTJS_468178_comm_12178 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12178 );}}PDRTJS_settings_468178_comm_12166={"id":468178,"unique_id":"wp-comment-12166","title":"Sorry%2C%20in%20my%20first%20sentence%2C%20i%20wanted%20to%20say%3A%20we%20remove%20header%20%2C%20we%20leave%20header%20...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12166","item_id":"_comm_12166"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12166 == 'undefined' ){PDRTJS_468178_comm_12166 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12166 );}}PDRTJS_settings_468178_comm_12165={"id":468178,"unique_id":"wp-comment-12165","title":"First%2C%20i%20assume%20all%20header%20files%20use%20proper%20include%20guards.%20%2AHere%2C%20the%20header%20%20can%20be%20removed%2C%20because%20the%20function%20std%3A%3Aostream%26amp%3B%20operator%26lt%3B%26lt%3B%28%20std%3A%3Aostream%26amp%3B%20os%2C%20const%20X%26amp%3B%20x%20%29%20uses...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12165","item_id":"_comm_12165"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12165 == 'undefined' ){PDRTJS_468178_comm_12165 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12165 );}}PDRTJS_settings_468178_comm_12164={"id":468178,"unique_id":"wp-comment-12164","title":"Agree%20too%20many%20includes%20is%20a%20bad%20thing%20but%20does%20the%20use%20of%20precompiled%20headers%20containing%20a%20lot%20of%20headers%20perhaps%20favour%20more%20than%20less%3F%20i.e%20you%20might%20have%20a%20lot%20of%20includes%20precompiled%20but%20is%20t...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12164","item_id":"_comm_12164"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12164 == 'undefined' ){PDRTJS_468178_comm_12164 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12164 );}}PDRTJS_settings_468178_comm_12159={"id":468178,"unique_id":"wp-comment-12159","title":"Guru%20Question%3A%20In%20the%20following%20header%20file%2C%20what%20%23include%20directives%20could%20be%20immediately%20removed%20without%20ill%20effect%3F%20You%20may%20not%20make%20any%20changes%20other%20than%20removing%20or%20rewriting%20%23include%20direc...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12159","item_id":"_comm_12159"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12159 == 'undefined' ){PDRTJS_468178_comm_12159 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12159 );}}PDRTJS_settings_468178_comm_12157={"id":468178,"unique_id":"wp-comment-12157","title":"Guru%20Question%20%232.%20Many%20programmers%20habitually%20%23include%20many%20more%20headers%20than%20necessary.%20Unfortunately%2C%20doing%20so%20can%20seriously%20degrade%20build%20times%2C%20especially%20when%20a%20popular%20header%20file%20includes%20...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12157","item_id":"_comm_12157"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12157 == 'undefined' ){PDRTJS_468178_comm_12157 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12157 );}}PDRTJS_settings_468178_comm_12155={"id":468178,"unique_id":"wp-comment-12155","title":"JQ%20%231%3A%20For%20a%20function%20or%20a%20class%2C%20what%20is%20the%20difference%20between%20a%20forward%20declaration%20and%20a%20definition%3FFor%20function%3A%20Forward%20declaration%20specifies%20function%26%23039%3Bs%20return%20type%20and%20signature%20%28parameter...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12155","item_id":"_comm_12155"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12155 == 'undefined' ){PDRTJS_468178_comm_12155 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12155 );}}PDRTJS_settings_468178_comm_12154={"id":468178,"unique_id":"wp-comment-12154","title":"%26%23091%3Bcode%20language%3D%26quot%3Bcpp%26quot%3B%26%23093%3B%2F%2F%20%20x.h%3A%20original%20header%2F%2F%23ifndef%20X_H%23define%20X_H%23endif%23if%20defined%28_MSC_VER%29%20%26amp%3B%26amp%3B%20%28_MSC_VER%20%26gt%3B%3D%201020%29%23pragma%20once%23endif%23include%20%26lt%3Biosfwd%26gt%3B%23include%20%26lt%3Blist%26gt%3B%2F%2F%20N...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12154","item_id":"_comm_12154"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12154 == 'undefined' ){PDRTJS_468178_comm_12154 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12154 );}}PDRTJS_settings_468178_comm_12153={"id":468178,"unique_id":"wp-comment-12153","title":"%26%23091%3Bcode%20language%3D%26quot%3Bcss%26quot%3B%26%23093%3B%2F%2F%20%20x.h%3A%20original%20header%2F%2F%23ifndef%20X_H%23define%20X_H%23endif%23if%20defined%28_MSC_VER%29%20%26amp%3B%26amp%3B%20%28_MSC_VER%20%26gt%3B%3D%201020%29%23pragma%20once%23endif%23include%20%26lt%3Biosfwd%26gt%3B%23include%20%26lt%3Blist%26gt%3B%2F%2F%20N...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12153","item_id":"_comm_12153"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12153 == 'undefined' ){PDRTJS_468178_comm_12153 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12153 );}}PDRTJS_settings_468178_comm_12152={"id":468178,"unique_id":"wp-comment-12152","title":"%26%23091%3Bcode%20language%3D%26quot%3Bcss%26quot%3B%26%23093%3B%26%23091%3B%2Fcode%26%23093%3B%2F%2F%20%20x.h%3A%20original%20header%2F%2F%23ifndef%20X_H%23define%20X_H%23endif%23if%20defined%28_MSC_VER%29%20%26amp%3B%26amp%3B%20%28_MSC_VER%20%26gt%3B%3D%201020%29%23pragma%20once%23endif%23include%20%23include%20%2F%2F%20None%20of%20A%2C%20B%2C%20C%2C%20D%20o...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12152","item_id":"_comm_12152"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12152 == 'undefined' ){PDRTJS_468178_comm_12152 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12152 );}}PDRTJS_settings_468178_comm_12149={"id":468178,"unique_id":"wp-comment-12149","title":"%40Gennaro%20rewriting%20%23include%20direcitves%20includes%20their%20replacement%20by%20forward%20declarations.%40Alf%20I%20am%20not%20100%25%20sure%2C%20but%20wasn%26%23039%3Bt%20the%20requirement%20on%20the%20completely%20defined%20template%20argument%20type%20rela...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12149","item_id":"_comm_12149"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12149 == 'undefined' ){PDRTJS_468178_comm_12149 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12149 );}}PDRTJS_settings_468178_comm_12143={"id":468178,"unique_id":"wp-comment-12143","title":"In%20accordance%20with%20%243.2%2F4%20-%20-%26%23039%3BA%26%23039%3B%20and%20%26%23039%3BB%26%23039%3B%20need%20to%20be%20complete%20types.-Classes%20C%20and%20E%20need%20not%20be%20complete%2C%20because%20X%20does%20not%20define%20%28as%20opposed%20to%20declaring%29%20any%20of%20it%26%23039%3Bs%20member%20functions%2C%20-D%20need...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12143","item_id":"_comm_12143"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12143 == 'undefined' ){PDRTJS_468178_comm_12143 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12143 );}}PDRTJS_settings_468178_comm_12139={"id":468178,"unique_id":"wp-comment-12139","title":"Remove%20%23include%20%2C%20it%26%23039%3Bs%20not%20needed.Remove%20%23include%20.%20Replace%20with%20%23include.Forward%20declare%20class%20C.I%26%23039%3Bm%20probably%20missing%20a%20lot%20of%20this....","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12139","item_id":"_comm_12139"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12139 == 'undefined' ){PDRTJS_468178_comm_12139 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12139 );}}PDRTJS_settings_468178_comm_12138={"id":468178,"unique_id":"wp-comment-12138","title":"Hi%20Herb%2C%20a%20little%20note%20just%20in%20case%20there%26%23039%3Bs%20an%20unintended%20limitation%3A%26gt%3B%20You%20may%20not%20make%20any%20changes%20other%20than%20removing%20or%20rewriting%20%23include%20directivesIs%20the%20prohibition%20to%20forward%20declare%20in...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12138","item_id":"_comm_12138"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12138 == 'undefined' ){PDRTJS_468178_comm_12138 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12138 );}}PDRTJS_settings_468178_comm_12137={"id":468178,"unique_id":"wp-comment-12137","title":"2.%20With%20only%20modifying%20the%20%23include%20statements%20the%20only%20obvious%20inclusion%20I%20can%20get%20rid%20of%20is%20iostream%20%28alt.%20can%20get%20rid%20of%20ostream%2C%20but%20I%20like%20including%20ostream%20instead%20of%20iostream%20because%20it%26%23039%3Bs%20...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12137","item_id":"_comm_12137"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12137 == 'undefined' ){PDRTJS_468178_comm_12137 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12137 );}}PDRTJS_settings_468178_comm_12135={"id":468178,"unique_id":"wp-comment-12135","title":"Remove%20%23include%20%20-%20removes%20%28often%20costly%29%20instantiation%20of%20cin%2C%20cout%2C%20cerr%20and%20so%20on%20and%20ostream%20is%20enough%20here.Replace%20%23include%20%20with%20%23include%20%20-%20removes%20definition%20of%20ostream%20since%20only%20the%20dec...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12135","item_id":"_comm_12135"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12135 == 'undefined' ){PDRTJS_468178_comm_12135 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12135 );}}PDRTJS_settings_468178_comm_12134={"id":468178,"unique_id":"wp-comment-12134","title":"In%20C%2B%2B03%20the%20%26lt%3Bostream%26gt%3B%20header%20could%20not%20be%20formally%20removed%20if%20one%20used%20e.g.%20std%3A%3Aendl%2C%20or%20the%20%26lt%3B%26lt%3B%20operator.%20However%2C%20in%20practice%20one%20could%20use%20just%20%26lt%3Biostream%26gt%3B%20%28as%20all%20examples%20i...","permalink":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/#comment-12134","item_id":"_comm_12134"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12134 == 'undefined' ){PDRTJS_468178_comm_12134 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12134 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMo6aBzgUFVDWuuBhonH2uraGJkZGxiZGhsUkWAHKDfoc='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2013\/08\/12\/gotw-7a-minimizing-compile-time-dependencies-part-1\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F","postID":"2277","shortlink":"https:\/\/wp.me\/peb5Y-AJ","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/2277","statsLink":"https:\/\/wordpress.com\/stats\/post\/2277\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F08%2F12%2Fgotw-7a-minimizing-compile-time-dependencies-part-1%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'2277','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sNGtvK0phaSVQRzVpTk58eltoaSZkdG9XaVkudTNYTU4xW1NOMnZOeGpaaXRRLHxuLnZtOVlnTiYuWXNPSitmOFY0MF10eDVpTzcuRDlbSyx5c2xEZF9OTTksckImMXRpUUtWQkJbQXFyb1FobTAwQTRVZEpwUXdJdlRbPVNlQ34/Jkd8UCtMdUpbM0RVZ0QtYzhyaSYwLHxpejdjZEMwLHJuNGp8Y2NdPUpZOWZxXy1VSTBTVnBQTzV2b01jQ0lrJXFmdH5N'}]);
_stq.push([ 'clickTrackerInit', '3379246', '2277' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>
<!--
	generated 24 seconds ago
	generated in 0.122 seconds
	served from batcache in 0.001 seconds
	expires in 276 seconds
-->
