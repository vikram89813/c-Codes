<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>GotW #93: Auto Variables, Part 2 | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965366&amp;back=https%3A%2F%2Fherbsutter.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; GotW #93: Auto Variables, Part&nbsp;2 Comments Feed" href="https://herbsutter.com/2013/06/07/gotw-93-auto-variables-part-2/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='GotW #92 Solution: Auto Variables, Part&nbsp;1' href='https://herbsutter.com/2013/06/07/gotw-92-solution-auto-variables-part-1/' />
<link rel='next' title='GotW #93 Solution: Auto Variables, Part&nbsp;2' href='https://herbsutter.com/2013/06/13/gotw-93-solution-auto-variables-part-2/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2013/06/07/gotw-93-auto-variables-part-2/" />
<link rel='shortlink' href='https://wp.me/peb5Y-yb' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="GotW #93: Auto Variables, Part 2" />
<meta property="og:url" content="https://herbsutter.com/2013/06/07/gotw-93-auto-variables-part-2/" />
<meta property="og:description" content="Why prefer declaring variables using auto? Let us count some of the reasons why…  Problem JG Question 1. In the following code, what actual or potential pitfalls exist in each labeled piece of code…" />
<meta property="article:published_time" content="2013-06-07T14:06:54+00:00" />
<meta property="article:modified_time" content="2013-06-07T14:06:54+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965366" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="GotW #93: Auto Variables, Part&nbsp;2" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="Why prefer declaring variables using auto? Let us count some of the reasons why…  Problem JG Question 1. In the following code, what actual or potential pitfalls exist in each labeled piece of code? Which of these pitfalls would using auto variable declarations fix, and why or why not? // (a)void traverser( const vector&lt;int&gt;&amp; v&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2013/06/07/gotw-93-auto-variables-part-2/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-2119 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2013/06/07/gotw-92-solution-auto-variables-part-1/" rel="prev">GotW #92 Solution: Auto Variables, Part&nbsp;1</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2013/06/13/gotw-93-solution-auto-variables-part-2/" rel="next">GotW #93 Solution: Auto Variables, Part&nbsp;2</a> &raquo;</div>
			</div>
			
			<div class="post-2119 post type-post status-publish format-standard hentry category-gotw" id="post-2119">
				<div class="posttitle">
					<h2>GotW #93: Auto Variables, Part&nbsp;2</h2>
					<p class="post-info">2013-06-07 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><span style="color:#5a5a5a;"><em>Why prefer declaring variables using auto? Let us count some of the reasons why…<br />
</em></span></p>
<p>
 </p>
<h1>Problem<br />
</h1>
<h2>JG Question<br />
</h2>
<p>1. In the following code, what actual or potential pitfalls exist in each labeled piece of code? Which of these pitfalls would using <span style="color:#2e74b5;">auto</span> variable declarations fix, and why or why not?
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>// (a)<br />void traverser( const vector&lt;int&gt;&amp; v ) {<br />    for( vector&lt;int&gt;::iterator i = begin(v); i != end(v); i += 2 )<br />        // ...<br />}<br /><br />// (b)<br />vector&lt;int&gt; v1(5);<br />vector&lt;int&gt; v2 = 5;<br /><br />// (c)<br />gadget get_gadget();<br />// ...<br />widget w = get_gadget();<br /><br />// (d)<br />function&lt;void(vector&lt;int&gt;)&gt; get_size<br />    = [](vector&lt;int&gt; x) { return x.size(); };
</code></pre>
</p>
<h2>Guru Question<br />
</h2>
<p>2. Same question, subtler examples: In the following code, what actual or potential pitfalls exist in each labeled piece of code? Which of these pitfalls would using <span style="color:#2e74b5;">auto</span> variable declarations fix, and why or why not?
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>// (a)<br />widget w;<br /><br />// (b)<br />vector&lt;string&gt; v;<br />int size = v.size();<br /><br />// (c) x and y are of some built-in integral type<br />int total = x + y;<br /><br />// (d) x and y are of some built-in integral type<br />int diff = x - y;<br />if(diff &lt; 0) { /*...*/ }<br /><br />// (e)<br />int i = f(1,2,3) * 42.0;
</code></pre></p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/gotw/" rel="category tag">GotW</a> | 											12 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">12 Responses</h3>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1 highlander-comment" id="comment-11289">
		<div id="div-comment-11289">
		<div class="cmtinfo"><em> on <a href="#comment-11289" title="">2013-06-13 at 11:51 am</a></em> <img alt='' src='https://i2.wp.com/graph.facebook.com/100004054812229/picture?q=type%3Dlarge%26_md5%3D9e5f827892523ff7a319a1687be4b4dd&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/profile.php?id=100004054812229' rel='external nofollow' class='url'>Róbert Dávid</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11289"></div><p>@Unsigned Int:</p>
<p>(How odd name you got :) )</p>
<p>Come on, it&#8217;s the textbook case of the new hammer. Not everything is a nail &#8211; you don&#8217;t have to use auto for everything. auto is for the case of storing the result of a function/expression, with the appropriate type &#8211; you don&#8217;t want to do that here, rather you want to define a cycle variable, of a given type (size_t), initialized to zero.</p>
<p>Auto is for when you want a variable of a &#8216;meh, idontcare&#8217; type. If you want a given type, declare with the given type.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11273">
		<div id="div-comment-11273">
		<div class="cmtinfo"><em> on <a href="#comment-11273" title="">2013-06-13 at 5:54 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/750def46d74f39225fd824a6483f6dff?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Unsigned Int</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11273"></div><p>@mttpd:</p>
<pre class="brush: plain; title: ; notranslate" title="">// STILL WRONG: using `int` for size is bad and you should feel bad
for (auto iWRONG = 0; iWRONG &lt; v.size(); i += 2)</pre>
<p>How about this:</p>
<pre class="brush: plain; title: ; notranslate" title=""> auto i = 0u;</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-11166">
		<div id="div-comment-11166">
		<div class="cmtinfo"><em> on <a href="#comment-11166" title="">2013-06-10 at 3:51 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/f1c1ee952adf2ec921c01b425011d96a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Johan Oudinet</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11166"></div><p>@mttpd: Thanks for your comment. I&#8217;ve learnt a lot by reading it ;-)<br />
To come back on David&#8217;s suggestion, instead of:<br />
auto w = get_gadget();<br />
I would have used:<br />
auto w = widget { get_gadget() };<br />
making then explicit that I want w to be a widget object. This is similar to what have been done in 2a.1 from <a href="https://herbsutter.com/2013/05/22/gotw-5-solution-overriding-virtual-functions/" rel="nofollow">https://herbsutter.com/2013/05/22/gotw-5-solution-overriding-virtual-functions/</a><br />
However, I don&#8217;t have a good example why it might be important to force w to be of type widget instead of gadget. As you said, if gadget IS-A widget, we are still safe in using the gadget object with anything that wants a widget. The only reason could be if there is no implicit conversion from gadget to widget but then the original code won&#8217;t compile.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11147">
		<div id="div-comment-11147">
		<div class="cmtinfo"><em> on <a href="#comment-11147" title="">2013-06-09 at 10:09 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11147"></div><p>Correction: no, <code>std::cbegin</code> or <code>std::cend</code> won&#8217;t be necessary here, since the argument&#8217;s type is already <code>const</code> and thus the right, <code>const</code>-correct overloads of <code>std::begin</code> and <code>std::end</code> shall be chosen.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd even thread-even depth-1 highlander-comment" id="comment-11146">
		<div id="div-comment-11146">
		<div class="cmtinfo"><em> on <a href="#comment-11146" title="">2013-06-09 at 9:49 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11146"></div><p>That&#8217;s a good catch, afrantzis!</p>
<p>After thinking about it, this makes me tend to prefer the index-based solution (with std::size_t) or even better Boost.Range one (it&#8217;s better and IMO is to be preferred since it&#8217;s less error-prone and more expressive, analogously to how using STL algorithms is less error-prone &amp; more expressive than hand-coded loops in general) &#8212; since, in addition to <code>auto</code>, I think we should also use <code>std::cbegin</code> and <code>std::cend</code> (from C++14) instead of their non-const counterparts.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11143">
		<div id="div-comment-11143">
		<div class="cmtinfo"><em> on <a href="#comment-11143" title="">2013-06-09 at 7:44 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/55101e5a6101483be1621d6c022d77d8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>afrantzis</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11143"></div><p>1(a) The code is incorrect, since we are trying to get a non-const iterator to a const container. By using auto we would have avoided this programming error; the expected (and safe) const_iterator type would have been chosen.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd even thread-even depth-1 highlander-comment" id="comment-11089">
		<div id="div-comment-11089">
		<div class="cmtinfo"><em> on <a href="#comment-11089" title="">2013-06-07 at 1:58 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11089"></div><p>David: it&#8217;s not necessarily less safe, since the following assumption may not hold (it is not guaranteed): &#8220;presumably then `w` is a functioning `widget`.&#8221;<br />
If the `gadget` &amp; `widget` types are in the IS-A relationship, we&#8217;re facing the so-called slicing problem, see:<br />
<a href="http://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c" rel="nofollow">http://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c</a></p>
<p>That being said, your &#8220;As long,,,&#8221; explanation also applies to the object slicing problem and is a nice description :-)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11088">
		<div id="div-comment-11088">
		<div class="cmtinfo"><em> on <a href="#comment-11088" title="">2013-06-07 at 1:43 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c5750c14e2bd0f866dfe2239c40fd861?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>David Thornley</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11088"></div><p>1.  In </p>
<pre class="brush: plain; title: ; notranslate" title="">
// (c)
gadget get_gadget();
// ...
widget w = get_gadget();
</pre>
<p>changing the variable declaration to</p>
<pre class="brush: plain; title: ; notranslate" title="">
auto w = get_gadget();
</pre>
<p>could be less safe.  In the first case, we get a compile error unless we have an automatic conversion from gadget to widget.  If we have one, there is no error, but presumably then w is a functioning widget.  If we write w.Foo(), we know we&#8217;re using widget::Foo().  Either there&#8217;s a compiler error or there are no surprises.</p>
<p>In the second case, the type of w is gadget, but we don&#8217;t realize that.  We&#8217;re presumably assuming the type of w is widget.  As long as we don&#8217;t call any function that doesn&#8217;t have a counterpart of the same name in gadget, we&#8217;re not going to get a compile error, and we&#8217;re going to be mistaken in what we&#8217;re calling.  If we write w.Foo(), we&#8217;re calling gadget::Foo(), which may do something unexpected if we&#8217;re unlucky.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd even thread-even depth-1 highlander-comment" id="comment-11087">
		<div id="div-comment-11087">
		<div class="cmtinfo"><em> on <a href="#comment-11087" title="">2013-06-07 at 1:38 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11087"></div><p>Again, assuming C++14 with polymorphic lambdas supporting universal references, let&#8217;s change the code in 1.(d) to: </p>
<pre class="brush: plain; title: ; notranslate" title="">auto get_size = [](auto &amp;&amp; x) { return x.size(); };</pre>
<p> (for the reasons see my previous comment).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11086">
		<div id="div-comment-11086">
		<div class="cmtinfo"><em> on <a href="#comment-11086" title="">2013-06-07 at 1:34 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11086"></div><p>Come to think of it, I&#8217;d also replace the lambda in 1.(a) with the following (still C++14):</p>
<pre class="brush: plain; title: ; notranslate" title="">[](const auto &amp; value) { /* std::cout &lt;&lt; value; */ }</pre>
<p>or, if the C++14 polymorphic lambdas support universal references (which they hopefully do), simply:</p>
<pre class="brush: plain; title: ; notranslate" title="">[](auto &amp;&amp; value) { /* std::cout &lt;&lt; value; */ }</pre>
<p>(for automatic const-correctness with less typing; and to handle a certain nasty proxy case ;]).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd even thread-even depth-1 highlander-comment" id="comment-11085">
		<div id="div-comment-11085">
		<div class="cmtinfo"><em> on <a href="#comment-11085" title="">2013-06-07 at 1:28 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11085"></div><p>Sigh&#8230; one more typo :-) This time, in the code in &#8220;1.(a)&#8221;, which instead of</p>
<pre class="brush: plain; title: ; notranslate" title="">for( std::size_t i = 0; i &lt; 0; i += 2 )</pre>
<p>should say</p>
<pre class="brush: plain; title: ; notranslate" title="">for( std::size_t i = 0; i &lt; v.size(); i += 2 )</pre>
<p>Giving how easy it is to make typos in this context, I&#8217;m becoming more and more inclined toward recommending the Boost.Range solution here :-)</p>
<p>Let me use this opportunity to make one more note on the genericity &#8212; the Boost.Range solution in fact only requires a type that is a model of Single Pass Range. This corresponds to an iterator type being a model of Single Pass Iterator (which has even less requirements than a Forward Traversal iterator, let alone a Random Access Iterator).</p>
<p>One could ask then, isn&#8217;t requiring a RandomAccessContainer an over-specification?<br />
Well, this is similar to considering whether we should replace `it += 2` with `std::advance(it, 2)`.<br />
After thinking about it, I&#8217;d say that there are no good *general* answers here, since it depends on the use case; the trade-offs to consider are as follows:<br />
&#8211; either: clear-cut complexity guarantees (`it += 2` is either O(1) or doesn&#8217;t compile if we keep the requirement),<br />
&#8211; or: increased level of genericity (dropping the requirement; the cost of `std::advance(it, 2)` depends on the iterator category, which depends on the container).</p>
<p>If we go down the road of increased genericity, we&#8217;d have to use a `SinglePassRange` concept instead (or `SinglePassContainer` / `SinglePassIterator` where applicable) and carefully document the performance impact of having types modeling a different levels of refinement of this concept.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-11073">
		<div id="div-comment-11073">
		<div class="cmtinfo"><em> on <a href="#comment-11073" title="">2013-06-07 at 8:07 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11073"></div><p>// Note: posting _once_ again (I *really* wish there was an &#8220;edit&#8221; option at this point), feel free to remove my previous comments (and this note), was hoping to avoid the hassle with URL formatting, obviously didn&#8217;t work; also fixed a few typos and a bug; sorry for any inconvenience this might have caused :-)</p>
<p>1.(a) We can generalize the code from using `int` to other value_types stored in std::vector.</p>
<p>// On a side note: I usually prefer to use `it` for iterators and `i` for indexes for easy disambiguation.</p>
<p>However, since we&#8217;re relying on the RandomAccessIterator concept when we do `it += 2`, we can&#8217;t generalize beyond the types which model it (as long as we&#8217;re talking about the Standard), `std::vector`, `std::array`. and `std::deque` (an old C-style array would work, too).<br />
While we could replace `it += 2` by `std::advance(it, 2)`, this would have performance implications (no longer guaranteed O(1) on this op).</p>
<p>Overall, it&#8217;s worth remembering Scott Meyers&#8217; advice from &#8220;Effective STL&#8221;: &#8220;Item 2: Beware the illusion of container-independent code.&#8221;</p>
<p>However, given that there are multiple types modeling RandomAccessContainer for which `traverse` makes sense, there&#8217;s a case for making our `traverse` a bit more generic:</p>
<pre class="brush: plain; title: ; notranslate" title="">
template &lt;typename RandomAccessContainer&gt;
void traverser( const RandomAccessContainer &amp; v ) {
    using std::begin;
    using std::end;
    for( auto it = begin(v); it != end(v); it += 2 )
</pre>
<p>First, the error part (easily tested for 1-sized vector): since we&#8217;re traversing with non-unit stride, we have a potential out of bounds error here (stepping too far). First, we have to change the test condition (`it` relies on being `RandomAccessIterator` for this type of traversal anyway, so that&#8217;s fine; see the aforementioned &#8220;Item 2&#8221;):</p>
<pre class="brush: plain; title: ; notranslate" title="">for( auto it = begin(v); it &lt; end(v); it += 2 )</pre>
<p>That&#8217;s not the end of it &#8212; advancing an iterator past the end is actually undefined behavior.<br />
Credit goes to James McNellis for a solution in this case:<br />
<a href="http://stackoverflow.com/questions/9387569/non-unit-iterator-stride-with-non-random-access-iterators" rel="nofollow">http://stackoverflow.com/questions/9387569/non-unit-iterator-stride-with-non-random-access-iterators</a></p>
<p>See also:<br />
<a href="http://stackoverflow.com/questions/1057724/what-if-i-increment-an-iterator-by-2-when-it-points-onto-the-last-element-of-a-v" rel="nofollow">http://stackoverflow.com/questions/1057724/what-if-i-increment-an-iterator-by-2-when-it-points-onto-the-last-element-of-a-v</a></p>
<p>Now, let me explain the using declarations `using std::begin` and `using std::end`.<br />
Note, that while `begin(v)` will work for `std::` containers thanks to ADL, it will not work for C-style arrays.<br />
At the same time, simply replacing it with `std::begin` would be a bad idea, since it would prevent the user from applying `traverse` to user-defined containers (which obviously don&#8217;t live in `std::`).<br />
Hence, analogously to what we do with `using std::swap` and `swap` in the copy-and-swap idiom, we pull in the `std` namespace into consideration with the using declaration, and keep using unqualified `begin`.<br />
Analogous considerations apply to `end`.</p>
<p>Given all these issues, I&#8217;d actually *strongly* consider using indexes here &#8212; note that we won&#8217;t lose any genericity, since we&#8217;re relying on having a `RandomAccessContainer` anyway &#8212; again, to repeat Scott Meyers&#8217; advice from &#8220;Effective STL&#8221;: &#8220;Item 2: Beware the illusion of container-independent code.&#8221;</p>
<p>Hence, after further consideration, I think I might possibly go against the grain here and suggest the following instead (together with including `cstddef`):</p>
<pre class="brush: plain; title: ; notranslate" title="">for( std::size_t i = 0; i &lt; 0; i += 2 )</pre>
<p>If one insists on using iterators here, I think we have to go Boost and use `boost::strided_range` / `boost::adaptors::strided`.<br />
Example: <a href="http://www.boost.org/doc/libs/release/libs/range/doc/html/range/reference/adaptors/reference/strided.html" rel="nofollow">http://www.boost.org/doc/libs/release/libs/range/doc/html/range/reference/adaptors/reference/strided.html</a></p>
<pre class="brush: plain; title: ; notranslate" title="">
// using C++14 polymorphic lambda

#include &lt;boost/range/adaptor/strided.hpp&gt;
#include &lt;boost/range/algorithm/for_each.hpp&gt; 

template &lt;typename RandomAccessContainer&gt;
void traverser( const RandomAccessContainer &amp; input ) {
    using namespace boost::adaptors;
    boost::for_each(
        input | strided(2),
        [](auto value) { /* std::cout &lt;&lt; value; */ });
}
</pre>
<p>To avoid unreadeable compiler diagnostics if our input cointainer&#8217;s type doesn&#8217;t model `RandomAccessContainer` concept:<br />
&#8211; with concepts lite in C++14 we&#8217;d constrain on `RandomAccessContainer` (and/or `RandomAccessIterator`) explicitly, instead of just typing out a name.<br />
&#8211; in C++11 we could add `static_assert` relying on the `iterator_category` being a `std::random_access_iterator_tag` and providing a readable error message otherwise.</p>
<p>1.(b)<br />
Simply use uniform initialization:</p>
<pre class="brush: plain; title: ; notranslate" title="">vector&lt;int&gt; v1{5};</pre>
<p>See also &#8220;Intuitive interface — Part I&#8221; on &#8220;Andrzej&#8217;s C++ blog&#8221; :-)<br />
<a href="http://akrzemi1.wordpress.com/2013/06/05/intuitive-interface-part-i/" rel="nofollow">http://akrzemi1.wordpress.com/2013/06/05/intuitive-interface-part-i/</a></p>
<p>1.(c)<br />
Here we see a case where the code using a hard-coded type has become more brittle &#8212; it&#8217;s not robust to changes in the return-type, which could lead to an unexpected object slicing.<br />
Hence:</p>
<pre class="brush: plain; title: ; notranslate" title="">auto w { get_gadget() };</pre>
<p>On a side note, perhaps it&#8217;s also a good idea to keep the standard convention of naming the factories &#8220;make&#8221;:</p>
<pre class="brush: plain; title: ; notranslate" title="">auto w { make_gadget() };</pre>
<p>1.(d)</p>
<p>`std::function` implies type-erasure and performance drop due to run-time operations, which is probably not what we want.<br />
Lambda types are not specified, so to keep using these directly we _have_ to use auto:</p>
<pre class="brush: plain; title: ; notranslate" title="">auto get_size = [](vector&lt;int&gt; x) { return x.size(); };</pre>
<p>It&#8217;s worth noting that beyond being unspecified, type names are also unique, so `decltype` wouldn&#8217;t work either.<br />
See &#8220;Auto – A Necessary Evil?&#8221; by Roger Orr in the ACCU&#8217;s Overload Journal #115, June 2013.<br />
[PDF] <a href="http://accu.org/var/uploads/journals/Overload115.pdf" rel="nofollow">http://accu.org/var/uploads/journals/Overload115.pdf</a></p>
<p>On a side note, note that (for similar reasons) we&#8217;d also prefer to use `auto` if our right-hand side object was a forwarding call wrapper returned by `std::bind` &#8212; so, it&#8217;s not just needed for lambdas :-)</p>
<p>2.(a)</p>
<p>Can&#8217;t really see an application for `auto` here, I think `auto w { widget() }` might be going somewhat overboard (it&#8217;s not even shorter to type, don&#8217;t see any clarity gain).<br />
// In either case, we&#8217;re relying on the `widget` modeling the `DefaultConstructible` concept.</p>
<p>2.(b)</p>
<p>Problem #1: using an `int` for a variable storing the size is a horrid crime against humanity! :D</p>
<p>I would&#8217;ve used `std::size_t` from `cstddef`, but I can see a case where `auto` could also work here.<br />
Not to be too optimistic/complacent, however, there&#8217;s a downside to using `auto` in a similar context:</p>
<pre class="brush: plain; title: ; notranslate" title="">
// WRONG: using `int` for size is bad and you should feel bad
for (int iWRONG = 0; iWRONG &lt; v.size(); i += 2)
</pre>
<p>now, let&#8217;s say we&#8217;d try to use `auto`:</p>
<pre class="brush: plain; title: ; notranslate" title="">
// STILL WRONG: using `int` for size is bad and you should feel bad
for (auto iWRONG = 0; iWRONG &lt; v.size(); i += 2)
</pre>
<p>The comment still stands, since the type of literal `0` is `int`!<br />
Hence, here we&#8217;d have to use a specific type:</p>
<pre class="brush: plain; title: ; notranslate" title="">
for (std::size_t i = 0; i &lt; v.size(); i += 2)
</pre>
<p>2.(c)</p>
<p>Hard-coding `int` ignores the integral promotion and the &#8220;usual arithmetic conversions&#8221; (UAC) rules.<br />
The proper result-type is given by the type trait `std::common_type`, with `decltype`-obtained types of `x` and `y`.<br />
Given that it&#8217;s probably too much typing and explaining ;], let&#8217;s just go with `auto` here:</p>
<pre class="brush: plain; title: ; notranslate" title="">auto total = x + y;</pre>
<p>2.(d)</p>
<p>This could get tricky, since the UAC could imply a promotion-to-unsigned, making the later predicate `diff &lt; 0` trivially always-false. To make this even more fun, it&#039;s actually implementation defined whether, say, `long int` or `unsigned int` &quot;wins&quot; in the promotion battle :-)</p>
<p>See Stephan T. Lavavej &#8211; Core C++, 7, Usual Arithmetic Conversions and Template Metaprogramming:<br />
<a href="http://channel9.msdn.com/Series/C9-Lectures-Stephan-T-Lavavej-Core-C-/Stephan-T-Lavavej-Core-C-7-of-n" rel="nofollow">http://channel9.msdn.com/Series/C9-Lectures-Stephan-T-Lavavej-Core-C-/Stephan-T-Lavavej-Core-C-7-of-n</a></p>
<p>See also:<br />
<a href="http://kanooth.com/blog/2010/08/cpp-templates-usual-arithmetic-conversions.html" rel="nofollow">http://kanooth.com/blog/2010/08/cpp-templates-usual-arithmetic-conversions.html</a></p>
<p>This won&#039;t do either:</p>
<pre class="brush: plain; title: ; notranslate" title="">if (x &lt; y) { /*...*/ }</pre>
<p>Compliant Solution from the CERT&#039;s INT02-CPP (which also explains how the above code is not robust to the integral promotion and UAC rules):<br />
<a href="https://www.securecoding.cert.org/confluence/display/cplusplus/INT02-CPP.+Understand+integer+conversion+rules" rel="nofollow">https://www.securecoding.cert.org/confluence/display/cplusplus/INT02-CPP.+Understand+integer+conversion+rules</a></p>
<p>Given the C++11&#039;s type traits, we can modify the above solution so that the argument to be given to `static_cast` is obtained using `std::make_signed`:<br />
<a href="http://en.cppreference.com/w/cpp/types/make_signed" rel="nofollow">http://en.cppreference.com/w/cpp/types/make_signed</a></p>
<p>2.(e)</p>
<p>Well, here the intent is unclear, since the truncation from `double` (implied by the `42,0` literal) to `int` could possibly have been desired &#8212; in this case, however, an explicit `static_cast` would be in order (for clarity).</p>
<p>If the truncation is undesired, we&#039;d be better off with the following:</p>
<pre class="brush: plain; title: ; notranslate" title="">auto i = f(1,2,3) * 42.0;</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2013/06/07/gotw-93-auto-variables-part-2/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-322cf2e150d5cd84275b131184731c0a">
	</div>
	<div class="grofile-hash-map-750def46d74f39225fd824a6483f6dff">
	</div>
	<div class="grofile-hash-map-f1c1ee952adf2ec921c01b425011d96a">
	</div>
	<div class="grofile-hash-map-1cc4a77a8256c3049728728c6c45625b">
	</div>
	<div class="grofile-hash-map-55101e5a6101483be1621d6c022d77d8">
	</div>
	<div class="grofile-hash-map-c5750c14e2bd0f866dfe2239c40fd861">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_11289={"id":468178,"unique_id":"wp-comment-11289","title":"%40Unsigned%20Int%3A%28How%20odd%20name%20you%20got%20%3A%29%20%29Come%20on%2C%20it%26%23039%3Bs%20the%20textbook%20case%20of%20the%20new%20hammer.%20Not%20everything%20is%20a%20nail%20-%20you%20don%26%23039%3Bt%20have%20to%20use%20auto%20for%20everything.%20auto%20is%20for%20the%20case%20of%20storing%20th...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11289","item_id":"_comm_11289"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11289 == 'undefined' ){PDRTJS_468178_comm_11289 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11289 );}}PDRTJS_settings_468178_comm_11273={"id":468178,"unique_id":"wp-comment-11273","title":"%40mttpd%3A%26%23091%3Bcode%26%23093%3B%2F%2F%20STILL%20WRONG%3A%20using%20%60int%60%20for%20size%20is%20bad%20and%20you%20should%20feel%20badfor%20%28auto%20iWRONG%20%3D%200%3B%20iWRONG%20%26lt%3B%20v.size%28%29%3B%20i%20%2B%3D%202%29%26%23091%3B%2Fcode%26%23093%3BHow%20about%20this%3A%26%23091%3Bcode%26%23093%3B%20auto%20i%20%3D%200u%3B%26%23091%3B%2Fcode%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11273","item_id":"_comm_11273"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11273 == 'undefined' ){PDRTJS_468178_comm_11273 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11273 );}}PDRTJS_settings_468178_comm_11166={"id":468178,"unique_id":"wp-comment-11166","title":"%40mttpd%3A%20Thanks%20for%20your%20comment.%20I%26%23039%3Bve%20learnt%20a%20lot%20by%20reading%20it%20%3B-%29To%20come%20back%20on%20David%26%23039%3Bs%20suggestion%2C%20instead%20of%3Aauto%20w%20%3D%20get_gadget%28%29%3BI%20would%20have%20used%3Aauto%20w%20%3D%20widget%20%7B%20get_gadget%28%29%20%7D%3Bmaking%20...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11166","item_id":"_comm_11166"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11166 == 'undefined' ){PDRTJS_468178_comm_11166 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11166 );}}PDRTJS_settings_468178_comm_11147={"id":468178,"unique_id":"wp-comment-11147","title":"Correction%3A%20no%2C%20%26lt%3Bcode%26gt%3Bstd%3A%3Acbegin%26lt%3B%2Fcode%26gt%3B%20or%20%26lt%3Bcode%26gt%3Bstd%3A%3Acend%26lt%3B%2Fcode%26gt%3B%20won%26%23039%3Bt%20be%20necessary%20here%2C%20since%20the%20argument%26%23039%3Bs%20type%20is%20already%20%26lt%3Bcode%26gt%3Bconst%26lt%3B%2Fcode%26gt%3B%20and%20thus%20the%20right%2C%20%26lt%3Bcode%26gt%3Bconst%26lt%3B%2Fcode%26gt%3B-correct%20...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11147","item_id":"_comm_11147"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11147 == 'undefined' ){PDRTJS_468178_comm_11147 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11147 );}}PDRTJS_settings_468178_comm_11146={"id":468178,"unique_id":"wp-comment-11146","title":"That%26%23039%3Bs%20a%20good%20catch%2C%20afrantzis%21After%20thinking%20about%20it%2C%20this%20makes%20me%20tend%20to%20prefer%20the%20index-based%20solution%20%28with%20std%3A%3Asize_t%29%20or%20even%20better%20Boost.Range%20one%20%28it%26%23039%3Bs%20better%20and%20IMO%20is%20to%20be%20prefe...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11146","item_id":"_comm_11146"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11146 == 'undefined' ){PDRTJS_468178_comm_11146 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11146 );}}PDRTJS_settings_468178_comm_11143={"id":468178,"unique_id":"wp-comment-11143","title":"1%28a%29%20The%20code%20is%20incorrect%2C%20since%20we%20are%20trying%20to%20get%20a%20non-const%20iterator%20to%20a%20const%20container.%20By%20using%20auto%20we%20would%20have%20avoided%20this%20programming%20error%3B%20the%20expected%20%28and%20safe%29%20const_iterato...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11143","item_id":"_comm_11143"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11143 == 'undefined' ){PDRTJS_468178_comm_11143 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11143 );}}PDRTJS_settings_468178_comm_11089={"id":468178,"unique_id":"wp-comment-11089","title":"David%3A%20it%26%23039%3Bs%20not%20necessarily%20less%20safe%2C%20since%20the%20following%20assumption%20may%20not%20hold%20%28it%20is%20not%20guaranteed%29%3A%20%26quot%3Bpresumably%20then%20%60w%60%20is%20a%20functioning%20%60widget%60.%26quot%3BIf%20the%20%60gadget%60%20%26amp%3B%20%60widget%60%20types%20are...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11089","item_id":"_comm_11089"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11089 == 'undefined' ){PDRTJS_468178_comm_11089 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11089 );}}PDRTJS_settings_468178_comm_11088={"id":468178,"unique_id":"wp-comment-11088","title":"1.%20%20In%20%26%23091%3Bcode%26%23093%3B%2F%2F%20%28c%29gadget%20get_gadget%28%29%3B%2F%2F%20...widget%20w%20%3D%20get_gadget%28%29%3B%26%23091%3B%2Fcode%26%23093%3Bchanging%20the%20variable%20declaration%20to%26%23091%3Bcode%26%23093%3Bauto%20w%20%3D%20get_gadget%28%29%3B%26%23091%3B%2Fcode%26%23093%3Bcould%20be%20less%20safe.%20%20In%20the%20first%20case%2C%20we%20get%20a...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11088","item_id":"_comm_11088"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11088 == 'undefined' ){PDRTJS_468178_comm_11088 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11088 );}}PDRTJS_settings_468178_comm_11087={"id":468178,"unique_id":"wp-comment-11087","title":"Again%2C%20assuming%20C%2B%2B14%20with%20polymorphic%20lambdas%20supporting%20universal%20references%2C%20let%26%23039%3Bs%20change%20the%20code%20in%201.%28d%29%20to%3A%20%26%23091%3Bcode%26%23093%3Bauto%20get_size%20%3D%20%26%23091%3B%26%23093%3B%28auto%20%26amp%3B%26amp%3B%20x%29%20%7B%20return%20x.size%28%29%3B%20%7D%3B%26%23091%3B%2Fcode%26%23093%3B%20%28for%20th...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11087","item_id":"_comm_11087"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11087 == 'undefined' ){PDRTJS_468178_comm_11087 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11087 );}}PDRTJS_settings_468178_comm_11086={"id":468178,"unique_id":"wp-comment-11086","title":"Come%20to%20think%20of%20it%2C%20I%26%23039%3Bd%20also%20replace%20the%20lambda%20in%201.%28a%29%20with%20the%20following%20%28still%20C%2B%2B14%29%3A%26%23091%3Bcode%26%23093%3B%26%23091%3B%26%23093%3B%28const%20auto%20%26amp%3B%20value%29%20%7B%20%2F%2A%20std%3A%3Acout%20%26lt%3B%26lt%3B%20value%3B%20%2A%2F%20%7D%26%23091%3B%2Fcode%26%23093%3Bor%2C%20if%20the%20C%2B%2B14%20polymorphic%20...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11086","item_id":"_comm_11086"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11086 == 'undefined' ){PDRTJS_468178_comm_11086 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11086 );}}PDRTJS_settings_468178_comm_11085={"id":468178,"unique_id":"wp-comment-11085","title":"Sigh...%20one%20more%20typo%20%3A-%29%20This%20time%2C%20in%20the%20code%20in%20%26quot%3B1.%28a%29%26quot%3B%2C%20which%20instead%20of%26%23091%3Bcode%26%23093%3Bfor%28%20std%3A%3Asize_t%20i%20%3D%200%3B%20i%20%26lt%3B%200%3B%20i%20%2B%3D%202%20%29%26%23091%3B%2Fcode%26%23093%3Bshould%20say%26%23091%3Bcode%26%23093%3Bfor%28%20std%3A%3Asize_t%20i%20%3D%200%3B%20i%20%26lt%3B%20v.size%28%29%3B%20i%20%2B%3D%202...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11085","item_id":"_comm_11085"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11085 == 'undefined' ){PDRTJS_468178_comm_11085 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11085 );}}PDRTJS_settings_468178_comm_11073={"id":468178,"unique_id":"wp-comment-11073","title":"%2F%2F%20Note%3A%20posting%20_once_%20again%20%28I%20%2Areally%2A%20wish%20there%20was%20an%20%26quot%3Bedit%26quot%3B%20option%20at%20this%20point%29%2C%20feel%20free%20to%20remove%20my%20previous%20comments%20%28and%20this%20note%29%2C%20was%20hoping%20to%20avoid%20the%20hassle%20with%20URL%20formatt...","permalink":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/#comment-11073","item_id":"_comm_11073"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11073 == 'undefined' ){PDRTJS_468178_comm_11073 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11073 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMAxpon2traGJkZGxiZGhskgUAFHlAaw=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2013\/06\/07\/gotw-93-auto-variables-part-2\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F","postID":"2119","shortlink":"https:\/\/wp.me\/peb5Y-yb","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/2119","statsLink":"https:\/\/wordpress.com\/stats\/post\/2119\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F06%2F07%2Fgotw-93-auto-variables-part-2%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'2119','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sQiZ3UjNUUnMzLF1CUHIySV89T0lpflZ2c11qSGgxTD93UT9rcUpILStaY0hDNWx0OVdkK3FTaCVyQXNBMEJua11JZDMxZUVEa29PdnhMQT9Peno0WWQsTjhtRlJYenUsRWQtdXBiLUwtRXJsbnBEdVhRNG5MX01CQlkxdiYxcj9tViZZWzNaVkpHYVc1QS41SFBJUzRxWGdITGNmOUhwfHpEdG9UazZbZWM9XWwuc1lvSTJQLU92WkN5cV1KMHJJSGwxc09xZA=='}]);
_stq.push([ 'clickTrackerInit', '3379246', '2119' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>