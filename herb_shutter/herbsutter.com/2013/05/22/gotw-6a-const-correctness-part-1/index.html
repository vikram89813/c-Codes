<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>GotW #6a: Const-Correctness, Part 1 | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965399&amp;back=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; GotW #6a: Const-Correctness, Part&nbsp;1 Comments Feed" href="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='GotW #5 Solution: Overriding Virtual&nbsp;Functions' href='https://herbsutter.com/2013/05/22/gotw-5-solution-overriding-virtual-functions/' />
<link rel='next' title='GotW #6a Solution: Const-Correctness, Part&nbsp;1' href='https://herbsutter.com/2013/05/24/gotw-6a-const-correctness-part-1-3/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/" />
<link rel='shortlink' href='https://wp.me/peb5Y-w2' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="GotW #6a: Const-Correctness, Part 1" />
<meta property="og:url" content="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/" />
<meta property="og:description" content="const and mutable have been in C++ for many years. How well do you know what they mean today?  Problem JG Question 1. What is a &#8220;shared variable&#8221;? Guru Questions 2. What do const and mu…" />
<meta property="article:published_time" content="2013-05-22T19:06:49+00:00" />
<meta property="article:modified_time" content="2013-05-22T19:07:11+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965399" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="GotW #6a: Const-Correctness, Part&nbsp;1" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="const and mutable have been in C++ for many years. How well do you know what they mean today?  Problem JG Question 1. What is a &quot;shared variable&quot;? Guru Questions 2. What do const and mutable mean on shared variables? 3. How are const and mutable different in C++98 and C++11?" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-1986 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2013/05/22/gotw-5-solution-overriding-virtual-functions/" rel="prev">GotW #5 Solution: Overriding Virtual&nbsp;Functions</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2013/05/24/gotw-6a-const-correctness-part-1-3/" rel="next">GotW #6a Solution: Const-Correctness, Part&nbsp;1</a> &raquo;</div>
			</div>
			
			<div class="post-1986 post type-post status-publish format-standard hentry category-gotw" id="post-1986">
				<div class="posttitle">
					<h2>GotW #6a: Const-Correctness, Part&nbsp;1</h2>
					<p class="post-info">2013-05-22 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><span style="color:#5a5a5a;"><em>const and mutable have been in C++ for many years. How well do you know what they mean today?<br />
</em></span></p>
<p>
 </p>
<h1>Problem<br />
</h1>
<h2>JG Question<br />
</h2>
<p>1. What is a &#8220;shared variable&#8221;?
</p>
<h2>Guru Questions<br />
</h2>
<p>2. What do <span style="color:#2e74b5;">const</span> and <span style="color:#2e74b5;">mutable</span> mean on shared variables?
</p>
<p>3. How are <span style="color:#2e74b5;">const</span> and <span style="color:#2e74b5;">mutable</span> different in C++98 and C++11?</p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/gotw/" rel="category tag">GotW</a> | 											12 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">12 Responses</h3>

	<ol class="commentlist">
			<li class="pingback even thread-even depth-1 highlander-comment" id="comment-12127">
		<div id="div-comment-12127">
		<div class="cmtinfo"><em> on <a href="#comment-12127" title="">2013-08-11 at 12:14 pm</a></em>  <cite><a href='http://www.carlgibbs.co.uk/blog/?p=226' rel='external nofollow' class='url'>Functional Programming in C++ &laquo; Carl Gibbs &#8211; Blog</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12127"></div><p>[&#8230;] Herb Sutter on const and concurrency in C++: <a href="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/" rel="nofollow">https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/</a> [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-smellegantcode odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10395">
		<div id="div-comment-10395">
		<div class="cmtinfo"><em> on <a href="#comment-10395" title="">2013-05-24 at 6:35 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/ef36b899789c5ab264fd4b26d5a91a35?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>earwicker</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10395"></div><p>@Gregory:</p>
<p>These instances a, b, are related through their sharing the same counter:</p>
<pre class="brush: plain; title: ; notranslate" title="">
IntRef a;
IntRef b(a);
</pre>
<p>Such related instances are already liable to cause UB through data race when accessible from multiple threads (banned by the &#8220;Dem&#8217;s De Rules, Part 1 of 2&#8221; snippet of the standard in Herb&#8217;s talk).</p>
<p>But specifically, suppose two threads each have their own private std::vector. Thread 1 says:</p>
<pre class="brush: plain; title: ; notranslate" title="">
vec1.push_back(a)
</pre>
<p>And symmetrically thread 2 says:</p>
<pre class="brush: plain; title: ; notranslate" title="">
vec2.push_back(b)
</pre>
<p>Subsequent calls to push_back on vec1 will potentially call the copy constructor of a again, as the vector may need to reconfigure its internal storage. Similarly for thread 2 and b. As a and b are related, this will cause attempts to increment the same counter, which would be a data race.</p>
<p>This is banned by the &#8220;Dem&#8217;s De Rules, Part 2 of 2&#8221; snippet of the standard in Herb&#8217;s talk, because the counter being modified, indirectly, by push_back, has not been accessed via (directly or indirectly) a non-const argument to push_back (indeed, not by any argument passed to the subsequent call to push_back), and yet is accessible to another thread.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mordachaiwolf even thread-even depth-1 highlander-comment" id="comment-10357">
		<div id="div-comment-10357">
		<div class="cmtinfo"><em> on <a href="#comment-10357" title="">2013-05-23 at 6:25 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/653e9876709910096ccdde524a306bf8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mordachaiwolf</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10357"></div><p>1. What is a “shared variable”? </p>
<p>Any variable that has a scope larger than a &#8220;single user&#8221; &#8212; to me that means it can be a class member or a global variable or a variable that has shared ownership amongst multiple points of access in a program even for a single threaded application.</p>
<p>Any variable that has scope that crosses multiple threads is even more &#8220;shared&#8221; than that.</p>
<p>2. What do const and mutable mean on shared variables? </p>
<p>`const` acts as a contract between provider and client.  Declaring that something is a const parameter to a function, tells the clients of that API that the object that they&#8217;re handing over will not be used in any but a const manner (i.e. read-only or its const-member-functions employed).</p>
<p>Casting around the interface you&#8217;re providing or using is almost certainly wrong &#8211; it violates the contract &#8211; and at that point you&#8217;re asking for the code to break &#8212; if not today, then in the future during maintenance.</p>
<p>`mutable` means &#8220;internally modifiable under const contract conditions.&#8221;  i.e. for a class A with mutable int b, b can be modified by any of A&#8217;s const member functions.  It is not a violation of A&#8217;s const interface to modify mutable member b.</p>
<p>I&#8217;ve used this commonly to cache values for a class &#8211; things that do not affect the state or meaning of A, but only help A do it&#8217;s job.  e.g. if we have a class that represents a Filename, then I might have mutable members for volume, path, name, extension.  As long as the filename as a whole doesn&#8217;t change semantics, those members can be updated at the pleasure of Filename &#8211; even in via its const APIs.</p>
<p>Now that we&#8217;re dealing with multiple threads, mutable is useful to specify on the synchronization object if it is a member.  Whether the internal state of my object is locked or not doesn&#8217;t change the semantics of it.  So the const interface can remain coherent while internally I take a read-lock and do whatever I need to in order to execute the API-contract for my client.</p>
<p>3. How are const and mutable different in C++98 and C++11?</p>
<p>???</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10354">
		<div id="div-comment-10354">
		<div class="cmtinfo"><em> on <a href="#comment-10354" title="">2013-05-23 at 5:09 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10354"></div><p>Regarding the definition of a shared variable &#8212; perhaps Section 1.2.5, &#8220;Data Terminology,&#8221; of the latest (draft) OpenMP specification can serve as an inspiration (together with providing a neat distinction between a &#8220;shared variable&#8221; and a &#8220;private variable&#8221;): <a href="http://www.openmp.org/mp-documents/OpenMP_4.0_RC2.pdf" rel="nofollow">http://www.openmp.org/mp-documents/OpenMP_4.0_RC2.pdf</a></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10348">
		<div id="div-comment-10348">
		<div class="cmtinfo"><em> on <a href="#comment-10348" title="">2013-05-23 at 12:26 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/418a35526fec06e8f35423373b0b6bef?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Gregory</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10348"></div><p>I&#8217;m a bit lost trying to put the change of meaning of const into the bigger picture. So, let me ask two counter-questions.</p>
<p>1) You have a simple struct<br />
<code><br />
struct A<br />
{<br />
std::string first;<br />
std::string second;<br />
};<br />
</code></p>
<p>And function that takes struct A by const-reference. </p>
<p><code><br />
void f(A const&amp; a);<br />
</code></p>
<p>Without any assumptions, is it legal to put parameter a into standard container?</p>
<p>2) You have following class:</p>
<p><code></p>
<p>class IntRef<br />
{<br />
public:<br />
IntRef():ptr{new int(0)} {}</p>
<p>IntRef(const IntRef&amp; other):ptr(other.ptr)<br />
{<br />
    increment();<br />
}</p>
<p>void increment() const<br />
{<br />
     std::shared_ptr p = ptr;<br />
     ++*p;<br />
}<br />
private:<br />
 std::shared_ptr ptr;<br />
};<br />
</code></p>
<p>Is it safe to put object of this class into standard container?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10346">
		<div id="div-comment-10346">
		<div class="cmtinfo"><em> on <a href="#comment-10346" title="">2013-05-22 at 11:49 pm</a></em> <img alt='' src='https://i2.wp.com/a0.twimg.com/profile_images/536188544/digihood_normal.png?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/ppetrovdotnet' rel='external nofollow' class='url'>pip010 (@ppetrovdotnet)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10346"></div><p>this is confusing. does use semantics change and if no, why care?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10344">
		<div id="div-comment-10344">
		<div class="cmtinfo"><em> on <a href="#comment-10344" title="">2013-05-22 at 8:33 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/48102b6e16eda625ea4d9bf6a92913af?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jesse Good</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10344"></div><p>Hans Boehm uses the term &#8220;shared variable&#8221; throughout all his papers. However, he fails to give a formal definition as far as I can tell. The &#8220;Dictionary of Computer Science, Engineering and Technology&#8221; defines it as follows:<br />
&#8220;a variable that can be accessed by two or more concurrent program units&#8221;<br />
However, that definition is extremely outdated, so a formal definition is definitely needed!</p>
<p>Since we don&#8217;t have a formal definition of &#8220;shared variable&#8221;, the only question left<br />
to answer is the third one and I cannot write a better answer than what is<br />
already found out the following link:<br />
<a href="http://stackoverflow.com/questions/14127379/does-const-mean-thread-safe-in-c11" rel="nofollow">http://stackoverflow.com/questions/14127379/does-const-mean-thread-safe-in-c11</a></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mtclow odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10337">
		<div id="div-comment-10337">
		<div class="cmtinfo"><em> on <a href="#comment-10337" title="">2013-05-22 at 4:01 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://nathanielmchorneysdiary.wordpress.com' rel='external nofollow' class='url'>Marshall Clow</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10337"></div><p>I&#8217;ll start with const, when used in a parameter list.</p>
<pre class="brush: plain; title: ; notranslate" title="">
void foo ( const std::string &amp;s ) { /* ... */ }
</pre>
<p>Nothing in &#8216;foo&#8217; should change &#8216;s&#8217;; no changing of public members, no calling of non-const member functions, no passing of &#8216;foo&#8217; to a function that takes a non-const reference.</p>
<p>Notes:<br />
1) `const_cast` can be used to get around this<br />
2) There&#8217;s no guarantee that some other thread of execution will not change &#8216;s&#8217; while foo is executing; the string referred to by &#8216;s&#8217; may not be const; only foo&#8217;s view of &#8216;s&#8217; is const.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mttpd even thread-even depth-1 highlander-comment" id="comment-10334">
		<div id="div-comment-10334">
		<div class="cmtinfo"><em> on <a href="#comment-10334" title="">2013-05-22 at 3:39 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>mttpd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10334"></div><p>A proposed follow-up question: constexpr-correctness, compare and contrast with const-correctness :-)<br />
A possible starting point: <a href="http://isocpp.org/blog/2013/01/quick-q-whats-the-difference-between-constexpr-and-const-stackoverflow" rel="nofollow">http://isocpp.org/blog/2013/01/quick-q-whats-the-difference-between-constexpr-and-const-stackoverflow</a></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10331">
		<div id="div-comment-10331">
		<div class="cmtinfo"><em> on <a href="#comment-10331" title="">2013-05-22 at 3:27 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Nicol Bolas</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10331"></div><p>&gt; What is a “shared variable”? </p>
<p>It&#8217;s an English phrase that has no well-defined meaning without some form of context. The first word, &#8220;shared&#8221; means to allow ownership between multiple parties. The word &#8220;variable&#8221; refers to the well-defined C++ concept of a variable. Thus the term would represent a variable that is in some way owned by multiple parties.</p>
<p>The term &#8220;shared variable&#8221; is not defined by any version of ISO/IEC 14882 Standard for Programming Language C++. Nor is it a term in common, colloquial usage among C++ programmers.</p>
<p>Therefore, I submit that the term cannot be considered to have a firm definition outside of what the words themselves mean. As such, it means nothing without further context. What are the multiple parties in question who might have ownership of the variable? What kind of ownership is under discussion?</p>
<p>Furthermore, I would submit that it is not appropriate for Herb to unilaterally declare that this phrase has *any* particular meaning. It&#8217;s bad enough that we&#8217;ve got Scott Meyers inventing non-standard terms like &#8220;Universal References&#8221; that ultimately serve to drive them away from proper standard language. We don&#8217;t need multiple high-profile C++ people making it difficult for people to effectively communicate by unilaterally inventing terminology for concepts ex nihilo.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10329">
		<div id="div-comment-10329">
		<div class="cmtinfo"><em> on <a href="#comment-10329" title="">2013-05-22 at 2:33 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/56eb8367539a955ed8433201230eb28d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Chris Vine</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10329"></div><p>@zahirtezcan:</p>
<p>Beware of that presentation though.  The issues are not clear cut.  First, 17.6.5.9/3 of the C++11 standard provides an absolute preclusion of bitwise modification of an object through a const argument, irrespective of whether it would be thread-safe to do so because there is internal synchronization so it can safely be made mutable.  Possibly 17.6.5.9/7 is intended to permit this, but it is not clear (to me at least) that it qualifies 17.6.5.9/3, nor is is it clear to me what is meant by &#8220;implementations&#8221; in relation to user provided objects.  Secondly, just because a library function taking an object by const reference is guaranteed by 17.6.5.9/3 not to modify the object does not of itself make a read operation made by that function thread safe.  If an object is visible to another thread, the read is only thread safe if the other thread does not modify it or there is synchronization. const does not therefore seem to me to mean &#8220;thread-safe&#8221; in anything other than a significantly qualified sense.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10322">
		<div id="div-comment-10322">
		<div class="cmtinfo"><em> on <a href="#comment-10322" title="">2013-05-22 at 12:01 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/e5198f8a4049584b8c2c41e2d0086770?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/zahirtezcan' rel='external nofollow' class='url'>zahirtezcan (@zahirtezcan)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10322"></div><p><a href="http://channel9.msdn.com/posts/C-and-Beyond-2012-Herb-Sutter-You-dont-know-blank-and-blank" rel="nofollow">http://channel9.msdn.com/posts/C-and-Beyond-2012-Herb-Sutter-You-dont-know-blank-and-blank</a> ? :)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2013/05/22/gotw-6a-const-correctness-part-1/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-ef36b899789c5ab264fd4b26d5a91a35">
	</div>
	<div class="grofile-hash-map-653e9876709910096ccdde524a306bf8">
	</div>
	<div class="grofile-hash-map-1cc4a77a8256c3049728728c6c45625b">
	</div>
	<div class="grofile-hash-map-418a35526fec06e8f35423373b0b6bef">
	</div>
	<div class="grofile-hash-map-c7d819019894a38e26620c9b659c22f6">
	</div>
	<div class="grofile-hash-map-48102b6e16eda625ea4d9bf6a92913af">
	</div>
	<div class="grofile-hash-map-ac727873c5724326c84ed245faa9fe6c">
	</div>
	<div class="grofile-hash-map-a356923f858fbe363dad1dc566837fc6">
	</div>
	<div class="grofile-hash-map-56eb8367539a955ed8433201230eb28d">
	</div>
	<div class="grofile-hash-map-e5198f8a4049584b8c2c41e2d0086770">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_12127={"id":468178,"unique_id":"wp-comment-12127","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20Herb%20Sutter%20on%20const%20and%20concurrency%20in%20C%2B%2B%3A%20http%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F%20%26%23091%3B%26%238230%3B%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-12127","item_id":"_comm_12127"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12127 == 'undefined' ){PDRTJS_468178_comm_12127 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12127 );}}PDRTJS_settings_468178_comm_10395={"id":468178,"unique_id":"wp-comment-10395","title":"%40Gregory%3AThese%20instances%20a%2C%20b%2C%20are%20related%20through%20their%20sharing%20the%20same%20counter%3A%26%23091%3Bcode%26%23093%3BIntRef%20a%3BIntRef%20b%28a%29%3B%26%23091%3B%2Fcode%26%23093%3BSuch%20related%20instances%20are%20already%20liable%20to%20cause%20UB%20through%20data%20race%20when%20ac...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10395","item_id":"_comm_10395"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10395 == 'undefined' ){PDRTJS_468178_comm_10395 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10395 );}}PDRTJS_settings_468178_comm_10357={"id":468178,"unique_id":"wp-comment-10357","title":"1.%20What%20is%20a%20shared%20variable%3F%20Any%20variable%20that%20has%20a%20scope%20larger%20than%20a%20%26quot%3Bsingle%20user%26quot%3B%20--%20to%20me%20that%20means%20it%20can%20be%20a%20class%20member%20or%20a%20global%20variable%20or%20a%20variable%20that%20has%20shared%20ownership%20a...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10357","item_id":"_comm_10357"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10357 == 'undefined' ){PDRTJS_468178_comm_10357 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10357 );}}PDRTJS_settings_468178_comm_10354={"id":468178,"unique_id":"wp-comment-10354","title":"Regarding%20the%20definition%20of%20a%20shared%20variable%20--%20perhaps%20Section%201.2.5%2C%20%26quot%3BData%20Terminology%2C%26quot%3B%20of%20the%20latest%20%28draft%29%20OpenMP%20specification%20can%20serve%20as%20an%20inspiration%20%28together%20with%20providing%20a%20neat%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10354","item_id":"_comm_10354"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10354 == 'undefined' ){PDRTJS_468178_comm_10354 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10354 );}}PDRTJS_settings_468178_comm_10348={"id":468178,"unique_id":"wp-comment-10348","title":"I%26%23039%3Bm%20a%20bit%20lost%20trying%20to%20put%20the%20change%20of%20meaning%20of%20const%20into%20the%20bigger%20picture.%20So%2C%20let%20me%20ask%20two%20counter-questions.1%29%20You%20have%20a%20simple%20struct%20%26lt%3Bcode%26gt%3Bstruct%20A%7Bstd%3A%3Astring%20first%3Bstd%3A%3Astring%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10348","item_id":"_comm_10348"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10348 == 'undefined' ){PDRTJS_468178_comm_10348 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10348 );}}PDRTJS_settings_468178_comm_10346={"id":468178,"unique_id":"wp-comment-10346","title":"this%20is%20confusing.%20does%20use%20semantics%20change%20and%20if%20no%2C%20why%20care%3F...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10346","item_id":"_comm_10346"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10346 == 'undefined' ){PDRTJS_468178_comm_10346 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10346 );}}PDRTJS_settings_468178_comm_10344={"id":468178,"unique_id":"wp-comment-10344","title":"Hans%20Boehm%20uses%20the%20term%20%26quot%3Bshared%20variable%26quot%3B%20throughout%20all%20his%20papers.%20However%2C%20he%20fails%20to%20give%20a%20formal%20definition%20as%20far%20as%20I%20can%20tell.%20The%20%26quot%3BDictionary%20of%20Computer%20Science%2C%20Engineering%20and%20Tech...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10344","item_id":"_comm_10344"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10344 == 'undefined' ){PDRTJS_468178_comm_10344 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10344 );}}PDRTJS_settings_468178_comm_10337={"id":468178,"unique_id":"wp-comment-10337","title":"I%26%23039%3Bll%20start%20with%20const%2C%20when%20used%20in%20a%20parameter%20list.%26%23091%3Bcode%26%23093%3Bvoid%20foo%20%28%20const%20std%3A%3Astring%20%26amp%3Bs%20%29%20%7B%20%2F%2A%20...%20%2A%2F%20%7D%26%23091%3B%2Fcode%26%23093%3BNothing%20in%20%26%23039%3Bfoo%26%23039%3B%20should%20change%20%26%23039%3Bs%26%23039%3B%3B%20no%20changing%20of%20public%20members%2C%20no%20calling%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10337","item_id":"_comm_10337"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10337 == 'undefined' ){PDRTJS_468178_comm_10337 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10337 );}}PDRTJS_settings_468178_comm_10334={"id":468178,"unique_id":"wp-comment-10334","title":"A%20proposed%20follow-up%20question%3A%20constexpr-correctness%2C%20compare%20and%20contrast%20with%20const-correctness%20%3A-%29A%20possible%20starting%20point%3A%20http%3A%2F%2Fisocpp.org%2Fblog%2F2013%2F01%2Fquick-q-whats-the-difference-between...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10334","item_id":"_comm_10334"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10334 == 'undefined' ){PDRTJS_468178_comm_10334 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10334 );}}PDRTJS_settings_468178_comm_10331={"id":468178,"unique_id":"wp-comment-10331","title":"%26gt%3B%20What%20is%20a%20shared%20variable%3F%20It%26%23039%3Bs%20an%20English%20phrase%20that%20has%20no%20well-defined%20meaning%20without%20some%20form%20of%20context.%20The%20first%20word%2C%20%26quot%3Bshared%26quot%3B%20means%20to%20allow%20ownership%20between%20multiple%20parties.%20T...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10331","item_id":"_comm_10331"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10331 == 'undefined' ){PDRTJS_468178_comm_10331 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10331 );}}PDRTJS_settings_468178_comm_10329={"id":468178,"unique_id":"wp-comment-10329","title":"%40zahirtezcan%3ABeware%20of%20that%20presentation%20though.%20%20The%20issues%20are%20not%20clear%20cut.%20%20First%2C%2017.6.5.9%2F3%20of%20the%20C%2B%2B11%20standard%20provides%20an%20absolute%20preclusion%20of%20bitwise%20modification%20of%20an%20object%20throu...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10329","item_id":"_comm_10329"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10329 == 'undefined' ){PDRTJS_468178_comm_10329 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10329 );}}PDRTJS_settings_468178_comm_10322={"id":468178,"unique_id":"wp-comment-10322","title":"http%3A%2F%2Fchannel9.msdn.com%2Fposts%2FC-and-Beyond-2012-Herb-Sutter-You-dont-know-blank-and-blank%20%3F%20%3A%29...","permalink":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/#comment-10322","item_id":"_comm_10322"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10322 == 'undefined' ){PDRTJS_468178_comm_10322 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10322 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMAxpon2traGJkZGxiZGhskgUAFHlAaw=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2013\/05\/22\/gotw-6a-const-correctness-part-1\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F","postID":"1986","shortlink":"https:\/\/wp.me\/peb5Y-w2","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/1986","statsLink":"https:\/\/wordpress.com\/stats\/post\/1986\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F22%2Fgotw-6a-const-correctness-part-1%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'1986','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sQmtvU1M5X0RockJaSDI2ZFhrSD8rM1orK29nTzhfNmJMWkM0fG5qXV1tSEpsLjFuWlB8c1JWNjBrfjd4NDdFMkJYJkFORnBRJVZlQmZ3NmxQQ3l+Z1gwVXdCbmJJbEo0Z0NRbi5OKyxCTyVDdWdvRWRvQXAwRzladldOOUdiLCYtL05Gaz0rc2NiT1BuNEp0dDUmb3dLUlAuWzVoWmV1S1VRWVY3Zjh+NWEyaTFXbVdRZGhPN3RaOSZJYm9qOExCQ3Y2JUZaeA=='}]);
_stq.push([ 'clickTrackerInit', '3379246', '1986' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>