<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>GotW #1 Solution: Variable Initialization – or Is It? | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965318&amp;back=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; GotW #1 Solution: Variable Initialization – or Is&nbsp;It? Comments Feed" href="https://herbsutter.com/2013/05/09/gotw-1-solution/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='GotW #1: Variable Initialization—or Is It?&nbsp;(3/10)' href='https://herbsutter.com/2013/05/06/gotw-1-variable-initialization-or-is-it-310/' />
<link rel='next' title='GotW #2: Temporary&nbsp;Objects' href='https://herbsutter.com/2013/05/09/gotw-2-temporary-objects-510/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2013/05/09/gotw-1-solution/" />
<link rel='shortlink' href='https://wp.me/peb5Y-tx' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="GotW #1 Solution: Variable Initialization – or Is It?" />
<meta property="og:url" content="https://herbsutter.com/2013/05/09/gotw-1-solution/" />
<meta property="og:description" content="This first problem highlights the importance of understanding what you write. Here we have a few simple lines of code—most of which mean something different from all the others, even though the syn…" />
<meta property="article:published_time" content="2013-05-09T16:30:01+00:00" />
<meta property="article:modified_time" content="2013-05-19T00:12:02+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965318" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="GotW #1 Solution: Variable Initialization – or Is&nbsp;It?" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="This first problem highlights the importance of understanding what you write. Here we have a few simple lines of code—most of which mean something different from all the others, even though the syntax varies only slightly.  Problem JG Question 1. What is the difference, if any, among the following? widget w; // (a)widget w(); //&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2013/05/09/gotw-1-solution/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-1831 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2013/05/06/gotw-1-variable-initialization-or-is-it-310/" rel="prev">GotW #1: Variable Initialization—or Is It?&nbsp;(3/10)</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2013/05/09/gotw-2-temporary-objects-510/" rel="next">GotW #2: Temporary&nbsp;Objects</a> &raquo;</div>
			</div>
			
			<div class="post-1831 post type-post status-publish format-standard hentry category-c category-gotw" id="post-1831">
				<div class="posttitle">
					<h2>GotW #1 Solution: Variable Initialization – or Is&nbsp;It?</h2>
					<p class="post-info">2013-05-09 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p><span style="color:#5a5a5a;"><em>This first problem highlights the importance of understanding what you write. Here we have a few simple lines of code—most of which mean something different from all the others, even though the syntax varies only slightly.<br />
</em></span></p>
<p>
 </p>
<h1>Problem<br />
</h1>
<h2>JG Question<br />
</h2>
<p>1. What is the difference, if any, among the following?
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w;                   // (a)<br /><br />widget w();                 // (b)<br />widget w{};                 // (c)<br /><br />widget w(x);                // (d)<br />widget w{x};                // (e)<br /><br />widget w = x;               // (f)<br />widget w = {x};             // (g)<br /><br />auto w = x;                 // (h)<br />auto w = widget{x};         // (i)
</code></pre>
</p>
<h2>Guru Questions<br />
</h2>
<p>2. What do each of the following lines do?
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>vector&lt;int&gt; v1( 10, 20 );   // (a)<br /><br />vector&lt;int&gt; v2{ 10, 20 };   // (b)
</code></pre>
</p>
<p>3. Besides the cases above, what other benefits are there to using <span style="color:#1f4e79;">{ }</span> to initialize objects?
</p>
<p>4. When should you use <span style="color:#1f4e79;">( )</span> vs. <span style="color:#1f4e79;">{ }</span> syntax to initialize objects? Why?
</p>
<p>
 </p>
<h1>Solution<br />
</h1>
<p>This puzzle demonstrates several things:
</p>
<ul>
<li>The difference between default initialization, direct initialization, copy initialization, and list initialization.
</li>
<li>The difference between using <span style="color:#1f4e79;">( )</span> and using <span style="color:#1f4e79;">{ }</span> for initialization.
</li>
<li>A red herring that isn&#8217;t initialization at all, and which modern C++ entirely avoids.
</li>
</ul>
<p>But, most important of all: If you stick to two simple Guidelines, which we&#8217;ll cover in #4, you can ignore most of these cases and the rules are pretty simple and deliver efficient performance by default.
</p>
<p>
 </p>
<h2>1. What is the difference, if any, among the following?<br />
</h2>
<p>Let&#8217;s consider the cases one by one.
</p>
<h3>(a) is default initialization.<br />
</h3>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w;                   // (a)
</code></pre>
</p>
<p>This code declares a variable named <span style="color:#1f4e79;">w</span>, of type <span style="color:#1f4e79;">widget</span>. For most types, it is initialized using the default constructor <span style="color:#1f4e79;">widget::widget()</span>.
</p>
<p>Note that <span style="color:#1f4e79;">w</span> is not initialized and contains garbage values if <span style="color:#1f4e79;">widget</span> happens to be a built-in type like <span style="color:#1f4e79;">int</span>, or a simple &#8220;<span style="color:#1f4e79;">int</span>-like&#8221; class type with what&#8217;s called a &#8220;trivial&#8221; default constructor—a type that relies on the compiler-generated default constructor, has no virtual functions or virtual base classes or data member initializers, and all its bases and members satisfy the same restrictions.
</p>
<h3> (b) is a &#8220;vexing&#8221; red herring, now mostly a historical curiosity.<br />
</h3>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w();                 // (b)
</code></pre>
</p>
<p>This is a pre-modern C++ pitfall: At first glance, it may look like just another variable declaration calling a default constructor <span style="color:#1f4e79;">widget::widget()</span>; in reality, thanks to a grammar ambiguity, it&#8217;s a function declaration for a function named <span style="color:#1f4e79;">w</span> that takes no parameters and returns a <span style="color:#1f4e79;">widget</span> object by value. (If you can&#8217;t see this at first, consider that the above code is no different from writing something like <span style="color:#1f4e79;">int f();</span> which is clearly a function declaration.)
</p>
<p>Lest you think &#8220;aw, but those <span style="color:#1f4e79;">( )</span> parentheses are redundant, it&#8217;s the programmer&#8217;s own fault for not just writing <span style="color:#1f4e79;">widget w;</span> there!&#8221;, note that the same problem arises in those occasional cases where you think you&#8217;re initializing a variable with temporary objects:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>// same problem (gadget and doodad are types)<br />//<br />widget w( gadget(), doodad() );  // pitfall: not a variable declaration
</code></pre>
</p>
<p>Scott Meyers long ago named this &#8220;C++&#8217;s most vexing parse,&#8221; because the standard resolves the parsing ambiguity by saying: &#8220;if it can be a function declaration, it is.&#8221;
</p>
<p>The good news is that this is now mostly a historical curiosity, not something you should encounter in new code, because C++11 removed this pitfall. Note that C++11 does not change the meaning of the code—C++11 has great backward compatibility with C++98, including that this ambiguity still has the same meaning it always had. Rather, C++11 solves this by providing a syntax that supersedes case (b) in nearly all cases, so that we don&#8217;t need to ever fall into this pit anymore:
</p>
<h3>(c) is non-vexing and clear.<br />
</h3>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w{};                 // (c)
</code></pre>
</p>
<p>Here we have the first reason to prefer <span style="color:#1f4e79;">{ }</span> to <span style="color:#1f4e79;">( )</span>: For any class type <span style="color:#1f4e79;">widget</span>, line (c) does the &#8220;best parts&#8221; of (a) and (b)—it always initializes the variable, and is never ambiguous with a function declaration. No vex, no fuss, no muss.
</p>
<p>&#8220;Aha, but wait, it&#8217;s not that simple!&#8221; someone might object. &#8220;What if <span style="color:#1f4e79;">widget</span> has a constructor that takes a <span style="color:#1f4e79;">std::initializer_list</span>? Those are greedy (preferred), so if <span style="color:#1f4e79;">widget</span> has one of those wouldn&#8217;t this call that?&#8221;
</p>
<p>The answer is no, this really is just as simple as it looks, because the standard is explicit that an empty <span style="color:#1f4e79;">{ }</span> list means to call the default constructor if available. However, it&#8217;s good to be aware of <span style="color:#1f4e79;">initializer_list</span>s, so let&#8217;s talk about those next.
</p>
<h3>(d) and (e) are direct initialization.<br />
</h3>
<p>Now let&#8217;s consider cases where we actually initialize <span style="color:#1f4e79;">w</span> from some existing variable:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w(x);                // (d)<br />widget w{x};                // (e)
</code></pre>
</p>
<p>Assuming <span style="color:#1f4e79;">x</span> is not the name of a type, these are both direct initialization. That&#8217;s because the variable <span style="color:#1f4e79;">w</span> is initialized &#8220;directly&#8221; from the value of <span style="color:#1f4e79;">x</span> by calling <span style="color:#1f4e79;">widget::widget(x)</span>. If <span style="color:#1f4e79;">x</span> is also of type <span style="color:#1f4e79;">widget</span>, this invokes the copy constructor. Otherwise, it invokes a converting constructor.
</p>
<p>However, note that the syntax <span style="color:#1f4e79;">{x}</span> creates an <span style="color:#1f4e79;">initializer_list</span>. If <span style="color:#1f4e79;">widget</span> has a constructor that takes an <span style="color:#1f4e79;">initializer_list</span>, that constructor is preferred; otherwise, if <span style="color:#1f4e79;">widget</span> has a constructor that takes whatever type <span style="color:#1f4e79;">x</span> is (possibly with conversions), that constructor is used.
</p>
<p>There are two major differences that make (e) superior to (d): First, like (c), syntax (e) is unambiguous and avoids the vexing parse. If <span style="color:#1f4e79;">x</span> is a type name, then (d) is a function declaration even if there is also a variable named <span style="color:#1f4e79;">x</span> in scope (see above), whereas (e) is never a function declaration.
</p>
<p>Second, syntax (e) is safer because it does not allow narrowing (a.k.a. &#8220;lossy&#8221;) conversions that are otherwise allowed for some built-in types. Consider:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code><span style="color:#c00000;">int i1( 12.345 );           // ok: toss .345, we didn't like it anyway<br /><span style="color:#00b050;">int i2{ 12.345 };           // error: would be lossy implicit narrowing
</span></span></code></pre>
</p>
<h3>(f) and (g) are copy initialization and copy list initialization.<br />
</h3>
<p>This brings us to our final two non-<span style="color:#1f4e79;">auto</span> cases:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w = x;               // (f)
</code></pre>
</p>
<p>This is called &#8220;copy initialization.&#8221; Conceptually, the variable <span style="color:#1f4e79;">w</span> is initialized using <span style="color:#1f4e79;">widget</span>&#8216;s move or copy constructor, possibly after calling another function to convert the argument implicitly (<span style="color:#1f4e79;">explicit</span> conversions won&#8217;t be invoked here).
</p>
<blockquote>
<p><strong>Common Mistake:</strong> This is always initialization; it is never assignment, and so it never calls <strong>T::operator=()</strong>. Yes, I know there&#8217;s an &#8220;<strong>=</strong>&#8221; character in there, but don&#8217;t let that throw you — that&#8217;s just a syntax holdover from C, not an assignment operation.
</p>
</blockquote>
<p>Here are the semantics:
</p>
<ul>
<li>If <span style="color:#1f4e79;">x</span> is of type <span style="color:#1f4e79;">widget</span>, line (f) means the same as (d) <span style="color:#1f4e79;">widget w(x);</span> except that <span style="color:#1f4e79;">explicit</span> constructors cannot be used. It&#8217;s guaranteed that only a single constructor is called.
</li>
<li>If <span style="color:#1f4e79;">x</span> is of some other type, <em>conceptually</em> the compiler first implicitly converts <span style="color:#1f4e79;">x</span> to a temporary <span style="color:#1f4e79;">widget</span> object, then move-constructs <span style="color:#1f4e79;">w</span> from that temporary rvalue, using copy construction as &#8220;the slow way to move&#8221; as a backup if no better move constructor is available. Assuming that an implicit conversion is available, (f) means the same as <span style="color:#1f4e79;">widget w( widget(x) );</span>.
</li>
</ul>
<p>Note that I said &#8220;conceptually&#8221; a few times above. That&#8217;s because <em>practically</em> compilers are allowed to, and routinely do, optimize away the temporary and, if an implicit conversion is available, convert (f) to (d), thus optimizing away the extra move operation. However, even when the compiler does this, the <span style="color:#1f4e79;">widget</span> copy constructor must still be accessible, even if is not called—the copy constructor&#8217;s side effects may or may not happen, that&#8217;s all.
</p>
<p>Now note the related syntax that adds &#8220;<span style="color:#1f4e79;">=</span>&#8220;:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget w = {x};             // (g)
</code></pre>
</p>
<p>This is called &#8220;copy list initialization.&#8221; It means the same as <span style="color:#1f4e79;">widget w{x};</span> except that <span style="color:#1f4e79;">explicit</span> constructors cannot be used. It&#8217;s guaranteed that only a single constructor is called.
</p>
<h3>(h) and (i) are also copy initialization, but simpler.<br />
</h3>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>auto w = x;                 // (h)<br />auto w = widget{x};         // (i)
</code></pre>
</p>
<p>The semantics are just like (f) and (g), except simpler to teach, learn, and use because using <span style="color:#1f4e79;">auto</span> guarantees the right-hand expression&#8217;s type will be deduced exactly. Note that the (i) syntax works fine for both implicit and <span style="color:#1f4e79;">explicit</span> conversions.
</p>
<p>Line (h) means the same as (d), <span style="color:#1f4e79;"><em>type_of_x</em> w(x);</span>. Only a single copy constructor is called. This is <em>guaranteed to stay true</em> as the program evolves: Because line (h) does not commit to an explicit type, it is guaranteed to be both maximally efficient because there can be no conversion involved, and maximally robust under maintenance as the type of <span style="color:#1f4e79;">w</span> &#8220;auto&#8221;-matically tracks the type of <span style="color:#1f4e79;">x</span> which may change as the program is maintained.
</p>
<p>Line (i) is the most consistent spelling when you do want to commit to a specific type and explicitly request a conversion if needed, and once again the <span style="color:#1f4e79;">{ }</span> syntax happily avoids lossy narrowing conversions. In practice on most compilers, only a single constructor is called—similarly to what we saw with (f) and (g), conceptually there are two constructor calls, a converting or copy constructor to create a temporary <span style="color:#1f4e79;">widget{x}</span> followed by a move to move it to <span style="color:#1f4e79;">w</span>, but compilers routinely elide the latter.
</p>
<p>In general, I recommend that you try out these two forms, and increasingly prefer using them as you grow comfortable with them. I&#8217;m at the point where I&#8217;m now inclined to write virtually all of my local variable declarations this way. (I know some of you will be skeptical about this broad claim—more on &#8220;the <span style="color:#1f4e79;">auto</span> question&#8221; in another GotW.)
</p>
<p>
 </p>
<h2>2. What do each of the following lines do?<br />
</h2>
<p>In the Question 2 code, we&#8217;re creating a <span style="color:#1f4e79;">vector&lt;int&gt;</span> and passing the arguments <span style="color:#1f4e79;">10</span> and <span style="color:#1f4e79;">20</span> to its constructor—in the first case as <span style="color:#1f4e79;">( 10, 20 )</span> and in the second case as <span style="color:#1f4e79;">{ 10, 20 }</span>.
</p>
<p>Both will call a constructor, but which one(s)? Well, <span style="color:#1f4e79;">vector&lt;int&gt;</span> has several constructors that can take two parameters, but only two could be correctly called with the parameters <span style="color:#1f4e79;">10</span> and <span style="color:#1f4e79;">20</span>. Ignoring defaulted optional allocator parameters for simplicity, the two constructors are:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>vector( size_t n, const int&amp; value );    // A: n copies of value<br /><br />vector( initializer_list&lt;int&gt; values );  // B: copy of values
</code></pre>
</p>
<p>There are two simple C++ rules that tell us which one will be called for the code in question:
</p>
<ul>
<li>The syntax <span style="color:#1f4e79;">{ /*…*/ }</span> used in an expression context gives you an <span style="color:#1f4e79;">initializer_list</span>.
</li>
<li>Constructors that take an <span style="color:#1f4e79;">initializer_list</span> are preferred over other constructors, and so can hide other constructors that might otherwise be viable.
</li>
</ul>
<p>Armed with those two tidbits, the answer is simple:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>vector&lt;int&gt; v1( 10, 20 );    // (a) calls A: 10 copies of the value 20<br />assert( v1.size() == 10 );<br /><br />vector&lt;int&gt; v2{ 10, 20 };    // (b) calls B: the values 10 and 20<br />assert( v2.size() == 2 );
</code></pre>
</p>
<p>
 </p>
<h2>3. Besides the cases above, what other benefits are there to using { } to initialize objects?<br />
</h2>
<p>For one thing, it&#8217;s called &#8220;uniform initialization&#8221; because it&#8217;s, well, uniform—the same for all types, including aggregate structs and arrays and <span style="color:#1f4e79;">std::</span> containers, and without the &#8220;vexing parse&#8221; annoyance:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>struct mystruct { int x, y; };<br /><br />// C++98 <br />rectangle       w( origin(), extents() );       // oops, vexing parse <br />complex&lt;double&gt; c( 2.71828, 3.14159 ); <br />mystruct        m = { 1, 2 };<br />int             a[] = { 1, 2, 3, 4 };<br />vector&lt;int&gt;     v;                              // urk, need more code<br />for( int i = 1; i &lt;= 4; ++i ) v.push_back(i);   //   to initialize this<br /><br />// C++11 (note: "=" is mostly optional)<br />rectangle       w   = { origin(), extents() }; <br />complex&lt;double&gt; c   = { 2.71828, 3.14159 }; <br />mystruct        m   = { 1, 2 }; <br />int             a[] = { 1, 2, 3, 4 };<br />vector&lt;int&gt;     v   = { 1, 2, 3, 4 };
</code></pre>
</p>
<p>And note that this isn&#8217;t just an aesthetic issue. Consider writing generic code that should be able to initialize any type… and while we&#8217;re at it, let&#8217;s gratuitously use perfect forwarding as an example:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>template&lt;typename T, typename ...Args&gt;<br />void forwarder( Args&amp;&amp;... args ) {<br />    // ...<br />    T local <span style="background-color:yellow;">= {</span> std::forward&lt;Args&gt;(args)... <span style="background-color:yellow;">}</span>;<br />    // ...<br />}<br /><br />forwarder&lt;int&gt;            ( 42 );                  // ok<br />forwarder&lt;rectangle&gt;      ( origin(), extents() ); // ok<br />forwarder&lt;complex&lt;double&gt;&gt;( 2.71828, 3.14159 );    // ok<br />forwarder&lt;mystruct&gt;       ( 1, 2 );                // ok because of {}<br />forwarder&lt;int[]&gt;          ( 1, 2, 3, 4 );          // ok because of {}<br />forwarder&lt;vector&lt;int&gt;&gt;    ( 1, 2, 3, 4 );          // ok because of {}
</code></pre>
</p>
<p>The last three lines would not be legal if <span style="color:#1f4e79;">forwarder</span> used <span style="color:#1f4e79;">( )</span> initialization syntax internally.
</p>
<p>The new <span style="color:#1f4e79;">{ }</span> syntax works pretty much everywhere, including to initialize members:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>widget::widget( /*...*/ ) : mem1<span style="background-color:yellow;">{</span>init1<span style="background-color:yellow;">}</span>, mem2<span style="background-color:yellow;">{</span>init2, init3<span style="background-color:yellow;">}</span> { /*...*/ } 
</code></pre>
</p>
<p>And, as icing on the take, it&#8217;s often just plain convenient to pass function arguments, or return a value, without a type-named temporary:
</p>
<p style="background:#ffffcc;margin-left:14pt;">
<pre><code>void draw_rect( rectangle ); <br /><br />draw_rect( rectangle(origin, selection) );         // C++98<br />draw_rect(<span style="background-color:yellow;">{</span> origin, selection <span style="background-color:yellow;">}</span>);                  // C++11<br /><br />rectangle compute_rect() {<br />   // ...<br />   if(cpp98) return rectangle(origin, selection);  // C++98<br />   else      return <span style="background-color:yellow;">{</span>origin, selection<span style="background-color:yellow;">}</span>;           // C++11<br />}
</code></pre>
</p>
<p>
 </p>
<h2>4. When should you use ( ) vs. { } syntax to initialize objects? Why?<br />
</h2>
<p>Here&#8217;s the simple <span style="color:#5b9bd5;">g</span>uideline:
</p>
<blockquote>
<p><strong>Guideline:</strong> Prefer to use initialization with <strong>{ }</strong>, such as <strong>vector&lt;int&gt; v = { 1, 2, 3, 4 };</strong> or <strong>auto v = vector&lt;int&gt;{ 1, 2, 3, 4 };</strong>, because it&#8217;s more consistent, more correct, and avoids having to know about old-style pitfalls at all. In single-argument cases where you prefer to see only the <strong>=</strong> sign, such as <strong>int i = 42;</strong> and <strong>auto x = anything</strong>; omitting the braces is fine. …
</p>
</blockquote>
<p>That covers the vast majority of cases. There is only one main exception:
</p>
<blockquote>
<p>… In rare cases, such as <strong>vector&lt;int&gt; v(10,20);</strong> or <strong>auto v = vector&lt;int&gt;(10,20);</strong>, use initialization with <strong>( )</strong> to explicitly call a constructor that is otherwise hidden by an <strong>initializer_list</strong> constructor.
</p>
</blockquote>
<p>However, the reason this should be generally &#8220;rare&#8221; is because default and copy construction are already special and work fine with <span style="color:#5b9bd5;">{ }</span>, and good class design now mostly avoids the resort-to-<span style="color:#5b9bd5;">( )</span> case for user-defined constructors because of this final design guideline:
</p>
<blockquote>
<p><strong>Guideline: </strong>When you design a class, avoid providing a constructor that ambiguously overloads with an <strong>initializer_list</strong> constructor, so that users won&#8217;t need to use <strong>( )</strong> to reach such a hidden constructor.
</p>
</blockquote>
<p>
 </p>
<h2>Acknowledgments<br />
</h2>
<p>Thanks in particular to the following for their feedback to improve this article: Michal Mocny, Jay Miller, &#8220;Alexey,&#8221; &#8220;praetorian20,&#8221; Francisco Lopes, &#8220;Neil,&#8221; Daryle Walker.</p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/c/gotw/" rel="category tag">GotW</a> | 											55 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">55 Responses</h3>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1 highlander-comment" id="comment-30645">
		<div id="div-comment-30645">
		<div class="cmtinfo"><em> on <a href="#comment-30645" title="">2014-10-24 at 1:44 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1fa40d1ff1c5ee90efcd97561f1fac3c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>jonh</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_30645"></div><p>I believe I may have uncovered an uncomfortable interaction between the new C++11 uniform initialization syntax, and everybody&#8217;s old friend, the preprocessor. When the preprocessor breaks down a macro argument list into individual argument tokens, it has special handling for commas which are embedded in parenthesis (so an entire function call is considered to be a single macro argument), whereas it doesn&#8217;t do the same thing for braces. So a new-style initialization expression which takes more than one argument (i.e. has a comma in it) would appear to the preprocessor as multiple arguments to a macro.</p>
<p>This listing demonstrates the problem (if you can ignore its many, many issues). I tested it MinGW/gcc -std=c++11 and with VS2013 cl.exe:</p>
<pre class="brush: plain; title: ; notranslate" title="">
#include &lt;vector&gt;
#include &lt;stdio.h&gt;


// Show the first value of a std::vector&lt;int&gt;
#define SHOW_VALUE(X_) \
    SHOW_VALUE_(__FILE__, __LINE__, X_)

#define SHOW_VALUE_(F_, L_, X_) \
    (::printf( F_ &quot;:%u: &quot; #X_ &quot; = %u\n&quot;, L_, ((X_)[0]) ))


int main() {
    auto oldv = std::vector&lt;int&gt;(1, 2);
    auto newv = std::vector&lt;int&gt;{1, 2};

    SHOW_VALUE(oldv);
    SHOW_VALUE(newv);
    SHOW_VALUE(std::vector&lt;int&gt;(3, 4));
//    SHOW_VALUE(std::vector&lt;int&gt;{3, 4}); //Oops: SHOW_VALUE() sees 2 arguments
    SHOW_VALUE((std::vector&lt;int&gt;{3, 4})); //Clunky workaround for line above

    return 0;
}
</pre>
<p>So in the commented out line, SHOW_VALUE() sees arguments of &#8216;std::vector&lt;int&amp;gt{3&#8217; and &#8216;4}&#8217;.</p>
<p>&#8220;Don&#8217;t use macros&#8221; aside, this example is pretty contrived, and nobody is likely to need to dump the value of an object literal in this manner. It&#8217;s also possible to work around it by wrapping the literal in parentheses, so it&#8217;s not world-ending. (It&#8217;s also possible to build macro machinery to detect and remove parentheses from macro arguments with the C99 preprocessor, if necessary.)</p>
<p>(Going off on a tangent, I find myself wandering if the best way to get a &#8216;fix&#8217; for this might be a proposal for the next C standard for the preprocessor to handle {,} in the same way it currently handles (,) &#8212; that would allow you to pass multiple C array literals into a single macro for example, and would seem to be a strict extension to the current behaviour, as only variadic macros can process an array literal currently.)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-24884">
		<div id="div-comment-24884">
		<div class="cmtinfo"><em> on <a href="#comment-24884" title="">2014-08-20 at 10:45 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/7e7a37e5aaa7631abf8d6c5ff8bd4bec?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Mike Fotta</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_24884"></div><p>in a) &#8220;Note that w is not initialized and contains garbage values if widget happens to be a built-in type like int&#8221;&#8230;</p>
<p>Depends on where w is declared (for example, what if it is global).  Not trying to be picky, but if someone does not already know the answer to a, then they probably also do not know the rules of initialized vs uninitialized for those cases.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1 highlander-comment" id="comment-14594">
		<div id="div-comment-14594">
		<div class="cmtinfo"><em> on <a href="#comment-14594" title="">2014-02-05 at 8:45 pm</a></em>  <cite><a href='http://colourfulplusplus.wordpress.com/2014/02/04/design-for-initialization-part-1/' rel='external nofollow' class='url'>Uniform initialization ain&#8217;t so uniform | Colourful++</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_14594"></div><p>[&#8230;] GotW #1 Solution: Variable Initialization – or Is It? | Sutter’s Mill [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-13394">
		<div id="div-comment-13394">
		<div class="cmtinfo"><em> on <a href="#comment-13394" title="">2013-11-24 at 11:18 am</a></em> <img alt='' src='https://i2.wp.com/lh4.googleusercontent.com/-1eCCfgLQJZA/AAAAAAAAAAI/AAAAAAAAAlQ/3MM304Inonc/photo.jpg?resize=48%2C48&#038;ssl=1' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://plus.google.com/+KirillPrazdnikov' rel='external nofollow' class='url'>Kirill Prazdnikov</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_13394"></div><p>Hi, I`m trying to understand this:<br />
 widget w = x;               // (f)<br />
You have commented that:<br />
 &gt;&gt; If x is of some other type, &#8230;. Assuming that an implicit conversion is available, (f) means the same as widget w( widget(x) );.<br />
I do not understand why ? I wrote a test using VS 2013 and found that it invokes only one constructor (and it`s this pointed to the x) :</p>
<p>struct widget {<br />
  widget(int) {<br />
    cout &lt;&lt; &quot;widget(int)\n&quot;;<br />
  }</p>
<p>  widget(const widget &amp;) {<br />
    cout &lt;&lt; &quot;widget(int)\n&quot;;<br />
  }<br />
};</p>
<p>widget x = 5;</p>
<p>What am I doing wrong ? </p>
<p> Thanks</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12764">
		<div id="div-comment-12764">
		<div class="cmtinfo"><em> on <a href="#comment-12764" title="">2013-09-25 at 5:21 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/99c9d02cb64c6f321e4b4a13829fdc4b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Mald</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12764"></div><p>Just want to thank you Herb for your GotW articles. Your explanations by example has really helped me. I have a question that is related to Copy Constructors and c++11. I was making a class recently and I was writing the copy constructor for it. I realized that it was basically a duplicate of the explicit normal constructor that I just wrote. Fortunately c++11 allows constructors to call peer constructors using delegation. So could I just have my copy constructor call my explicit normal constructor? Is this acceptable?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12067">
		<div id="div-comment-12067">
		<div class="cmtinfo"><em> on <a href="#comment-12067" title="">2013-07-28 at 8:53 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12067"></div><p>@Anubhav: Yes, the first bullet does apply, but the invoked constructor may be trivial. References to N3690 (current draft): 8.5/12: &#8220;If no initializer is specified for an object, the object is default-initialized&#8230;&#8221;. Which takes us to: 8.5/7: &#8220;if T is a (possibly cv-qualified) class type&#8230; the default constructor (12.1) for T is called&#8230;&#8221;. If widget is a class type, which can still be trivial or int-like, this takes us to: 12.1/4 which says that &#8220;&#8230; the default constructor is trivial&#8221; if the list I mentioned in 1(a) is satisfied. So yes, a constructor is called, but it may be trivial and have no effect. When construction is trivial, the language also allows you to access members before the constructor runs, goto past a local variable&#8217;s initialization, and such.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-12063">
		<div id="div-comment-12063">
		<div class="cmtinfo"><em> on <a href="#comment-12063" title="">2013-07-27 at 9:57 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c73732232595afca920089aa1c915cc4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Anubhav</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12063"></div><p>In 1 (a), is it totally correct to say &#8216;Note that w is not initialized&#8230;&#8217; for the case of a trivial class? $8.5/6 third bullet does not apply to this case  (the first bullet applies) and hence I think that initialization is performed.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-12062">
		<div id="div-comment-12062">
		<div class="cmtinfo"><em> on <a href="#comment-12062" title="">2013-07-27 at 9:53 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c73732232595afca920089aa1c915cc4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Anubhav</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_12062"></div><p>In 1 (a) default initialization, is it correct to say &#8216;Note that w is not initialized&#8230;&#8217;. when the type involved in a trivial class type? $8.5/6 third bullet does not apply to this case, and hence it appears that &#8216;..is not initialized&#8217; is not totally correct.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-11016">
		<div id="div-comment-11016">
		<div class="cmtinfo"><em> on <a href="#comment-11016" title="">2013-06-06 at 5:15 am</a></em> <img alt='' src='https://i0.wp.com/a0.twimg.com/profile_images/1578082746/____normal.jpg?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/Cheng_Wer' rel='external nofollow' class='url'>dengos (@Cheng_Wer)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_11016"></div><p>@Seungbum Woo  @Herb Sutter<br />
Just for curious, i check Seungbum&#8217;s code under archlinux_64, g++4.8.1<br />
<code><br />
F(const vector &amp;vv) : v{vv} { ... }   // #1<br />
...</p>
<p>main()<br />
{<br />
    ...<br />
    F f{a};   // #2<br />
    f.test();  // #3<br />
}</p>
<p></code><br />
by initialization v in {} way(#1), the output will be:</p>
<p>2<br />
[1]    8742 segmentation fault (core dumped)  ./a.out</p>
<p>gdb a.out turn out that, after execution of #2, the f object in memory look like this:</p>
<p>(gdb) p f<br />
$1 = {v = std::vector of length 2, capacity 2 = {0, 0}}</p>
<p>but still can&#8217;t figure out why the segmentation fault.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10922">
		<div id="div-comment-10922">
		<div class="cmtinfo"><em> on <a href="#comment-10922" title="">2013-06-05 at 5:24 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10922"></div><p>@Laurent: Consider T{x} &#8212; that&#8217;s the same as T(x) except that the former doesn&#8217;t allow narrowing and does prefer initializer_lists if any, so T(x) and T{x} are both semantically a function-style cast to T, if x is not of type T or derived from T.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10903">
		<div id="div-comment-10903">
		<div class="cmtinfo"><em> on <a href="#comment-10903" title="">2013-06-04 at 9:20 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/6da5a603fd4dcea53e578bcfac0c178b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Laurent L.</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10903"></div><p>Herb,</p>
<p>I looked a bit into N3651 (variable templates, revision 1) and something shocked me when I read the first example &#8211; template definition of the pi constant. The first thing I thought about was &#8220;Hey! This must be an old paper, they&#8217;re not using {}-initialization.&#8221; But then, I thought again, and saw that it was on purpose. And I thought about this a little more, and exclaimed &#8220;Hey! For any type T, the single-parametered syntax T(x) now uniformly means something different than it used to, doesn&#8217;t it?&#8221;</p>
<p>Since you&#8217;re saying that {} should be preferred in nearly all cases, I think C++11 now has two syntaxes for two different concepts:<br />
&#8211; T{x, y, z, &#8230;.} uniformly means initialization.<br />
&#8211; T(x) uniformly means &#8220;convert x to T&#8221;.</p>
<p>Am I wrong? Any thoughts?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10199">
		<div id="div-comment-10199">
		<div class="cmtinfo"><em> on <a href="#comment-10199" title="">2013-05-17 at 1:14 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/7ed9b22604fdc93e03bf7bd7fc57a508?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Seungbum Woo</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10199"></div><p>I am using GCC 4.8.1 under Windows7 ( using MinGW-w64 )   I am using an experimental version of MinGW-w64 for its std::thread support.  I should try MinGW-w64&#8217;s released version.</p>
<p>I confirmed that VC++ 2012 Nov CTP works fine with v{vv}.</p>
<p>Thank you for your answer.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-10196">
		<div id="div-comment-10196">
		<div class="cmtinfo"><em> on <a href="#comment-10196" title="">2013-05-17 at 12:33 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10196"></div><p>@Seungbum Woo: Looks like a compiler bug. What compiler and environment are you using?</p>
<p>I just tried:</p>
<p>&#8211; GCC 4.8 and VC++ 2012 Nov CTP which both like it;</p>
<p>&#8211; GCC 4.7.2 which thinks F f{a}; is illegal; and</p>
<p>&#8211; Intel ICC 13.0.1 which thinks v{vv} is illegal.</p>
<p>I believe GCC 4.8 and VC++ 2012 Nov CTP have it right.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10153">
		<div id="div-comment-10153">
		<div class="cmtinfo"><em> on <a href="#comment-10153" title="">2013-05-16 at 2:33 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/7ed9b22604fdc93e03bf7bd7fc57a508?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Seungbum Woo</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10153"></div><pre class="brush: plain; title: ; notranslate" title="">
#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

class F {
public:
    F(const vector&lt;int&gt;&amp; vv) :v{vv} { cout &lt;&lt; v[0] &lt;&lt; endl; }
    void test() { cout &lt;&lt; v[0] &lt;&lt; endl; }
private:
    const vector&lt;int&gt;&amp; v;
};

int main()
{
    vector&lt;int&gt; a {2,3};
    F f {a};
    f.test();
}
</pre>
<p>The output of this is<br />
2<br />
garbage</p>
<p>if I change the F constructor to</p>
<pre class="brush: plain; title: ; notranslate" title="">
     F(const vector&lt;int&gt;&amp; vv) :v(vv) { cout &lt;&lt; v[0] &lt;&lt; endl; }
</pre>
<p>The output is correct as expected :<br />
2<br />
2</p>
<p>Why does the first one with {} not work as expected?   Thanks!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1 highlander-comment" id="comment-10150">
		<div id="div-comment-10150">
		<div class="cmtinfo"><em> on <a href="#comment-10150" title="">2013-05-16 at 2:02 pm</a></em>  <cite><a href='http://www.blogosfera.co.uk/2013/05/cs-most-vexing-parse-again/' rel='external nofollow' class='url'>C++&#039;s most vexing parse again | BlogoSfera</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10150"></div><p>[&#8230;] Taken directly from <a href="https://herbsutter.com/2013/05/09/gotw-1-solution/" rel="nofollow">https://herbsutter.com/2013/05/09/gotw-1-solution/</a> [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10115">
		<div id="div-comment-10115">
		<div class="cmtinfo"><em> on <a href="#comment-10115" title="">2013-05-16 at 6:14 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10115"></div><p>@Alexey, @Daryle: I was trying to talk about just normal class types and avoid getting into types with trivial default constructors (and terms like &#8220;defaulted default constructor&#8221; that appear in the standard), but since there have been several comments about that you&#8217;ve convinced me that I should. I&#8217;ve updated the descriptions of (a) and (c) to talk about that. (I think the actual wording wanted in this context is not that it&#8217;s a &#8220;trivial type&#8221; but rather that it&#8217;s a &#8220;type with a trivial default constructor&#8221; &#8212; the two are basically the same thing except &#8220;trivial type&#8221; additionally means trivially copyable, or bit-copyable, and all that applies here is the trivial default constructibility.)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10113">
		<div id="div-comment-10113">
		<div class="cmtinfo"><em> on <a href="#comment-10113" title="">2013-05-16 at 2:52 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/3fdd3c3e0d7d466ac420fde81104607f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/billbasher' rel='external nofollow' class='url'>billbasher</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10113"></div><p>Found it :)</p>
<p>12.6.1 Explicit initialization</p>
<p>At the end of the example it says explicitly:</p>
<p>&#8221; [ Note: overloading of the assignment operator (13.5.3) has no eﬀect on initialization. — end<br />
note ]&#8221;</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10108">
		<div id="div-comment-10108">
		<div class="cmtinfo"><em> on <a href="#comment-10108" title="">2013-05-15 at 8:45 pm</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/100000047521852/picture?q=type%3Dlarge%26_md5%3D2851381955e5a3ffd7a952ada6d1d3a3&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/darylew1' rel='external nofollow' class='url'>Daryle Walker</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10108"></div><p>Whoa, cases 1a and 1c are not exactly the same.  If the type is considered trivial, i.e. can have a code-less definition, then 1a will leave the object with random garbage bits.  If such types are used like 1c, then value-initialization happens and the object is set to zero (if scalar) or recursively value-initialized (if composite).  The format for 1a is called default-initialization.  If the type is a class-type with a code-ful default construction policy (i.e. not trivial), then default-initialization will secretly call value-initialization instead, and that&#8217;s the only time where the two declarations are the same.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-litb1 even thread-even depth-1 highlander-comment" id="comment-10079">
		<div id="div-comment-10079">
		<div class="cmtinfo"><em> on <a href="#comment-10079" title="">2013-05-14 at 1:51 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/31a1c40a45079decc7f5525d2a873481?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>litb1</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10079"></div><p>It should be mentioned at least in one of these comments that</p>
<p>    widget w ();</p>
<p>Is not a vexing parse. In the grammar it can only be a function declaration. Just to the human reader it might be ambiguous as to what it means (but so might some of the brace initialization scenarios aswell).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10073">
		<div id="div-comment-10073">
		<div class="cmtinfo"><em> on <a href="#comment-10073" title="">2013-05-14 at 8:26 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/6aea6e2f57f2a7b1cd6870375fbdc42f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/nosenseetal' rel='external nofollow' class='url'>nosenseetal</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10073"></div><p>Herb in your auto GotW dont forget to mention that auto doesnt mean that type is the same as what function returns, aka<br />
const std::string&amp; MyClass::blah()<br />
auto s = mc.blah() // s is a string, not string ref</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10068">
		<div id="div-comment-10068">
		<div class="cmtinfo"><em> on <a href="#comment-10068" title="">2013-05-14 at 5:56 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/2385676760fc16f76a43f3319faaa843?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>litb1</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10068"></div><p>There is also another form of initialization</p>
<p>    widget w({x});</p>
<p>Which is valid only for classes, and calls directly the constructors, with &#8220;{x}&#8221; as argument.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10038">
		<div id="div-comment-10038">
		<div class="cmtinfo"><em> on <a href="#comment-10038" title="">2013-05-13 at 11:03 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/3fdd3c3e0d7d466ac420fde81104607f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/billbasher' rel='external nofollow' class='url'>billbasher</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10038"></div><p>Does anybody mind to quote the standard on why widget w = x; does not invoke the assignment operator?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-10030">
		<div id="div-comment-10030">
		<div class="cmtinfo"><em> on <a href="#comment-10030" title="">2013-05-13 at 7:58 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/ca391c038b300a739462dae91c5e8cbc?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Adrian</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10030"></div><p>Much better font.  Thank you.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-10004">
		<div id="div-comment-10004">
		<div class="cmtinfo"><em> on <a href="#comment-10004" title="">2013-05-13 at 1:05 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/31a1c40a45079decc7f5525d2a873481?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>litb1</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_10004"></div><p>It is remarkable that a difference between f and g is that copy list initialization does not prevent an explicit constructor to be selected. However if one is chosen, the program becomes illformed. This too was done as a safety feature, to prevent a less matching implicit constructor becoming selected.</p>
<p>You have a vexing error where you are saying that the following is an initialization. It is actually a function declaration</p>
<p>    widget w ( widget (x) );</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-9991">
		<div id="div-comment-9991">
		<div class="cmtinfo"><em> on <a href="#comment-9991" title="">2013-05-11 at 1:16 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9991"></div><p>Re fonts: OK, how&#8217;s this one?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9994">
		<div id="div-comment-9994">
		<div class="cmtinfo"><em> on <a href="#comment-9994" title="">2013-05-11 at 12:23 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/3860409df0a4ac63e72f55be9334e485?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>kerry</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9994"></div><p>std::array has no constructor, so you need either double braces or = init syntax(c initialization).  atleast thats what i remember.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-9993">
		<div id="div-comment-9993">
		<div class="cmtinfo"><em> on <a href="#comment-9993" title="">2013-05-11 at 11:59 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9993"></div><p>@kerry: Why do you think std::array needs = init syntax?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9992">
		<div id="div-comment-9992">
		<div class="cmtinfo"><em> on <a href="#comment-9992" title="">2013-05-11 at 11:11 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/3860409df0a4ac63e72f55be9334e485?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>kerry</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9992"></div><p>I think you should also mention that std::array has to be initialized with &#8216;=&#8217; sign.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9989">
		<div id="div-comment-9989">
		<div class="cmtinfo"><em> on <a href="#comment-9989" title="">2013-05-11 at 6:49 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/ca391c038b300a739462dae91c5e8cbc?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Adrian</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9989"></div><p>Seriously, we need a different font on this blog so that it&#8217;s _much_ easier to distinguish between () and {}.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9979">
		<div id="div-comment-9979">
		<div class="cmtinfo"><em> on <a href="#comment-9979" title="">2013-05-10 at 8:01 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/21e08c9dc5723cb8cd946ea149610656?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/thematto' rel='external nofollow' class='url'>Matt</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9979"></div><p>I don&#8217;t grok the standard&#8217;s need for any ambiguity here.</p>
<p>Perhaps someone can explain why something along the following lines was not adopted as standard?:</p>
<p>// Try to match a constructor then try to promote to a constructor arg.<br />
vector v = { {a, b, c} }; // (1) Match a list constructor inside a vector constructor.<br />
vector v = { a, b, c}; // (2) No constructor, match an arg ( eg list ) constructor to then promote.</p>
<p>// (3) Constructor match with arguments a, b, c only.<br />
vector v { a,b,c};</p>
<p>// (4) Construct an arg ( ie list in this case) then a vector only.<br />
vector v { {a,b,c} };</p>
<p>To me it is more elegant, logical, uniform. (2) is not optimal, but the non-assign syntax suggested above gives you more explicit worry-free control. Can anyone enlighten me as to the reasoning?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-9965">
		<div id="div-comment-9965">
		<div class="cmtinfo"><em> on <a href="#comment-9965" title="">2013-05-10 at 8:39 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9965"></div><p>@Tomek: I don&#8217;t know of a concrete proposal, though it&#8217;s sometimes discussed. This overlaps with C99-style designated initializers somewhat.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9964">
		<div id="div-comment-9964">
		<div class="cmtinfo"><em> on <a href="#comment-9964" title="">2013-05-10 at 8:27 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9964"></div><p>@praetorian20, @pepper_chico: You&#8217;re right, I&#8217;ve split out (g) to try to make this more accurate and clear. Thanks!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mmocny even thread-even depth-1 highlander-comment" id="comment-9963">
		<div id="div-comment-9963">
		<div class="cmtinfo"><em> on <a href="#comment-9963" title="">2013-05-10 at 7:59 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/05aa36ab5c7d2c620d27d86415ba2eb7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://mmocny.wordpress.com' rel='external nofollow' class='url'>Michal Mocny</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9963"></div><p>@Herb Regarding multiple returns using tuple, I&#8217;ve tried to play with this before, but find dealing with tuples directly quite excruciating.  The new std::get() syntax may help a little, but I really only enjoy using tuple returns when combined with std::tie at the call site, and std::tie cannot currently be used with auto inferred types.</p>
<p>How much chance for success is there for a proposal such as:</p>
<p>auto a, b;<br />
std::tie(a,b) = foo();</p>
<p>i.e. supporting *very* delayed type deduction?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mmocny odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9962">
		<div id="div-comment-9962">
		<div class="cmtinfo"><em> on <a href="#comment-9962" title="">2013-05-10 at 7:53 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/05aa36ab5c7d2c620d27d86415ba2eb7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://mmocny.wordpress.com' rel='external nofollow' class='url'>Michal Mocny</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9962"></div><p>@Herb Thanks.  I really like that style, actually.  I&#8217;m going to try to use it for a while and see where that takes me.</p>
<p>However, I am already wishing auto could be used to declare multiple different deduced types per comma separated list of variable declarations, such as:</p>
<p>auto v = vector{1,2,3}, l = list{1,2,3}, i = int{1}; // int{1} may be overkill</p>
<p>This style of using c++ with auto feels yet closer to the comfort of using a dynamic language.  huzzah!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-9961">
		<div id="div-comment-9961">
		<div class="cmtinfo"><em> on <a href="#comment-9961" title="">2013-05-10 at 7:47 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9961"></div><p>@Jay, @tr3w: Thanks for the example. I&#8217;ve added this to my notes to research further.</p>
<p>@jd: Bingo, you&#8217;ve discovered C++&#8217;s new multiple return values feature: return a tuple. In Portland we said we intended to change tuple&#8217;s constructor to not be explicit, which means that return { 1, 3.14, &#8220;xyzzy&#8221; }; would work, but I didn&#8217;t I didn&#8217;t check yet though whether that got moved and approved in Bristol.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9959">
		<div id="div-comment-9959">
		<div class="cmtinfo"><em> on <a href="#comment-9959" title="">2013-05-10 at 6:22 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9959"></div><p>@Michal: I didn&#8217;t want to freak people out with too much pushing of the proposed new &#8220;auto v = vector{ 1, 2, 3, 4 };&#8221; style, in part because it&#8217;s new and in part because I didn&#8217;t thoroughly motivate it in this GotW &#8212; that would have been a distraction and I plan to write another GotW that is all about auto. So in the (h) discussion I limited myself to encouraging readers to try it, and left it out of the final Guideline.</p>
<p>But since you mention it, I&#8217;ve now added the &#8220;auto x =&#8221; form along with the more-traditional variable declaration form to the Guideline. Let&#8217;s see how many people freak out. :)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9954">
		<div id="div-comment-9954">
		<div class="cmtinfo"><em> on <a href="#comment-9954" title="">2013-05-10 at 3:07 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/95bfaaa18ae257be34ac7d93faf967ca?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>jd</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9954"></div><p>What was the rational behind making `std::tuple`s constructor explicit thus blocking your recommended return syntax, such as:</p>
<p>    std::tuple t() { return { 6, 7 }; }</p>
<p>Which increases with oddity when you consider that the syntax does work for a `std::pair`</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9950">
		<div id="div-comment-9950">
		<div class="cmtinfo"><em> on <a href="#comment-9950" title="">2013-05-09 at 10:48 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/27de936b506e5b66990883db373bf57a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Tomek</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9950"></div><p>I wondering why C++14 don&#8217;t have named arguments? It would resolve some ambiguity ex.</p>
<p>vector s {1,2,3,4,5,6} #constructor with std::initializer_list<br />
vector s {size=10, 0} #creates vector with ten elements initialized to 0.</p>
<p>#this would create identical vectors<br />
vector v {begin=s.begin(), end=s.end()};<br />
vector v {s.begin(), s.end()}; </p>
<p>It should behave like normal function overloading, but when using named arguments first it should try to figure out proper order of parameter based on function declaration(parameter name in declaration). </p>
<p>@Herb can say if there was such a proposal?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jmckesson even thread-even depth-1 highlander-comment" id="comment-9949">
		<div id="div-comment-9949">
		<div class="cmtinfo"><em> on <a href="#comment-9949" title="">2013-05-09 at 8:50 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>jmckesson</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9949"></div><p>I want to make sure I understand something:</p>
<p>&gt; When you design a class, avoid providing a constructor that ambiguously overloads with an initializer_list constructor, so your users are never forced to use ( ) to reach such a hidden constructor. (The standard library has such an overload only as a historical artifact retained for compatibility reasons, and should not be emulated in this detail.)</p>
<p>If that’s true, why is it that Issue 2089 (<a href="http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3687.html#2089" rel="nofollow">http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3687.html#2089</a>) doesn’t always use uniform initialization on types? Instead, the proposed resolution says to use some form of enable_if detection to see if something’s constructible with the parameters as constructor parameters. Only if it is *not* will it attempt to use a braced-init-list.</p>
<p>That is trying to be a library solution for a LANGUAGE problem. That is the sort of thing that gave rise to `std::enable_if` and other such stupidity.</p>
<p>We need a language solution for language problems.</p>
<p>That “historical artifact” is not going to be going away. *Ever*. New containers like `dynarray` (<a href="http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3662.html#dynarray" rel="nofollow">http://www.open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3662.html#dynarray</a>) have the *same* “historical artifacts”. So it’s not history: it’s the present day. It’s the future.</p>
<p>It seems clear that the standards committee is really confused as to how to deal with this issue. Herb says it&#8217;s a &#8220;class design&#8221; issue, yet we are seeing new containers and new container proposals that *completely ignore* this supposed &#8220;class design&#8221; issue. There are no proposals that improve *existing* classes to allow you to access those constructors.</p>
<p>And quite frankly, telling everyone to design their classes to avoid conflicts like this is like taking away explicit casting, then telling everyone to design their function overloads so that there can’t be any ambiguity.</p>
<p>There’s a reason why the C++ compiler fails on an ambiguous function overload. But it doesn’t fail on an ambiguous uniform initialization; it just picks one and hides the other completely. That’s *wrong*.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9947">
		<div id="div-comment-9947">
		<div class="cmtinfo"><em> on <a href="#comment-9947" title="">2013-05-09 at 7:45 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/88857afb6b5614e2b05f4ca5c8ae75d7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Neil</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9947"></div><p>Thanks for the notes and guidelines, Herb.</p>
<p>I think there&#8217;s a new line missing in the first code listing under answer 3.</p>
<p>// oops, vexing parse [New Line Missing] complex &#8230;</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9940">
		<div id="div-comment-9940">
		<div class="cmtinfo"><em> on <a href="#comment-9940" title="">2013-05-09 at 2:31 pm</a></em> <img alt='' src='https://i1.wp.com/a0.twimg.com/profile_images/1661690017/YinYang_normal.png?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/pepper_chico' rel='external nofollow' class='url'>Francisco Lopes (@pepper_chico)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9940"></div><p>&#8220;However, even when the compiler does this, the widget copy constructor must still be accessible, even if is not called — the copy constructor’s side effects may or may not happen, that’s all.&#8221;</p>
<p><a href="http://stackoverflow.com/questions/13693871/copy-list-initialization-of-non-copyable-types" rel="nofollow">http://stackoverflow.com/questions/13693871/copy-list-initialization-of-non-copyable-types</a></p>
<p>Am I missing any tip on that?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9937">
		<div id="div-comment-9937">
		<div class="cmtinfo"><em> on <a href="#comment-9937" title="">2013-05-09 at 1:32 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/8b5430a8d40eb6d842186c7a7991edee?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>DS</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9937"></div><p>&gt; [&#8230;] the standard is explicit that an empty { } list means to call the default constructor if available.</p>
<p>This seems counterintuitive to me, why should an empty list be any different than a non-empty one?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9935">
		<div id="div-comment-9935">
		<div class="cmtinfo"><em> on <a href="#comment-9935" title="">2013-05-09 at 1:22 pm</a></em> <img alt='' src='https://i0.wp.com/a0.twimg.com/profile_images/2761767147/d2413d868b4462611a59cbe3ceacbc5a_normal.png?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/AndersSjogren' rel='external nofollow' class='url'>Anders Sjögren (@AndersSjogren)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9935"></div><p>@Jay: Try running the code in an online html encoder before posting it to avoid missing characters, e.g. <a href="http://www.opinionatedgeek.com/DotNet/Tools/HTMLEncode/encode.aspx" rel="nofollow">http://www.opinionatedgeek.com/DotNet/Tools/HTMLEncode/encode.aspx</a> .</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9933">
		<div id="div-comment-9933">
		<div class="cmtinfo"><em> on <a href="#comment-9933" title="">2013-05-09 at 12:26 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/8bcbc5519492da9cafc3a8162c830427?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Mike</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9933"></div><p>Honestly, this is extremely disappointing.  The committee has done little more than replace one vexing parse with another.  </p>
<p>Wouldn&#8217;t it have been less confusing to demand a syntax that distinguished between initializer lists and argument lists?  E.g.</p>
<p>vector v = { a, b, c};  // initializer list always<br />
vector v    { a,b,c};    // constructor argument list always<br />
vector v    {{a,b,c}};  // constructor argument list consisting of a single initializer_list (always)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-red1939 even thread-even depth-1 highlander-comment" id="comment-9932">
		<div id="div-comment-9932">
		<div class="cmtinfo"><em> on <a href="#comment-9932" title="">2013-05-09 at 12:12 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/01776284b7d24ba518a3811876e7fcd5?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://code4thought.wordpress.com' rel='external nofollow' class='url'>red1939</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9932"></div><p>What about template classes/functions that wish to use classes that include initializer list? It&#8217;s quite cumbersome to remember about the initializer_list priority, which I also believe should be lower than the standard () overloads. Special exceptions in case of copy/default/(move?) just seem to exemplify the fact much more.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9930">
		<div id="div-comment-9930">
		<div class="cmtinfo"><em> on <a href="#comment-9930" title="">2013-05-09 at 11:56 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/ca391c038b300a739462dae91c5e8cbc?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Adrian</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9930"></div><p>During the transition (which will take a while since certain compilers still don&#8217;t support the initializer list syntax), we&#8217;re going to need programming (and blogging!) fonts that make a much sharper distinction between braces {} and parentheses ().</p>
<p>Back at the dawn of ANSI C, I was working in a code base that allowed both K&amp;R style functions and ANSI prototyped functions.  Our compiler used different calling conventions depending on which style you used.  That meant you had to be very careful about declaring ANSI-style prototypes for functions that took no parameters.  If you said &#8220;int foo();&#8221;, the compiler assumed you meant K&amp;R style.  You had to say &#8220;int foo(void);&#8221; to make it clear you wanted the ANSI style.  When I learned C++, I carried this habit along, as one of the texts I learned from said &#8220;C++ requires ANSI-style prototypes.&#8221;  Many years later, someone berated me for typing unnecessary &#8220;void&#8221;s, and I dropped the habit.  But it occurred to me at that time that if C++ had just _required_ the void in function declarations with no parameters, then it would have eliminated (most) of the most vexing parse problems.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-rhalbersma even thread-even depth-1 highlander-comment" id="comment-9920">
		<div id="div-comment-9920">
		<div class="cmtinfo"><em> on <a href="#comment-9920" title="">2013-05-09 at 10:22 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/d51a7cc9d8eb6aebd1f1fc6133111b8f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>rhalbersma</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9920"></div><p>@praetorian20: C++14 (the language that Herb is targetting on this blog) will slightly modify brace-copy-initialization (see Stroustrup&#8217;s slides on ACCU 2013, p.17 <a href="http://accu.org/content/conf2013/Bjarnes_Talk.pdf" rel="nofollow">http://accu.org/content/conf2013/Bjarnes_Talk.pdf</a>), wouldn&#8217;t that change your example?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9918">
		<div id="div-comment-9918">
		<div class="cmtinfo"><em> on <a href="#comment-9918" title="">2013-05-09 at 10:08 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/d51a7cc9d8eb6aebd1f1fc6133111b8f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/rhalbersma' rel='external nofollow' class='url'>rhalbersma</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9918"></div><p>Thanks for a great revamp of the GotW series! </p>
<p>It&#8217;s interesting that you recommend writing &#8220;auto w = Widget{x, y, z};&#8221; so that you don&#8217;t get bitten by otherwise forbidden explicit conversions. Scott Meyers&#8217; latest Overview of the New C++11 (p.51) recommends: &#8220;Develop the habit of using brace initialization without “=“.&#8221; , which would mean writing &#8220;Widget w{x, y, z};&#8221; in this context. </p>
<p>AFAICS, the only advantage of Scott&#8217;s recommendation is that it would also work for types that have neither a move nor a copy constructor (corner case, admittedly). Or do you see any other issues for choosing between your and Scott&#8217;s recommendation?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9917">
		<div id="div-comment-9917">
		<div class="cmtinfo"><em> on <a href="#comment-9917" title="">2013-05-09 at 10:04 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/praetorian20' rel='external nofollow' class='url'>praetorian20</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9917"></div><p>Not sure if this is just an artifact of how it&#8217;s written, but it seems like you&#8217;re saying (g) requires an available copy-constructor, just like (f). While it&#8217;s true the latter does require one, the former is <i>copy-list-initialization</i> and it <b>does not</b> require one.</p>
<p><a href="https://ideone.com/tT5Af1" rel="nofollow">ideone example</a></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9915">
		<div id="div-comment-9915">
		<div class="cmtinfo"><em> on <a href="#comment-9915" title="">2013-05-09 at 9:43 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/9b8fce0615dd259a9ec629a7840b4b6a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Alexey</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9915"></div><p>Can you clarify about (a)? Was there change in the new standard regarding this?<br />
I&#8217;m talking about the case of </p>
<p>struct widget<br />
{<br />
       int i;<br />
};</p>
<p>now</p>
<p>    widget w;</p>
<p>was not the same as</p>
<p>    widget w =  widget();</p>
<p>(initialized vs. uninitialized member)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9914">
		<div id="div-comment-9914">
		<div class="cmtinfo"><em> on <a href="#comment-9914" title="">2013-05-09 at 9:42 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/b08e83da5a83b24f103521ec7d5c6889?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>tr3w</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9914"></div><p>The last guideline is nice, I just can&#8217;t really see it in practice. For example, how can we design a new vector class based on this?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mmocny odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9913">
		<div id="div-comment-9913">
		<div class="cmtinfo"><em> on <a href="#comment-9913" title="">2013-05-09 at 9:38 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/05aa36ab5c7d2c620d27d86415ba2eb7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://mmocny.wordpress.com' rel='external nofollow' class='url'>Michal Mocny</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9913"></div><p>Jay, you are right, but the final advice is basically &#8220;dont do what vector does, its just a historical artifact&#8221;.  Any type that accepts init_list should not also have complicated constructors, it seems.</p>
<p>I envision vector could be patched with something like a tag parameter to differentiate:</p>
<p>vector v = { std::size_init_tag(), 10 }; // now unambiguous</p>
<p>Or a special size type:</p>
<p>vector v = { std::size(10) }; // now unambiguous</p>
<p>I think..</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-9910">
		<div id="div-comment-9910">
		<div class="cmtinfo"><em> on <a href="#comment-9910" title="">2013-05-09 at 9:32 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/8cce47c29b37ed4cc8909c9fdb997507?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jay Miller</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9910"></div><p>Of course all of my angle brackets were stripped out by the blog software.  Hopefully you can figure out where they are (hint, the vector holds objects of type &#8220;Foo&#8221; ).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-9909">
		<div id="div-comment-9909">
		<div class="cmtinfo"><em> on <a href="#comment-9909" title="">2013-05-09 at 9:31 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/8cce47c29b37ed4cc8909c9fdb997507?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jay Miller</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9909"></div><p>I think the comments by jmckesson to your original questions are worth further discussion and were glossed over here by labeling the issues around uniform initialization &#8220;extremely rare&#8221;.  After reading it I wrote this test:</p>
<pre>
#include 
#include 

struct Foo
{
    Foo(int i) {} // #1
    Foo() {}
};

int main()
{
    std::vector f {10};

    std::cout &lt;&lt; f.size() &lt;&lt; std::endl;
}
</pre>
<p>The above code, as written, emits &#8220;1&#8221; (10 is a converted to Foo by a constructor that takes an int, then the vector&#8217;s initializer_list constructor is called).  If I comment out the line commented as #1, the result is &#8220;10&#8221; (the initializer_list cannot be converted so the int constructor is used).  The behavior of the vector constructor changes depending on the type it holds.  This seems like a really big deal and makes me nervous about using uniform initialization.</p>
<p>I feel like this must have come up in discussions before.  Can you comment on the issue?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-mmocny even thread-even depth-1 highlander-comment" id="comment-9902">
		<div id="div-comment-9902">
		<div class="cmtinfo"><em> on <a href="#comment-9902" title="">2013-05-09 at 9:00 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/05aa36ab5c7d2c620d27d86415ba2eb7?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://mmocny.wordpress.com' rel='external nofollow' class='url'>Michal Mocny</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_9902"></div><p>Your final guideline clears up my main annoyance with these new rules (though I dislike that default/copy/move constructors are special cased to bind tighter than init_list constructors, and think init_list should just have bound least tight always).</p>
<p>However, I have a question about seemingly conflicting advice here (Guideline in Q1(h) and Guideline Q4):</p>
<p>&#8220;[use] auto w = widget{x};&#8221; vs &#8220;Guideline: Prefer to use initialization with { }, such as vector v = { 1, 2, 3, 4 };&#8221;</p>
<p>Shouldn&#8217;t then that last example be auto v = vector{1, 2, 3, 4}; given the way the rules are written?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2013/05/09/gotw-1-solution/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-1fa40d1ff1c5ee90efcd97561f1fac3c">
	</div>
	<div class="grofile-hash-map-7e7a37e5aaa7631abf8d6c5ff8bd4bec">
	</div>
	<div class="grofile-hash-map-8532d909672e26e28caac243d0ed1424">
	</div>
	<div class="grofile-hash-map-99c9d02cb64c6f321e4b4a13829fdc4b">
	</div>
	<div class="grofile-hash-map-c0ba56bfd231f8f04feb057728975181">
	</div>
	<div class="grofile-hash-map-c73732232595afca920089aa1c915cc4">
	</div>
	<div class="grofile-hash-map-d457336710769409545bd560eadea758">
	</div>
	<div class="grofile-hash-map-6da5a603fd4dcea53e578bcfac0c178b">
	</div>
	<div class="grofile-hash-map-7ed9b22604fdc93e03bf7bd7fc57a508">
	</div>
	<div class="grofile-hash-map-3fdd3c3e0d7d466ac420fde81104607f">
	</div>
	<div class="grofile-hash-map-60c1f13f6ea1b5f82a8eda9bdab66a75">
	</div>
	<div class="grofile-hash-map-31a1c40a45079decc7f5525d2a873481">
	</div>
	<div class="grofile-hash-map-6aea6e2f57f2a7b1cd6870375fbdc42f">
	</div>
	<div class="grofile-hash-map-2385676760fc16f76a43f3319faaa843">
	</div>
	<div class="grofile-hash-map-ca391c038b300a739462dae91c5e8cbc">
	</div>
	<div class="grofile-hash-map-31a1c40a45079decc7f5525d2a873481">
	</div>
	<div class="grofile-hash-map-3860409df0a4ac63e72f55be9334e485">
	</div>
	<div class="grofile-hash-map-21e08c9dc5723cb8cd946ea149610656">
	</div>
	<div class="grofile-hash-map-05aa36ab5c7d2c620d27d86415ba2eb7">
	</div>
	<div class="grofile-hash-map-95bfaaa18ae257be34ac7d93faf967ca">
	</div>
	<div class="grofile-hash-map-27de936b506e5b66990883db373bf57a">
	</div>
	<div class="grofile-hash-map-a356923f858fbe363dad1dc566837fc6">
	</div>
	<div class="grofile-hash-map-88857afb6b5614e2b05f4ca5c8ae75d7">
	</div>
	<div class="grofile-hash-map-01425f5b1ccf55bad1be27753e475dd1">
	</div>
	<div class="grofile-hash-map-8b5430a8d40eb6d842186c7a7991edee">
	</div>
	<div class="grofile-hash-map-afb271c29e976595dcbc84a7d9bf1046">
	</div>
	<div class="grofile-hash-map-8bcbc5519492da9cafc3a8162c830427">
	</div>
	<div class="grofile-hash-map-01776284b7d24ba518a3811876e7fcd5">
	</div>
	<div class="grofile-hash-map-d51a7cc9d8eb6aebd1f1fc6133111b8f">
	</div>
	<div class="grofile-hash-map-d51a7cc9d8eb6aebd1f1fc6133111b8f">
	</div>
	<div class="grofile-hash-map-6099f76a0c24b09ca71f3e25eea7ce65">
	</div>
	<div class="grofile-hash-map-9b8fce0615dd259a9ec629a7840b4b6a">
	</div>
	<div class="grofile-hash-map-b08e83da5a83b24f103521ec7d5c6889">
	</div>
	<div class="grofile-hash-map-8cce47c29b37ed4cc8909c9fdb997507">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_30645={"id":468178,"unique_id":"wp-comment-30645","title":"I%20believe%20I%20may%20have%20uncovered%20an%20uncomfortable%20interaction%20between%20the%20new%20C%2B%2B11%20uniform%20initialization%20syntax%2C%20and%20everybody%26%23039%3Bs%20old%20friend%2C%20the%20preprocessor.%20When%20the%20preprocessor%20breaks%20down%20a%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-30645","item_id":"_comm_30645"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_30645 == 'undefined' ){PDRTJS_468178_comm_30645 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_30645 );}}PDRTJS_settings_468178_comm_24884={"id":468178,"unique_id":"wp-comment-24884","title":"in%20a%29%20%26quot%3BNote%20that%20w%20is%20not%20initialized%20and%20contains%20garbage%20values%20if%20widget%20happens%20to%20be%20a%20built-in%20type%20like%20int%26quot%3B...Depends%20on%20where%20w%20is%20declared%20%28for%20example%2C%20what%20if%20it%20is%20global%29.%20%20Not%20tryi...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-24884","item_id":"_comm_24884"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_24884 == 'undefined' ){PDRTJS_468178_comm_24884 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_24884 );}}PDRTJS_settings_468178_comm_14594={"id":468178,"unique_id":"wp-comment-14594","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20GotW%20%231%20Solution%3A%20Variable%20Initialization%20%20or%20Is%20It%3F%20%7C%20Sutters%20Mill%20%26%23091%3B%26%238230%3B%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-14594","item_id":"_comm_14594"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_14594 == 'undefined' ){PDRTJS_468178_comm_14594 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_14594 );}}PDRTJS_settings_468178_comm_13394={"id":468178,"unique_id":"wp-comment-13394","title":"Hi%2C%20I%60m%20trying%20to%20understand%20this%3A%20widget%20w%20%3D%20x%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%28f%29You%20have%20commented%20that%3A%20%20%20%26gt%3B%26gt%3B%20If%20x%20is%20of%20some%20other%20type%2C%20....%20Assuming%20that%20an%20implicit%20conversion%20is%20available%2C%20%28f%29%20me...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-13394","item_id":"_comm_13394"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_13394 == 'undefined' ){PDRTJS_468178_comm_13394 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_13394 );}}PDRTJS_settings_468178_comm_12764={"id":468178,"unique_id":"wp-comment-12764","title":"Just%20want%20to%20thank%20you%20Herb%20for%20your%20GotW%20articles.%20Your%20explanations%20by%20example%20has%20really%20helped%20me.%20I%20have%20a%20question%20that%20is%20related%20to%20Copy%20Constructors%20and%20c%2B%2B11.%20I%20was%20making%20a%20class%20recen...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-12764","item_id":"_comm_12764"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12764 == 'undefined' ){PDRTJS_468178_comm_12764 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12764 );}}PDRTJS_settings_468178_comm_12067={"id":468178,"unique_id":"wp-comment-12067","title":"%40Anubhav%3A%20Yes%2C%20the%20first%20bullet%20does%20apply%2C%20but%20the%20invoked%20constructor%20may%20be%20trivial.%20References%20to%20N3690%20%28current%20draft%29%3A%208.5%2F12%3A%20%26quot%3BIf%20no%20initializer%20is%20specified%20for%20an%20object%2C%20the%20object%20is%20d...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-12067","item_id":"_comm_12067"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12067 == 'undefined' ){PDRTJS_468178_comm_12067 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12067 );}}PDRTJS_settings_468178_comm_12063={"id":468178,"unique_id":"wp-comment-12063","title":"In%201%20%28a%29%2C%20is%20it%20totally%20correct%20to%20say%20%26%23039%3BNote%20that%20w%20is%20not%20initialized...%26%23039%3B%20for%20the%20case%20of%20a%20trivial%20class%3F%20%248.5%2F6%20third%20bullet%20does%20not%20apply%20to%20this%20case%20%20%28the%20first%20bullet%20applies%29%20and%20hence%20I...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-12063","item_id":"_comm_12063"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12063 == 'undefined' ){PDRTJS_468178_comm_12063 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12063 );}}PDRTJS_settings_468178_comm_12062={"id":468178,"unique_id":"wp-comment-12062","title":"In%201%20%28a%29%20default%20initialization%2C%20is%20it%20correct%20to%20say%20%26%23039%3BNote%20that%20w%20is%20not%20initialized...%26%23039%3B.%20when%20the%20type%20involved%20in%20a%20trivial%20class%20type%3F%20%248.5%2F6%20third%20bullet%20does%20not%20apply%20to%20this%20case%2C%20and%20hen...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-12062","item_id":"_comm_12062"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_12062 == 'undefined' ){PDRTJS_468178_comm_12062 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_12062 );}}PDRTJS_settings_468178_comm_11016={"id":468178,"unique_id":"wp-comment-11016","title":"%40Seungbum%20Woo%20%20%40Herb%20SutterJust%20for%20curious%2C%20i%20check%20Seungbum%26%23039%3Bs%20code%20under%20archlinux_64%2C%20g%2B%2B4.8.1%26lt%3Bcode%26gt%3BF%28const%20vector%20%26amp%3Bvv%29%20%3A%20v%7Bvv%7D%20%7B%20...%20%7D%20%20%20%2F%2F%20%231...main%28%29%7B%20%20%20%20...%20%20%20%20F%20f%7Ba%7D%3B%20%20%20%2F%2F%20%232%20%20%20%20f.tes...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-11016","item_id":"_comm_11016"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_11016 == 'undefined' ){PDRTJS_468178_comm_11016 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_11016 );}}PDRTJS_settings_468178_comm_10922={"id":468178,"unique_id":"wp-comment-10922","title":"%40Laurent%3A%20Consider%20T%7Bx%7D%20--%20that%26%23039%3Bs%20the%20same%20as%20T%28x%29%20except%20that%20the%20former%20doesn%26%23039%3Bt%20allow%20narrowing%20and%20does%20prefer%20initializer_lists%20if%20any%2C%20so%20T%28x%29%20and%20T%7Bx%7D%20are%20both%20semantically%20a%20function-style...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10922","item_id":"_comm_10922"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10922 == 'undefined' ){PDRTJS_468178_comm_10922 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10922 );}}PDRTJS_settings_468178_comm_10903={"id":468178,"unique_id":"wp-comment-10903","title":"Herb%2CI%20looked%20a%20bit%20into%20N3651%20%28variable%20templates%2C%20revision%201%29%20and%20something%20shocked%20me%20when%20I%20read%20the%20first%20example%20-%20template%20definition%20of%20the%20pi%20constant.%20The%20first%20thing%20I%20thought%20about%20wa...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10903","item_id":"_comm_10903"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10903 == 'undefined' ){PDRTJS_468178_comm_10903 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10903 );}}PDRTJS_settings_468178_comm_10199={"id":468178,"unique_id":"wp-comment-10199","title":"I%20am%20using%20GCC%204.8.1%20under%20Windows7%20%28%20using%20MinGW-w64%20%29%20%20%20I%20am%20using%20an%20experimental%20version%20of%20MinGW-w64%20for%20its%20std%3A%3Athread%20support.%20%20I%20should%20try%20MinGW-w64%26%23039%3Bs%20released%20version.I%20confirmed%20that%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10199","item_id":"_comm_10199"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10199 == 'undefined' ){PDRTJS_468178_comm_10199 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10199 );}}PDRTJS_settings_468178_comm_10196={"id":468178,"unique_id":"wp-comment-10196","title":"%40Seungbum%20Woo%3A%20Looks%20like%20a%20compiler%20bug.%20What%20compiler%20and%20environment%20are%20you%20using%3FI%20just%20tried%3A-%20GCC%204.8%20and%20VC%2B%2B%202012%20Nov%20CTP%20which%20both%20like%20it%3B-%20GCC%204.7.2%20which%20thinks%20F%20f%7Ba%7D%3B%20is%20illegal%3B%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10196","item_id":"_comm_10196"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10196 == 'undefined' ){PDRTJS_468178_comm_10196 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10196 );}}PDRTJS_settings_468178_comm_10153={"id":468178,"unique_id":"wp-comment-10153","title":"%26%23091%3Bcode%26%23093%3B%23include%20%26lt%3Biostream%26gt%3B%23include%20%26lt%3Bvector%26gt%3Busing%20namespace%20std%3Bclass%20F%20%7Bpublic%3A%20%20%20%20F%28const%20vector%26lt%3Bint%26gt%3B%26amp%3B%20vv%29%20%3Av%7Bvv%7D%20%7B%20cout%20%26lt%3B%26lt%3B%20v%26%23091%3B0%26%23093%3B%20%26lt%3B%26lt%3B%20endl%3B%20%7D%20%20%20%20void%20test%28%29%20%7B%20cout...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10153","item_id":"_comm_10153"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10153 == 'undefined' ){PDRTJS_468178_comm_10153 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10153 );}}PDRTJS_settings_468178_comm_10150={"id":468178,"unique_id":"wp-comment-10150","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20Taken%20directly%20from%20http%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F%20%26%23091%3B%26%238230%3B%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10150","item_id":"_comm_10150"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10150 == 'undefined' ){PDRTJS_468178_comm_10150 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10150 );}}PDRTJS_settings_468178_comm_10115={"id":468178,"unique_id":"wp-comment-10115","title":"%40Alexey%2C%20%40Daryle%3A%20I%20was%20trying%20to%20talk%20about%20just%20normal%20class%20types%20and%20avoid%20getting%20into%20types%20with%20trivial%20default%20constructors%20%28and%20terms%20like%20%26quot%3Bdefaulted%20default%20constructor%26quot%3B%20that%20appear%20in%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10115","item_id":"_comm_10115"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10115 == 'undefined' ){PDRTJS_468178_comm_10115 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10115 );}}PDRTJS_settings_468178_comm_10113={"id":468178,"unique_id":"wp-comment-10113","title":"Found%20it%20%3A%2912.6.1%20Explicit%20initializationAt%20the%20end%20of%20the%20example%20it%20says%20explicitly%3A%26quot%3B%20%26%23091%3B%20Note%3A%20overloading%20of%20the%20assignment%20operator%20%2813.5.3%29%20has%20no%20eect%20on%20initialization.%20%20endnote%20%26%23093%3B%26quot%3B...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10113","item_id":"_comm_10113"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10113 == 'undefined' ){PDRTJS_468178_comm_10113 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10113 );}}PDRTJS_settings_468178_comm_10108={"id":468178,"unique_id":"wp-comment-10108","title":"Whoa%2C%20cases%201a%20and%201c%20are%20not%20exactly%20the%20same.%20%20If%20the%20type%20is%20considered%20trivial%2C%20i.e.%20can%20have%20a%20code-less%20definition%2C%20then%201a%20will%20leave%20the%20object%20with%20random%20garbage%20bits.%20%20If%20such%20types%20ar...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10108","item_id":"_comm_10108"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10108 == 'undefined' ){PDRTJS_468178_comm_10108 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10108 );}}PDRTJS_settings_468178_comm_10079={"id":468178,"unique_id":"wp-comment-10079","title":"It%20should%20be%20mentioned%20at%20least%20in%20one%20of%20these%20comments%20that%20%20%20%20widget%20w%20%28%29%3BIs%20not%20a%20vexing%20parse.%20In%20the%20grammar%20it%20can%20only%20be%20a%20function%20declaration.%20Just%20to%20the%20human%20reader%20it%20might%20be%20ambi...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10079","item_id":"_comm_10079"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10079 == 'undefined' ){PDRTJS_468178_comm_10079 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10079 );}}PDRTJS_settings_468178_comm_10073={"id":468178,"unique_id":"wp-comment-10073","title":"Herb%20in%20your%20auto%20GotW%20dont%20forget%20to%20mention%20that%20auto%20doesnt%20mean%20that%20type%20is%20the%20same%20as%20what%20function%20returns%2C%20akaconst%20std%3A%3Astring%26amp%3B%20MyClass%3A%3Ablah%28%29auto%20s%20%3D%20mc.blah%28%29%20%2F%2F%20s%20is%20a%20string%2C%20n...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10073","item_id":"_comm_10073"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10073 == 'undefined' ){PDRTJS_468178_comm_10073 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10073 );}}PDRTJS_settings_468178_comm_10068={"id":468178,"unique_id":"wp-comment-10068","title":"There%20is%20also%20another%20form%20of%20initialization%20%20%20%20widget%20w%28%7Bx%7D%29%3BWhich%20is%20valid%20only%20for%20classes%2C%20and%20calls%20directly%20the%20constructors%2C%20with%20%26quot%3B%7Bx%7D%26quot%3B%20as%20argument....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10068","item_id":"_comm_10068"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10068 == 'undefined' ){PDRTJS_468178_comm_10068 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10068 );}}PDRTJS_settings_468178_comm_10038={"id":468178,"unique_id":"wp-comment-10038","title":"Does%20anybody%20mind%20to%20quote%20the%20standard%20on%20why%20widget%20w%20%3D%20x%3B%20does%20not%20invoke%20the%20assignment%20operator%3F...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10038","item_id":"_comm_10038"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10038 == 'undefined' ){PDRTJS_468178_comm_10038 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10038 );}}PDRTJS_settings_468178_comm_10030={"id":468178,"unique_id":"wp-comment-10030","title":"Much%20better%20font.%20%20Thank%20you....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10030","item_id":"_comm_10030"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10030 == 'undefined' ){PDRTJS_468178_comm_10030 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10030 );}}PDRTJS_settings_468178_comm_10004={"id":468178,"unique_id":"wp-comment-10004","title":"It%20is%20remarkable%20that%20a%20difference%20between%20f%20and%20g%20is%20that%20copy%20list%20initialization%20does%20not%20prevent%20an%20explicit%20constructor%20to%20be%20selected.%20However%20if%20one%20is%20chosen%2C%20the%20program%20becomes%20illforme...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-10004","item_id":"_comm_10004"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_10004 == 'undefined' ){PDRTJS_468178_comm_10004 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_10004 );}}PDRTJS_settings_468178_comm_9991={"id":468178,"unique_id":"wp-comment-9991","title":"Re%20fonts%3A%20OK%2C%20how%26%23039%3Bs%20this%20one%3F...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9991","item_id":"_comm_9991"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9991 == 'undefined' ){PDRTJS_468178_comm_9991 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9991 );}}PDRTJS_settings_468178_comm_9994={"id":468178,"unique_id":"wp-comment-9994","title":"std%3A%3Aarray%20has%20no%20constructor%2C%20so%20you%20need%20either%20double%20braces%20or%20%3D%20init%20syntax%28c%20initialization%29.%20%20atleast%20thats%20what%20i%20remember....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9994","item_id":"_comm_9994"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9994 == 'undefined' ){PDRTJS_468178_comm_9994 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9994 );}}PDRTJS_settings_468178_comm_9993={"id":468178,"unique_id":"wp-comment-9993","title":"%40kerry%3A%20Why%20do%20you%20think%20std%3A%3Aarray%20needs%20%3D%20init%20syntax%3F...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9993","item_id":"_comm_9993"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9993 == 'undefined' ){PDRTJS_468178_comm_9993 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9993 );}}PDRTJS_settings_468178_comm_9992={"id":468178,"unique_id":"wp-comment-9992","title":"I%20think%20you%20should%20also%20mention%20that%20std%3A%3Aarray%20has%20to%20be%20initialized%20with%20%26%23039%3B%3D%26%23039%3B%20sign....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9992","item_id":"_comm_9992"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9992 == 'undefined' ){PDRTJS_468178_comm_9992 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9992 );}}PDRTJS_settings_468178_comm_9989={"id":468178,"unique_id":"wp-comment-9989","title":"Seriously%2C%20we%20need%20a%20different%20font%20on%20this%20blog%20so%20that%20it%26%23039%3Bs%20_much_%20easier%20to%20distinguish%20between%20%28%29%20and%20%7B%7D....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9989","item_id":"_comm_9989"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9989 == 'undefined' ){PDRTJS_468178_comm_9989 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9989 );}}PDRTJS_settings_468178_comm_9979={"id":468178,"unique_id":"wp-comment-9979","title":"I%20don%26%23039%3Bt%20grok%20the%20standard%26%23039%3Bs%20need%20for%20any%20ambiguity%20here.Perhaps%20someone%20can%20explain%20why%20something%20along%20the%20following%20lines%20was%20not%20adopted%20as%20standard%3F%3A%20%2F%2F%20Try%20to%20match%20a%20constructor%20then%20try%20to...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9979","item_id":"_comm_9979"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9979 == 'undefined' ){PDRTJS_468178_comm_9979 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9979 );}}PDRTJS_settings_468178_comm_9965={"id":468178,"unique_id":"wp-comment-9965","title":"%40Tomek%3A%20I%20don%26%23039%3Bt%20know%20of%20a%20concrete%20proposal%2C%20though%20it%26%23039%3Bs%20sometimes%20discussed.%20This%20overlaps%20with%20C99-style%20designated%20initializers%20somewhat....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9965","item_id":"_comm_9965"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9965 == 'undefined' ){PDRTJS_468178_comm_9965 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9965 );}}PDRTJS_settings_468178_comm_9964={"id":468178,"unique_id":"wp-comment-9964","title":"%40praetorian20%2C%20%40pepper_chico%3A%20You%26%23039%3Bre%20right%2C%20I%26%23039%3Bve%20split%20out%20%28g%29%20to%20try%20to%20make%20this%20more%20accurate%20and%20clear.%20Thanks%21...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9964","item_id":"_comm_9964"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9964 == 'undefined' ){PDRTJS_468178_comm_9964 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9964 );}}PDRTJS_settings_468178_comm_9963={"id":468178,"unique_id":"wp-comment-9963","title":"%40Herb%20Regarding%20multiple%20returns%20using%20tuple%2C%20I%26%23039%3Bve%20tried%20to%20play%20with%20this%20before%2C%20but%20find%20dealing%20with%20tuples%20directly%20quite%20excruciating.%20%20The%20new%20std%3A%3Aget%28%29%20syntax%20may%20help%20a%20little%2C%20but%20I%20re...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9963","item_id":"_comm_9963"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9963 == 'undefined' ){PDRTJS_468178_comm_9963 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9963 );}}PDRTJS_settings_468178_comm_9962={"id":468178,"unique_id":"wp-comment-9962","title":"%40Herb%20Thanks.%20%20I%20really%20like%20that%20style%2C%20actually.%20%20I%26%23039%3Bm%20going%20to%20try%20to%20use%20it%20for%20a%20while%20and%20see%20where%20that%20takes%20me.However%2C%20I%20am%20already%20wishing%20auto%20could%20be%20used%20to%20declare%20multiple%20differe...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9962","item_id":"_comm_9962"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9962 == 'undefined' ){PDRTJS_468178_comm_9962 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9962 );}}PDRTJS_settings_468178_comm_9961={"id":468178,"unique_id":"wp-comment-9961","title":"%40Jay%2C%20%40tr3w%3A%20Thanks%20for%20the%20example.%20I%26%23039%3Bve%20added%20this%20to%20my%20notes%20to%20research%20further.%40jd%3A%20Bingo%2C%20you%26%23039%3Bve%20discovered%20C%2B%2B%26%23039%3Bs%20new%20multiple%20return%20values%20feature%3A%20return%20a%20tuple.%20In%20Portland%20we%20said%20we...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9961","item_id":"_comm_9961"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9961 == 'undefined' ){PDRTJS_468178_comm_9961 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9961 );}}PDRTJS_settings_468178_comm_9959={"id":468178,"unique_id":"wp-comment-9959","title":"%40Michal%3A%20I%20didn%26%23039%3Bt%20want%20to%20freak%20people%20out%20with%20too%20much%20pushing%20of%20the%20proposed%20new%20%26quot%3Bauto%20v%20%3D%20vector%7B%201%2C%202%2C%203%2C%204%20%7D%3B%26quot%3B%20style%2C%20in%20part%20because%20it%26%23039%3Bs%20new%20and%20in%20part%20because%20I%20didn%26%23039%3Bt%20thoroughly%20motiv...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9959","item_id":"_comm_9959"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9959 == 'undefined' ){PDRTJS_468178_comm_9959 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9959 );}}PDRTJS_settings_468178_comm_9954={"id":468178,"unique_id":"wp-comment-9954","title":"What%20was%20the%20rational%20behind%20making%20%60std%3A%3Atuple%60s%20constructor%20explicit%20thus%20blocking%20your%20recommended%20return%20syntax%2C%20such%20as%3A%20%20%20%20std%3A%3Atuple%20t%28%29%20%7B%20return%20%7B%206%2C%207%20%7D%3B%20%7DWhich%20increases%20with%20oddity%20whe...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9954","item_id":"_comm_9954"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9954 == 'undefined' ){PDRTJS_468178_comm_9954 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9954 );}}PDRTJS_settings_468178_comm_9950={"id":468178,"unique_id":"wp-comment-9950","title":"I%20wondering%20why%20C%2B%2B14%20don%26%23039%3Bt%20have%20named%20arguments%3F%20It%20would%20resolve%20some%20ambiguity%20ex.vector%20s%20%7B1%2C2%2C3%2C4%2C5%2C6%7D%20%23constructor%20with%20std%3A%3Ainitializer_listvector%20s%20%7Bsize%3D10%2C%200%7D%20%23creates%20vector%20with%20ten%20e...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9950","item_id":"_comm_9950"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9950 == 'undefined' ){PDRTJS_468178_comm_9950 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9950 );}}PDRTJS_settings_468178_comm_9949={"id":468178,"unique_id":"wp-comment-9949","title":"I%20want%20to%20make%20sure%20I%20understand%20something%3A%26gt%3B%20When%20you%20design%20a%20class%2C%20avoid%20providing%20a%20constructor%20that%20ambiguously%20overloads%20with%20an%20initializer_list%20constructor%2C%20so%20your%20users%20are%20never%20for...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9949","item_id":"_comm_9949"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9949 == 'undefined' ){PDRTJS_468178_comm_9949 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9949 );}}PDRTJS_settings_468178_comm_9947={"id":468178,"unique_id":"wp-comment-9947","title":"Thanks%20for%20the%20notes%20and%20guidelines%2C%20Herb.I%20think%20there%26%23039%3Bs%20a%20new%20line%20missing%20in%20the%20first%20code%20listing%20under%20answer%203.%2F%2F%20oops%2C%20vexing%20parse%20%26%23091%3BNew%20Line%20Missing%26%23093%3B%20complex%20......","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9947","item_id":"_comm_9947"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9947 == 'undefined' ){PDRTJS_468178_comm_9947 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9947 );}}PDRTJS_settings_468178_comm_9940={"id":468178,"unique_id":"wp-comment-9940","title":"%26quot%3BHowever%2C%20even%20when%20the%20compiler%20does%20this%2C%20the%20widget%20copy%20constructor%20must%20still%20be%20accessible%2C%20even%20if%20is%20not%20called%20%20the%20copy%20constructors%20side%20effects%20may%20or%20may%20not%20happen%2C%20thats%20all.%26quot%3Bhttp%3A...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9940","item_id":"_comm_9940"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9940 == 'undefined' ){PDRTJS_468178_comm_9940 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9940 );}}PDRTJS_settings_468178_comm_9937={"id":468178,"unique_id":"wp-comment-9937","title":"%26gt%3B%20%26%23091%3B...%26%23093%3B%20the%20standard%20is%20explicit%20that%20an%20empty%20%7B%20%7D%20list%20means%20to%20call%20the%20default%20constructor%20if%20available.This%20seems%20counterintuitive%20to%20me%2C%20why%20should%20an%20empty%20list%20be%20any%20different%20than%20a%20n...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9937","item_id":"_comm_9937"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9937 == 'undefined' ){PDRTJS_468178_comm_9937 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9937 );}}PDRTJS_settings_468178_comm_9935={"id":468178,"unique_id":"wp-comment-9935","title":"%40Jay%3A%20Try%20running%20the%20code%20in%20an%20online%20html%20encoder%20before%20posting%20it%20to%20avoid%20missing%20characters%2C%20e.g.%20http%3A%2F%2Fwww.opinionatedgeek.com%2FDotNet%2FTools%2FHTMLEncode%2Fencode.aspx%20....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9935","item_id":"_comm_9935"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9935 == 'undefined' ){PDRTJS_468178_comm_9935 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9935 );}}PDRTJS_settings_468178_comm_9933={"id":468178,"unique_id":"wp-comment-9933","title":"Honestly%2C%20this%20is%20extremely%20disappointing.%20%20The%20committee%20has%20done%20little%20more%20than%20replace%20one%20vexing%20parse%20with%20another.%20%20Wouldn%26%23039%3Bt%20it%20have%20been%20less%20confusing%20to%20demand%20a%20syntax%20that%20distinguis...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9933","item_id":"_comm_9933"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9933 == 'undefined' ){PDRTJS_468178_comm_9933 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9933 );}}PDRTJS_settings_468178_comm_9932={"id":468178,"unique_id":"wp-comment-9932","title":"What%20about%20template%20classes%2Ffunctions%20that%20wish%20to%20use%20classes%20that%20include%20initializer%20list%3F%20It%26%23039%3Bs%20quite%20cumbersome%20to%20remember%20about%20the%20initializer_list%20priority%2C%20which%20I%20also%20believe%20should%20be...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9932","item_id":"_comm_9932"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9932 == 'undefined' ){PDRTJS_468178_comm_9932 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9932 );}}PDRTJS_settings_468178_comm_9930={"id":468178,"unique_id":"wp-comment-9930","title":"During%20the%20transition%20%28which%20will%20take%20a%20while%20since%20certain%20compilers%20still%20don%26%23039%3Bt%20support%20the%20initializer%20list%20syntax%29%2C%20we%26%23039%3Bre%20going%20to%20need%20programming%20%28and%20blogging%21%29%20fonts%20that%20make%20a%20much%20sha...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9930","item_id":"_comm_9930"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9930 == 'undefined' ){PDRTJS_468178_comm_9930 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9930 );}}PDRTJS_settings_468178_comm_9920={"id":468178,"unique_id":"wp-comment-9920","title":"%40praetorian20%3A%20C%2B%2B14%20%28the%20language%20that%20Herb%20is%20targetting%20on%20this%20blog%29%20will%20slightly%20modify%20brace-copy-initialization%20%28see%20Stroustrup%26%23039%3Bs%20slides%20on%20ACCU%202013%2C%20p.17%20http%3A%2F%2Faccu.org%2Fcontent%2Fconf201...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9920","item_id":"_comm_9920"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9920 == 'undefined' ){PDRTJS_468178_comm_9920 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9920 );}}PDRTJS_settings_468178_comm_9918={"id":468178,"unique_id":"wp-comment-9918","title":"Thanks%20for%20a%20great%20revamp%20of%20the%20GotW%20series%21%20It%26%23039%3Bs%20interesting%20that%20you%20recommend%20writing%20%26quot%3Bauto%20w%20%3D%20Widget%7Bx%2C%20y%2C%20z%7D%3B%26quot%3B%20so%20that%20you%20don%26%23039%3Bt%20get%20bitten%20by%20otherwise%20forbidden%20explicit%20conversions.%20Sco...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9918","item_id":"_comm_9918"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9918 == 'undefined' ){PDRTJS_468178_comm_9918 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9918 );}}PDRTJS_settings_468178_comm_9917={"id":468178,"unique_id":"wp-comment-9917","title":"Not%20sure%20if%20this%20is%20just%20an%20artifact%20of%20how%20it%26%23039%3Bs%20written%2C%20but%20it%20seems%20like%20you%26%23039%3Bre%20saying%20%28g%29%20requires%20an%20available%20copy-constructor%2C%20just%20like%20%28f%29.%20While%20it%26%23039%3Bs%20true%20the%20latter%20does%20require%20one%2C%20t...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9917","item_id":"_comm_9917"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9917 == 'undefined' ){PDRTJS_468178_comm_9917 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9917 );}}PDRTJS_settings_468178_comm_9915={"id":468178,"unique_id":"wp-comment-9915","title":"Can%20you%20clarify%20about%20%28a%29%3F%20Was%20there%20change%20in%20the%20new%20standard%20regarding%20this%3FI%26%23039%3Bm%20talking%20about%20the%20case%20of%20struct%20widget%7B%20%20%20%20%20%20%20int%20i%3B%7D%3Bnow%20%20%20%20widget%20w%3Bwas%20not%20the%20same%20as%20%20%20%20widget%20w%20%3D%20%20widget...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9915","item_id":"_comm_9915"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9915 == 'undefined' ){PDRTJS_468178_comm_9915 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9915 );}}PDRTJS_settings_468178_comm_9914={"id":468178,"unique_id":"wp-comment-9914","title":"The%20last%20guideline%20is%20nice%2C%20I%20just%20can%26%23039%3Bt%20really%20see%20it%20in%20practice.%20For%20example%2C%20how%20can%20we%20design%20a%20new%20vector%20class%20based%20on%20this%3F...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9914","item_id":"_comm_9914"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9914 == 'undefined' ){PDRTJS_468178_comm_9914 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9914 );}}PDRTJS_settings_468178_comm_9913={"id":468178,"unique_id":"wp-comment-9913","title":"Jay%2C%20you%20are%20right%2C%20but%20the%20final%20advice%20is%20basically%20%26quot%3Bdont%20do%20what%20vector%20does%2C%20its%20just%20a%20historical%20artifact%26quot%3B.%20%20Any%20type%20that%20accepts%20init_list%20should%20not%20also%20have%20complicated%20constructors%2C%20i...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9913","item_id":"_comm_9913"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9913 == 'undefined' ){PDRTJS_468178_comm_9913 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9913 );}}PDRTJS_settings_468178_comm_9910={"id":468178,"unique_id":"wp-comment-9910","title":"Of%20course%20all%20of%20my%20angle%20brackets%20were%20stripped%20out%20by%20the%20blog%20software.%20%20Hopefully%20you%20can%20figure%20out%20where%20they%20are%20%28hint%2C%20the%20vector%20holds%20objects%20of%20type%20%26quot%3BFoo%26quot%3B%20%29....","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9910","item_id":"_comm_9910"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9910 == 'undefined' ){PDRTJS_468178_comm_9910 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9910 );}}PDRTJS_settings_468178_comm_9909={"id":468178,"unique_id":"wp-comment-9909","title":"I%20think%20the%20comments%20by%20jmckesson%20to%20your%20original%20questions%20are%20worth%20further%20discussion%20and%20were%20glossed%20over%20here%20by%20labeling%20the%20issues%20around%20uniform%20initialization%20%26quot%3Bextremely%20rare%26quot%3B.%20%20After%20...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9909","item_id":"_comm_9909"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9909 == 'undefined' ){PDRTJS_468178_comm_9909 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9909 );}}PDRTJS_settings_468178_comm_9902={"id":468178,"unique_id":"wp-comment-9902","title":"Your%20final%20guideline%20clears%20up%20my%20main%20annoyance%20with%20these%20new%20rules%20%28though%20I%20dislike%20that%20default%2Fcopy%2Fmove%20constructors%20are%20special%20cased%20to%20bind%20tighter%20than%20init_list%20constructors%2C%20and%20thin...","permalink":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/#comment-9902","item_id":"_comm_9902"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_9902 == 'undefined' ){PDRTJS_468178_comm_9902 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_9902 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMAxpon2traGJkZGxiZGhskgUAFHlAaw=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2013\/05\/09\/gotw-1-solution\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F","postID":"1831","shortlink":"https:\/\/wp.me\/peb5Y-tx","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/1831","statsLink":"https:\/\/wordpress.com\/stats\/post\/1831\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2013%2F05%2F09%2Fgotw-1-solution%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'1831','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sQlV2Y2ZzcS9MM3N2cDh4Yk40dCZtMERWRHZldWt5LHprU2QlSU9QVFZRYS55UGRjL3BiVHptfjZoM3Y2QW1GQXNLWCVDUG4tOGlhUzYlW0t1eSY4V3w9eVtUdUMmYnBodD9ERmFsb2tNcH5xT0ZpSkdUNkVbel12UVBDbzFYQXlzWnEud2g3bzVONXBlMEhwWWN6K2hiX2VPeFBrL0VqJnwtZWlWLDJrdVlmQmR0aVBtYj0uWmVCRE5VZHZnJWJwXzItWThuNQ=='}]);
_stq.push([ 'clickTrackerInit', '3379246', '1831' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>