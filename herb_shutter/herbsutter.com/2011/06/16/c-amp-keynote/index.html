<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>C++ AMP keynote is online | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965836&amp;back=https%3A%2F%2Fherbsutter.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; C++ AMP keynote is&nbsp;online Comments Feed" href="https://herbsutter.com/2011/06/16/c-amp-keynote/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='AFDS Keynote Live&nbsp;Stream' href='https://herbsutter.com/2011/06/14/afds-live-tream/' />
<link rel='next' title='Daniel Moth&#8217;s C++ AMP session is now&nbsp;online' href='https://herbsutter.com/2011/06/19/c-amp-overview/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2011/06/16/c-amp-keynote/" />
<link rel='shortlink' href='https://wp.me/peb5Y-9z' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="C++ AMP keynote is online" />
<meta property="og:url" content="https://herbsutter.com/2011/06/16/c-amp-keynote/" />
<meta property="og:description" content="Yesterday I had the privilege of talking about some of the work we&#8217;ve been doing to support massive parallelism on GPUs in the next version of Visual C++. The video of my talk announcing C++ …" />
<meta property="article:published_time" content="2011-06-17T00:21:25+00:00" />
<meta property="article:modified_time" content="2011-06-17T15:43:52+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965836" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="C++ AMP keynote is&nbsp;online" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="Yesterday I had the privilege of talking about some of the work we&#039;ve been doing to support massive parallelism on GPUs in the next version of Visual C++. The video of my talk announcing C++ AMP is now available on Channel 9. (Update: Here&#039;s an alternate link; it seems to be posted twice.) The first 20&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2011/06/16/c-amp-keynote/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-593 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2011/06/14/afds-live-tream/" rel="prev">AFDS Keynote Live&nbsp;Stream</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2011/06/19/c-amp-overview/" rel="next">Daniel Moth&#8217;s C++ AMP session is now&nbsp;online</a> &raquo;</div>
			</div>
			
			<div class="post-593 post type-post status-publish format-standard hentry category-c category-concurrency category-hardware category-microsoft category-software-development category-talks-events" id="post-593">
				<div class="posttitle">
					<h2>C++ AMP keynote is&nbsp;online</h2>
					<p class="post-info">2011-06-16 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>Yesterday I had the privilege of talking about some of the work we&#8217;ve been doing to support massive parallelism on GPUs in the next version of Visual C++. The video of my talk announcing C++ AMP <strong><a href="http://channel9.msdn.com/posts/AFDS-Keynote-Herb-Sutter-Heterogeneous-Computing-and-C-AMP">is now available on Channel 9</a></strong>. (Update: Here&#8217;s an <a href="http://channel9.msdn.com/Events/AMD-Fusion-Developer-Summit/AMD-Fusion-Developer-Summit-11/KEYNOTE">alternate link</a>; it seems to be posted twice.)</p>
<p>The first 20 minutes has nothing to do with C++ in particular or any platform in particular, but tries to make the case that the right way to view the &#8220;trends&#8221; of multicore computing, GPU computing, and cloud computing (HaaS) is that they are not three trends at all, but merely facets of the same single trend &#8212; heterogeneous parallel computing.</p>
<p>If they are, then one programming model should be able to address them all. We think we&#8217;ve found one.</p>
<p>The main reasons we decided to build a new model is that we believe there needs to be a single model that has all of the following attributes:</p>
<ul>
<li><strong>C++, not C:</strong> It should leverage C++&#8217;s power for strong abstraction without sacrificing performance, not just be a dialect of C.</li>
<li><strong>Mainstream:</strong> It should be programmable by millions of developers, not just by a priesthood. Litmus test: Is the Hello World parallel GPU program a page and half, or a couple of lines?</li>
<li><strong>Minimal:</strong> It adds just one general-purpose language extension that addresses not only the immediate problem (dealing with cores that can&#8217;t support full C++) but many others. With the right general-purpose extension, the rest can be done as just a library.</li>
<li><strong>Portable:</strong> It allows shipping a single EXE that can use any combination of GPU vendors&#8217; hardware. The initial implementation uses DirectCompute and supports all devices that are DX11 capable; DirectCompute is just an implementation detail of the first release, and the model can (and I expect will) be implemented to directly talk to any interesting hardware.</li>
<li><strong>General and future-proof:</strong> The initial release will focus on GPU computing, but it&#8217;s intended to enable people to write code for the GPU in a way that in the future we can recompile with few or no changes to spread across any and all accessible compute cores, including ones in the cloud.</li>
<li><strong>Open:</strong> I mentioned that Microsoft intends to make the C++ AMP specification open, and encourages its implementation on other C++ compilers for any hardware or OS target. AMD announced that they will implement C++ AMP in their FSA reference compiler. NVidia also announced support.</li>
</ul>
<p>We&#8217;re really excited about this, and I hope you find the information in the talk to be useful. A prerelease implementation in Visual C++ that runs on Windows will be available later this year. More to come&#8230;</p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/concurrency/" rel="category tag">Concurrency</a>, <a href="https://herbsutter.com/category/hardware/" rel="category tag">Hardware</a>, <a href="https://herbsutter.com/category/microsoft/" rel="category tag">Microsoft</a>, <a href="https://herbsutter.com/category/software-development/" rel="category tag">Software Development</a>, <a href="https://herbsutter.com/category/talks-events/" rel="category tag">Talks &amp; Events</a> | 											31 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">31 Responses</h3>

	<ol class="commentlist">
			<li class="pingback even thread-even depth-1 highlander-comment" id="comment-3586">
		<div id="div-comment-3586">
		<div class="cmtinfo"><em> on <a href="#comment-3586" title="">2011-09-29 at 11:16 am</a></em>  <cite><a href='http://mdavey.wordpress.com/2011/09/29/gpu-pricing-and-risk-c-amp/' rel='external nofollow' class='url'>GPU: Pricing and Risk &#8211; C++ AMP &laquo; Tales from a Trading Desk</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3586"></div><p>[&#8230;] recall from Herb&#8217;s keynote that Microsoft is pushing C++ AMP as &#8220;open&#8221;. How long before NVIDIA offer C++ AMP [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3293">
		<div id="div-comment-3293">
		<div class="cmtinfo"><em> on <a href="#comment-3293" title="">2011-08-09 at 3:30 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/0ac9ea59bbd5477c1b06458866f0b3c9?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/' rel='external nofollow' class='url'>Brandi</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3293"></div><p>Slam dunkin like Shaquille O&#8217;Neal, if he wrote ifnomartive articles.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1 highlander-comment" id="comment-3271">
		<div id="div-comment-3271">
		<div class="cmtinfo"><em> on <a href="#comment-3271" title="">2011-07-21 at 11:54 pm</a></em>  <cite><a href='http://www.delphipraxis.net/161780-neues-projekt-unter-net-c-oder-prism-4.html#post1112987' rel='external nofollow' class='url'>Neues Projekt unter .Net: c# oder Prism - Seite 4 - Delphi-PRAXiS</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3271"></div><p>[&#8230;]  [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3266">
		<div id="div-comment-3266">
		<div class="cmtinfo"><em> on <a href="#comment-3266" title="">2011-07-19 at 6:38 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3266"></div><p>@JSawyer: Those are good questions. We&#8217;ve considered those things and intend to do some of them. Briefly:</p>
<p>Tag/version: &#8220;direct3d&#8221; is a placeholder and we agree it implies the wrong thing because nothing about the model is DX-specific, so we&#8217;ll probably rename this tag. Versions are accounted for in the design with a :## syntax (e.g., restrict(direct3d:11.1) but are not needed in the initial release. Yes, you can use macros for these.</p>
<p>The &#8220;restrict&#8221; name: Several people internally and externally have suggested renaming &#8216;restrict&#8217; to &#8216;target&#8217; because they have a view that this is about target platforms/cores. That&#8217;s too narrow a view; this is a general-purpose facility for language _restrictions_ that is integrated into the language and can handle more than just targets (just as lambdas are a general-purpose facility that can handle more than just parallel algorithms).</p>
<p>Timeframe: We haven&#8217;t announced a specific schedule yet, but have said that C++ AMP bits will be available later this year.</p>
<p>Thanks,</p>
<p>Herb</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3264">
		<div id="div-comment-3264">
		<div class="cmtinfo"><em> on <a href="#comment-3264" title="">2011-07-17 at 2:50 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/4b1184f475792c4d95848336130121e0?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>JSawyer</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3264"></div><p>Hello! I&#8217;ve never done GPGPU, but our financial applications are increasingly computation intensive and AMP seems like a nice way to go. I&#8217;ve watched your presentation, but I have I few concerns though.</p>
<p>&#8211; the &#8220;restrict&#8221; keyword. I know it is a C99 keyword, but is it the most descriptive one? The &#8220;restrict&#8221; keyword could actually be used not to &#8220;restrict&#8221; the language features within {} block, but to &#8220;expand&#8221; them. Maybe as suggested by others, &#8220;target&#8221; and &#8220;platform&#8221; are more suitable keywords. I&#8217;m against keyword inflation, but for the sake a clarity, maybe a new keyword should be considered?</p>
<p>restrict(direct3d):<br />
 &#8211; should the target parameter be used with or without quotes?<br />
 &#8211; should it have another (optional) parameter, such as version?<br />
 &#8211; is direct3d the most suitable description for DirectCompute or DirectX 11?</p>
<p>I would much rather see it like this:<br />
restrict(&#8220;OpenCL&#8221;, 1.1)<br />
restrict(&#8220;DirectCompute&#8221;, 11)<br />
restrict(&#8220;pure&#8221;)<br />
Or with restrict keyword changed to platform / target.</p>
<p>This way the programmer could define _targetname and _targetversion constants (within ifdef etc.) and use:<br />
restrict(_targetname, _targetversion)</p>
<p>_targetname would have to be a string, while _targetversion should be a float (to cover point versions, such as 1.1). If &#8220;pure&#8221;, the _targetversion could be ignored.</p>
<p>But then again, what about multi-targeting? If I&#8217;d like my code to run both on OpenCL 1.1 and DirectCompute 11?<br />
maybe restrict (OpenCL11; DirectCompute11) for a common set of features?<br />
Maybe really a preprocessor should define _mytargets, that contain both OpenCL 1.1 and DirectCompute 11 targets?</p>
<p>All in all, the approach seems quite interesting. But when could we start using AMP? What is the time frame for shipping CTP or release versions of AMP?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3235">
		<div id="div-comment-3235">
		<div class="cmtinfo"><em> on <a href="#comment-3235" title="">2011-07-01 at 3:13 pm</a></em>  <cite><a href='http://www.enterpriseirregulars.com/39401/enterprise-headlines-and-summaries-june-2011/' rel='external nofollow' class='url'>Enterprise Headlines and Summaries, June 2011</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3235"></div><p>[&#8230;] #Microsoft C++ AMP keynote is online The main reasons we decided to build a new model is that we believe there needs to be a single model that has all of the following attributes:&nbsp; [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3234">
		<div id="div-comment-3234">
		<div class="cmtinfo"><em> on <a href="#comment-3234" title="">2011-07-01 at 12:47 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/d32e607a6b5992ab6a3ac0f930a0ac43?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Thierry Seegers</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3234"></div><p>I have some questions about the MatrixMult example presented. That function has, in its body, a lambda that is restrict(direct3d). The function itself, though, defaults to restrict(cpu). What does that mean? Given that it is implemented in terms of a restrict(direct3d) piece of code, doesn&#8217;t that make the whole function restrict(direct3d)? And what happens when I run this code in a box with no GPU?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3211">
		<div id="div-comment-3211">
		<div class="cmtinfo"><em> on <a href="#comment-3211" title="">2011-06-27 at 9:13 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3211"></div><p>All questions of that form involve a scheduler that is responsible for mapping app workload to hardware and. Traditionally, app threads are mapped to cores by the OS scheduler, and this includes performing preemption to share a core when there are fewer cores than ready threads.  PPL tasks are mapped to cores by the ConcRT scheduler. C++ AMP tasks are mapped to specialized cores by the underlying scheduler, which initially is DirectCompute and can be other schedulers tomorrow.</p>
<p>The key thing is to have one scheduler for a given piece of hardware, and avoid having multiple different schedulers both think they own the same hardware and oversubscribing it. For a multicore example, it would be bad if Microsoft PPL&#8217;s ConcRT scheduler and Intel&#8217;s OpenMP scheduler both thought they owned the whole machine; it was that way at first, but the latter has now been implemented on top of the former so that they will share more nicely. The industry will continue to engineer under the covers to improve scheduling in this kind of way.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3202">
		<div id="div-comment-3202">
		<div class="cmtinfo"><em> on <a href="#comment-3202" title="">2011-06-27 at 2:26 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/24daeffcb799c6a88dfe9b80216f9f3a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Kaz Dragon</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3202"></div><p>First off, I really like this concept, the syntax that goes with it, and pretty much everything about it.</p>
<p>I do have a couple of points of curiosity, though, although this may be my naïveté about GPUs: presuming this becomes a mainstream programming paradigm, what&#8217;s going to happen when multiple applications try and offload data processing to the GPU at the same time?  For example, you&#8217;re playing a game of &#8220;Generic FPS 2015&#8221;, running &#8220;Cloud Project @Home&#8221; in the background, and your virus scanner kicks in.  All of these compete for the resources on the GPU.  Will it play nicely?</p>
<p>From a more local perspective, what happens if, within one program, one thread kicks off some GPU parallel processing in one thread, then some other thread does the same, with a different algorithm on a different dataset.  Will one computation have to wait for the other to complete entirely before starting, or will it be able to run on parts of the GPU that are &#8220;finished&#8221; or otherwise unallocated?  Or option c): other?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3172">
		<div id="div-comment-3172">
		<div class="cmtinfo"><em> on <a href="#comment-3172" title="">2011-06-21 at 6:46 am</a></em> <img alt='' src='https://i1.wp.com/a3.twimg.com/sticky/default_profile_images/default_profile_4_normal.png?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/tbiz33' rel='external nofollow' class='url'>thomas</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3172"></div><p>sooo could this mean a whole new level for pc gaming &amp; graphics?</p>
<p>or easier to program direct to metal?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3171">
		<div id="div-comment-3171">
		<div class="cmtinfo"><em> on <a href="#comment-3171" title="">2011-06-20 at 3:05 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1ca4bb7bab2db7296f3e1bf6a8ca5d1d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Joshua Burkholder</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3171"></div><p>@Herb Sutter:  Thanks for the explanation.  I didn&#8217;t realize how weak <code>extern "C" { ... }</code> actually is as a language linkage.  From the current draft standard ( <a href="http://www.open-std.org/jtc1/sc22/wg21/prot/14882fdis/n3291.pdf" rel="nofollow">http://www.open-std.org/jtc1/sc22/wg21/prot/14882fdis/n3291.pdf</a> ), N3291 § 7.5 does a pretty good job of explaining what <code>extern "langage name" { ... }</code> __cannot__ do.</p>
<p>ASIDE: It would be nice if the draft standard detailed what <code>extern "langage name" { ... }</code> could do &#8230; especially, how <code>extern "langage name" { ... }</code> compared to the seemingly more restrictive <code>extern "C" { ... }</code>.</p>
<p>While <code>restrict( direct3d ) { ... }</code> implies restricting the compiler to a proper subset of C++ that is useful for the current version of the HLSL Compute Shader in the current version of Direct3D, there is no guarantee that this subset will remain proper over future versions of HLSL &#8230; it very well could become a set with some features of C++ and some features not in C++ &#8230; or blossom into an improper subset or a superset of C++ &#8230; who knows &#8230; so we might just be <code>restrict-ing in the short term and find ourselves with an odd keyword in the future.</p>
<p>Moreover, while it's convenient that C99 has </code><code>restrict</code> as a reserved word, <code>restrict</code> doesn't really get to the heart of the matter.  We are asking the compiler's backend to do something other than the default ... instead of producing x86/x64 instructions, we want the compiler to produce HLSL Compute Shader bytecode or Azure library calls or whatever.  Words/phrases that immediately come to mind are: target, emit, compile to, produce, build ... or even: language, specification, platform, architecture, ... but not "restrict".  I think that something like <code>target( HLSL 5.0, OpenCL 1.0, Azure 1.0, MPI 2.2 ) { ... }</code> ... or <code>emit( HLSL, OpenCL, Azure, MPI ) { ... }</code> with compiler switches for version 5.0 of HLSL language, version 1.0 of the OpenCL spec, version 1.0 of the Azure library, and version 2.2 of the MPI spec/library ... or <code>platform( gpu, cloud )  { ... }</code> with compiler switches for HLSL 5.0 language &amp; OpenCL 1.0 spec for gpu and Azure 1.0 library &amp; MPI 2.2 spec/library for cloud (but defaulting to normal C++0x if I forget to add those compiler switches) ... or some combination of these would get more to the point ... and be a little more future-proof.</p>
<p>Very Respectfully,<br />
Joshua Burkholder</p>
<p>P.S. - Alternatively, you could just lift the restrictions from <code>extern "language name" { ... }</code> that the current draft standard imposes and make any necessary additions ... esp., since you are going to be embracing and extending the C++0x language anyway.  Since  <code>extern "language name" { ... }</code> was intended for language linkage ... and that seems to be what you are doing here, then you could just add the ability to place <code>extern "language name" { ... }</code> in any scope, to place it on any lambda or member function, and to restrict the C++ language based on the <code>"language name"</code> string within the scope of <code>extern "language name" { ... }</code>.  In other words, a lambda could be written as: <code>[=] ( index&lt;2&gt;(1, 2) ) extern "HLSL 5.0" { ... /* restrict C++ to features that produce compiler-backend intermediate forms that are compatible with HLSL 5.0 compiler-backend intermediate forms */ ... }</code> ... or something like that.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3169">
		<div id="div-comment-3169">
		<div class="cmtinfo"><em> on <a href="#comment-3169" title="">2011-06-19 at 4:25 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3169"></div><p>The trouble with extern is that it&#8217;s not fully integrated into the language. Here are a few examples: 1. It&#8217;s important to be able to overload on these qualifiers even when only the qualifier is different. 2. You want to be able to express restrictions on all functions, including member functions and lambdas, not just namespace-scope functions. 3. You also have to be able to put restriction qualifiers on pointers to functions and other associated language features. There are more examples, but those are the kinds of things that are necessary to get to a fully integrated design, where this new feature is an orthogonal feature that works with everything else that&#8217;s already there in the language, so that it just works with other language features as expected without surprises/limitations.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3168">
		<div id="div-comment-3168">
		<div class="cmtinfo"><em> on <a href="#comment-3168" title="">2011-06-19 at 4:24 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1ca4bb7bab2db7296f3e1bf6a8ca5d1d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Joshua Burkholder</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3168"></div><p>Here is another (potentially naive) way to allow the coordinate and matrix perspectives to coexist (…again limited to an index&lt;2&gt; example, but using unions instead of references…):<br />
<code>//===================================================================<br />
#include&nbsp;&lt;iostream&gt;<br />
&nbsp;<br />
using&nbsp;namespace&nbsp;std;<br />
&nbsp;<br />
template&nbsp;&lt;&nbsp;size_t&nbsp;N&nbsp;&gt;<br />
struct&nbsp;index;<br />
&nbsp;<br />
template&nbsp;&lt;&gt;<br />
struct&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;union&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;column;<br />
&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;union&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;row;<br />
&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;(&nbsp;int&nbsp;x,&nbsp;int&nbsp;y&nbsp;)&nbsp;:&nbsp;x(&nbsp;x&nbsp;),&nbsp;y(&nbsp;y&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
};</p>
<p>template&nbsp;&lt;&nbsp;size_t&nbsp;N&nbsp;&gt;<br />
struct&nbsp;matrix_index;</p>
<p>template&nbsp;&lt;&gt;<br />
struct&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;:&nbsp;public&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;(&nbsp;int&nbsp;row,&nbsp;int&nbsp;column&nbsp;)&nbsp;:&nbsp;index&lt;&nbsp;2&nbsp;&gt;(&nbsp;column,&nbsp;row&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;:&nbsp;index&lt;&nbsp;2&nbsp;&gt;(&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
};<br />
&nbsp;<br />
std::ostream&nbsp;&amp;&nbsp;operator&nbsp;&lt;&lt;&nbsp;(&nbsp;std::ostream&nbsp;&amp;&nbsp;os,&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;"(&nbsp;&nbsp;&nbsp;x:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.x&nbsp;&nbsp;&nbsp;&lt;&lt;&nbsp;",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;&nbsp;"&nbsp;)"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;"[&nbsp;row:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.row&nbsp;&lt;&lt;&nbsp;",&nbsp;column:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.column&nbsp;&lt;&lt;&nbsp;"&nbsp;)"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;os;<br />
}<br />
&nbsp;<br />
int&nbsp;main&nbsp;()&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;&lt;&lt;&nbsp;sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;)&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;"&nbsp;&lt;&lt;&nbsp;sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;)&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;i&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;i.x&nbsp;=&nbsp;5;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i.x&nbsp;=&nbsp;5;"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;i&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;mi&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi.column&nbsp;=&nbsp;5;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi.column&nbsp;=&nbsp;5;"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;mi&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;compilation&nbsp;checks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i2(&nbsp;i&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i3(&nbsp;mi&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi2(&nbsp;i&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi3(&nbsp;mi&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;i2&nbsp;=&nbsp;mi;<br />
&nbsp;&nbsp;&nbsp;&nbsp;i3&nbsp;=&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi2&nbsp;=&nbsp;mi;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi3&nbsp;=&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;<br />
}<br />
//===================================================================<br />
</code><br />
At run-time, the code above produces the following:</p>
<p><code>sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8<br />
sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;8</p>
<p>index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);<br />
i:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;2,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;2&nbsp;)</p>
<p>i.x&nbsp;=&nbsp;5;<br />
i:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;5,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;5&nbsp;)</p>
<p>matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);<br />
mi:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;2,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;2&nbsp;)</p>
<p>mi.column&nbsp;=&nbsp;5;<br />
mi:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;5,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;5&nbsp;)</p>
<p></code></p>
<p>Very Respectfully,<br />
Joshua Burkholder</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3167">
		<div id="div-comment-3167">
		<div class="cmtinfo"><em> on <a href="#comment-3167" title="">2011-06-19 at 4:21 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3167"></div><p>The &#8220;multiple schedulers&#8221; problem is real and needs to be solved independently. For example, C++ PPL uses the ConcRT runtime scheduler. If OpenMP uses a different scheduler, then unless there are extra knobs to tell them not to use the whole machine, both will think they own the whole machine. One way to solve this is to use a common scheduler &#8212; for example, IIRC Intel has updated their OpenMP implementation to use the ConcRT scheduler, which solves the problem. So the solution is to reduce the number of independent schedulers.</p>
<p>The good news is that the ConcRT and OpenMP and threadpool schedulers only deal with CPU cores today. C++ AMP deals only with GPU cores today. So there&#8217;s no conflict at the moment, and as we integrate C++ PPL and C++ AMP we will definitely be sure to make the schedulers play nice (minimum bar) or be fully unified (ideal, and long-term necessity).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-3166">
		<div id="div-comment-3166">
		<div class="cmtinfo"><em> on <a href="#comment-3166" title="">2011-06-19 at 4:18 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3166"></div><p>They must be built into the compiler. Allowing user-defined restriction qualifiers would be a much bigger language extension because you&#8217;d need to be able to have a whole new set of language syntax to let you talk about specific language features in the language, to specify what language features are and aren&#8217;t available. It&#8217;s possible and nothing closes the door to that as a future path, but it&#8217;s best to start with the basics and see how they work out.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3165">
		<div id="div-comment-3165">
		<div class="cmtinfo"><em> on <a href="#comment-3165" title="">2011-06-19 at 4:16 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3165"></div><p>@Mike: While we designed this, I did explore unifying this with const- and volatile-qualifiers on member functions. It turns out that they&#8217;re not quite the same thing &#8212; you could shoehorn mem-fun cv-qualifiers into restriction qualifiers, but fundamentally they&#8217;re no different than just plain cv-qualifiers on ordinary parameters, and the only reason they&#8217;re tacked on so awkwardly at the end is because you can&#8217;t write them on the &#8220;this&#8221; parameter where they belong. IMO the right way in the future to unify mem-fun cv-qualifiers is by allowing explicit &#8220;this&#8221; parameters&#8230; it&#8217;s really a different problem.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-3164">
		<div id="div-comment-3164">
		<div class="cmtinfo"><em> on <a href="#comment-3164" title="">2011-06-19 at 4:14 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3164"></div><p>@Jesse: Alas, attributes aren&#8217;t the answer because they&#8217;re not part of the language. For example, you can&#8217;t overload on them.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3163">
		<div id="div-comment-3163">
		<div class="cmtinfo"><em> on <a href="#comment-3163" title="">2011-06-19 at 4:13 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.gotw.ca' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3163"></div><p>@Lothar: I understand, and a lot of people felt the same about GUIs and OO.</p>
<p>The short answer is that we have to deal with it if we care about taking advantage of the compute throughput available on mainstream hardware from now on, because this is the way new performance will be delivered in mainstream hardware. Applications that aren&#8217;t compute-intensive can ignore it; applications that are will need to cope with heterogeneous computing &#8212; even if just locally, but more and more with cloud acceleration when connected (I believe this is the inevitable future in a handful of years).</p>
<p>I completely understand your feeling like you don&#8217;t want to have to learn to deal with this stuff. The dirty little secret is that nobody wanted multicore in the past five years, and nobody really wants heterogeneous computing now&#8230; the chip vendors and the software developers, all of us together, would just love old-free-lunch improvements to single-core throughput to go on forever. But just as starting in the mid-2000s we needed to go parallel to get full compute throughput out of mainstream hardware, we will now need to go heterogeneous to get full performance. And although we&#8217;d like to have not had to do the work of bringing parallelism into the mainstream, now that we are doing it there are strong other advantages, notably Performance/W and scalability.</p>
<p>I also get that you don&#8217;t want something Windows-only. That&#8217;s typical of C++ developers (including me), and it&#8217;s why we&#8217;ve decided to take the path of making this an open spec from the get-go. As of launch day both AMD and NVidia have announced support. More to come&#8230;</p>
<p>But it has to be easier to use than current tools if it&#8217;s going to make sense for millions of developers; a priesthood can happily continue to use what&#8217;s there now if they want, but we as an industry need to greatly broaden the audience of developers who can do this stuff successfully, as well as make all of us more productive. One aspect of this is minimizing differences from the proven programming models we already know: For C++ in particular, my personal belief is that both parallel computing and heterogeneous computing will fail unless we can make them just about as simple to use as STL algorithms. Fortunately, we now have a proof point that it can be done for parallel algorithms (see C++ PPL), and a proof of concept that the model can be taken to heterogeneous computing with an additional decoration (C++ AMP). I was concerned a few years ago, but now I&#8217;m confident that we&#8217;re going to get there.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3162">
		<div id="div-comment-3162">
		<div class="cmtinfo"><em> on <a href="#comment-3162" title="">2011-06-19 at 3:15 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1ca4bb7bab2db7296f3e1bf6a8ca5d1d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Joshua Burkholder</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3162"></div><p>The formating for the above code sample is fine; however, I forgot to modify the &#8220;At run-time, this produces the following&#8221; example, so here it is &#8230; with proper formating:<br />
<code>sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16<br />
sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;16</p>
<p>index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);<br />
i:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;2,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;2&nbsp;)</p>
<p>i.x&nbsp;=&nbsp;5;<br />
i:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;5,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;5&nbsp;)</p>
<p>matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);<br />
mi:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;2,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;2&nbsp;)</p>
<p>mi.column&nbsp;=&nbsp;5;<br />
mi:<br />
(&nbsp;&nbsp;&nbsp;x:&nbsp;5,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;3&nbsp;)<br />
[&nbsp;row:&nbsp;3,&nbsp;column:&nbsp;5&nbsp;)<br />
</code></p>
<p>Joshua Burkholder</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3161">
		<div id="div-comment-3161">
		<div class="cmtinfo"><em> on <a href="#comment-3161" title="">2011-06-19 at 3:02 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1ca4bb7bab2db7296f3e1bf6a8ca5d1d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Joshua Burkholder</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3161"></div><p>@Herb Sutter:</p>
<p>Why <code>restrict( direct3d ) { ... }</code>, vice <code>extern "direct3d" { ... }</code>?</p>
<p><code>extern "C" { ... }</code> seems to have worked pretty well.  What would <code>extern "direct3d" { ... }</code> not do that you need it to?</p>
<p>Very Respectfully,<br />
Joshua Burkholder</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3160">
		<div id="div-comment-3160">
		<div class="cmtinfo"><em> on <a href="#comment-3160" title="">2011-06-19 at 2:50 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/1ca4bb7bab2db7296f3e1bf6a8ca5d1d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Joshua Burkholder</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3160"></div><p>@Mike Gibson:  Gleened from just videos, my understanding of &#8220;restrict&#8221; is that it tells the compiler to consider language rules for a set of the C++ language (in this case, just a proper subset of C++ &#8230; but a superset would also be possible for things like C++ 202x language feature testing).  Since function pointers and recursion are not allowed under &#8220;restrict( direct3d )&#8221;, then &#8220;restrict( direct3d )&#8221; tells the compiler to consider a proper subset of C++0x where a pointer to a function or a recursive function should produce a compile-time error inside the context that follows (i.e. a compile-time error for just the code in between the &#8220;{&#8221; and &#8220;}&#8221; that follows the &#8220;restrict( direct3d )&#8221;).  This restriction allows the front end of the compiler to create an intermediate representation out of the proper subset of C++0x code that the backend can optimize and emit to anything it wants &#8230; like HLSL bytecode, or IA64 instructions, or a combination of both.  Of course, an additional run-time that handles the interaction between the CPU and the GPU (for HLSL) will also be added during compilation besides just the usual run-time that sets up the stack and calls &#8220;main&#8221;.</p>
<p>@Herb Sutter:  If the above is the case, then I think names like &#8220;direct3d&#8221; and &#8220;cpu&#8221; are __bad__ &#8230; they are much too hardware-target specific.  Hardware targets work well as compiler switches (say for x86, x64, &#8230;), vice being put directly in code.  I would think that language specifications &#8230; and maybe versions &#8230; should go in between the parens of &#8220;restrict(  )&#8221;.  For instance, &#8220;restrict( OpenCL 1.0 )&#8221;, &#8220;restrict( C++ 2003 )&#8221;, &#8220;restrict( HLSL 5.0 )&#8221;, &#8220;restrict( C++ 202x )&#8221;, &#8220;restrict( ECMAScript 5.0 )&#8221; &#8230; or whatever.  Additionally, I would imagine that the HLSL will add features in the future (i.e. leading to additional bytecode instructions) in Direct3D 12 (or Direct3D 13, or Direct3D 14, or &#8230;), so which HLSL version does &#8220;restrict( direct3d )&#8221; target?  Will this be a compiler switch, pragma, or something I can stick in between the parens of &#8220;restrict(  )&#8221;?  This seems like the DLL-Hell versioning problem that .NET assemblies tried to solve, but at a language/compiler level.</p>
<p>Lastly, I am __REALLY__ dissatisfied with the order of the indices in the index&lt;2&gt;, extent&lt;2&gt;, and similar templates &#8230; i.e. y, x &#8230; instead of the usual x, y.  Hint:  If you want me to think in terms of rows and columns, then provide an interface (say a &#8220;matrix_index&#8221; class for a &#8220;matrix_view&#8221; class) that allows me to think in terms of rows (y&#8217;s) and columns (x&#8217;s) &#8230; but do __not__ force me to use &#8220;y&#8221; for row and &#8220;x&#8221; for column &#8230; and do __not__ change the generally accepted order of things &#8230; i.e. (x, y) &#8230; because you are trying to fit multiple perspectives into one view &#8230; i.e. (y, x) that also means (row, column).  I should be able to have and declare indices using the coordinate perspective &#8230; i.e. (x, y) &#8230; or using the matrix perspective &#8230; i.e. (row, column).  The API should support both perspectives &#8230; without me having to type a whole bunch.  Maybe more template meta-programming should be done?  Or maybe just some API changes?</p>
<p>NOTE: Of course, the (z, y, x) ordering for index and extent needs to be changed as well.</p>
<p>Very Respectfully,<br />
Joshua Burkholder</p>
<p>P.S. &#8211; Here is one (potentially naive) way to allow the coordinate and matrix perspectives to coexist (&#8230;limited to an index&lt;2&gt; example&#8230;):<br />
<code>//===================================================================<br />
#include&nbsp;&lt;iostream&gt;</p>
<p>using&nbsp;namespace&nbsp;std;</p>
<p>template&nbsp;&lt;&nbsp;size_t&nbsp;N&nbsp;&gt;<br />
struct&nbsp;index;</p>
<p>template&nbsp;&lt;&gt;<br />
struct&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x;<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y;<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&amp;&nbsp;row;<br />
&nbsp;&nbsp;&nbsp;&nbsp;int&amp;&nbsp;column;<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;(&nbsp;int&nbsp;_x,&nbsp;int&nbsp;_y&nbsp;)&nbsp;:&nbsp;x(&nbsp;_x&nbsp;),&nbsp;y(&nbsp;_y&nbsp;),&nbsp;row(&nbsp;y&nbsp;),&nbsp;column(&nbsp;x&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;(&nbsp;index&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;:&nbsp;x(&nbsp;i.x&nbsp;),&nbsp;y(&nbsp;i.y&nbsp;),&nbsp;row(&nbsp;y&nbsp;),&nbsp;column(&nbsp;x&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;&amp;&nbsp;operator&nbsp;=&nbsp;(&nbsp;index&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;&amp;i&nbsp;!=&nbsp;this&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;i.x;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;i.y;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;*this;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
};</p>
<p>template&nbsp;&lt;&nbsp;size_t&nbsp;N&nbsp;&gt;<br />
struct&nbsp;matrix_index&nbsp;:&nbsp;public&nbsp;index&lt;&nbsp;N&nbsp;&gt;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;(&nbsp;int&nbsp;row,&nbsp;int&nbsp;column&nbsp;)&nbsp;:&nbsp;index&lt;&nbsp;N&nbsp;&gt;(&nbsp;column,&nbsp;row&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;(&nbsp;matrix_index&nbsp;const&nbsp;&amp;&nbsp;mi&nbsp;)&nbsp;:&nbsp;index&lt;&nbsp;N&nbsp;&gt;(&nbsp;mi&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;(&nbsp;index&lt;&nbsp;N&nbsp;&gt;&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;:&nbsp;index&lt;&nbsp;N&nbsp;&gt;(&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;&amp;&nbsp;operator&nbsp;=&nbsp;(&nbsp;matrix_index&nbsp;const&nbsp;&amp;&nbsp;mi&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;&amp;mi&nbsp;!=&nbsp;this&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;N&nbsp;&gt;::operator&nbsp;=(&nbsp;mi&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;*this;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&nbsp;&amp;&nbsp;operator&nbsp;=&nbsp;(&nbsp;index&lt;&nbsp;N&nbsp;&gt;&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;&amp;i&nbsp;!=&nbsp;this&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;N&nbsp;&gt;::operator&nbsp;=(&nbsp;i&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;*this;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
};</p>
<p>std::ostream&nbsp;&amp;&nbsp;operator&nbsp;&lt;&lt;&nbsp;(&nbsp;std::ostream&nbsp;&amp;&nbsp;os,&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;const&nbsp;&amp;&nbsp;i&nbsp;)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;"(&nbsp;&nbsp;&nbsp;x:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.x&nbsp;&nbsp;&nbsp;&lt;&lt;&nbsp;",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;&nbsp;"&nbsp;)"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;"[&nbsp;row:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.row&nbsp;&lt;&lt;&nbsp;",&nbsp;column:&nbsp;"&nbsp;&lt;&lt;&nbsp;i.column&nbsp;&lt;&lt;&nbsp;"&nbsp;)"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;os;<br />
}</p>
<p>int&nbsp;main&nbsp;()&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;&lt;&lt;&nbsp;sizeof(&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;)&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;):&nbsp;"&nbsp;&lt;&lt;&nbsp;sizeof(&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;)&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"index&lt;&nbsp;2&nbsp;&gt;&nbsp;i(&nbsp;2,&nbsp;3&nbsp;);"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;i&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;i.x&nbsp;=&nbsp;5;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i.x&nbsp;=&nbsp;5;"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"i:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;i&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi(&nbsp;3,&nbsp;2&nbsp;);"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;mi&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi.column&nbsp;=&nbsp;5;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi.column&nbsp;=&nbsp;5;"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;"mi:"&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;mi&nbsp;&lt;&lt;&nbsp;endl;<br />
&nbsp;&nbsp;&nbsp;&nbsp;//----------------------------------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;compilation&nbsp;checks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i2(&nbsp;i&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;index&lt;&nbsp;2&nbsp;&gt;&nbsp;i3(&nbsp;mi&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi2(&nbsp;i&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;matrix_index&lt;&nbsp;2&nbsp;&gt;&nbsp;mi3(&nbsp;mi&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;i2&nbsp;=&nbsp;mi;<br />
&nbsp;&nbsp;&nbsp;&nbsp;i3&nbsp;=&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi2&nbsp;=&nbsp;mi;<br />
&nbsp;&nbsp;&nbsp;&nbsp;mi3&nbsp;=&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;<br />
}<br />
//===================================================================<br />
</code><br />
At run-time this produces the following:<br />
<code>sizeof( index ):        16<br />
sizeof( matrix_index ): 16</p>
<p>index i( 2, 3 );<br />
i:<br />
(   x: 2,      y: 3 )<br />
[ row: 3, column: 2 )</p>
<p>i.x = 5;<br />
i:<br />
(   x: 5,      y: 3 )<br />
[ row: 3, column: 5 )</p>
<p>matrix_index mi( 3, 2 );<br />
mi:<br />
(   x: 2,      y: 3 )<br />
[ row: 3, column: 2 )</p>
<p>mi.column = 5;<br />
mi:<br />
(   x: 5,      y: 3 )<br />
[ row: 3, column: 5 )<br />
</code></p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3158">
		<div id="div-comment-3158">
		<div class="cmtinfo"><em> on <a href="#comment-3158" title="">2011-06-18 at 10:21 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/0f1316ecb725006d020998e6b8a0740c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/profile.php?id=100000005396278' rel='external nofollow' class='url'>Lothar Scholz</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3158"></div><p>Well being a normal application programmer i can&#8217;t think of heterogenous computing as any useful for my and the most non multi-media/gaming applications. The shared memory requirement are what kills it all for me, shared memory and large virtual memory sets among all threads/tasks &#8211; otherwise i could multiprocessing giving me even more stability in my application. And with this usecase a GCD with the system wide thread pool (no it is not like Cilk, it&#8217;s much more powerful)  looks more productive and performant. </p>
<p>If you want to convince me take a compiler or database or excel spreadsheet or a word document or &#8230; as an example for AMP not a simple particle system. Promoting heterogenous computing is Marketing, just Marketing.</p>
<p>And it is not true that Apples lamda functions/C blocks are Objective-C features. They and GCD are pure C level. </p>
<p>And again &#8211; i and my company will never use pure Windows API&#8217;s anymore. We make as much money from our MacOSX port as we make from our Windows App. So please stop the API wars.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3157">
		<div id="div-comment-3157">
		<div class="cmtinfo"><em> on <a href="#comment-3157" title="">2011-06-18 at 9:07 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/e0e8b14355c5c70c7b55341378278945?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Dan Golick</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3157"></div><p>Its wonderful that Microsoft has made it easier to write multi-core, hetrogeneous code but&#8230;</p>
<p>If multiple applications are running trying to use all the cores and all the gpus things start to run slower.  We need an OS level task scheduler that can be the traffic cop at run-time.</p>
<p>Now my c# app is trying to use all cores and my c++ app is trying to use all cores and everything runs slower!!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3156">
		<div id="div-comment-3156">
		<div class="cmtinfo"><em> on <a href="#comment-3156" title="">2011-06-17 at 9:56 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/eb1b1c602dedb6c6854050ca9557dc3b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jesse Towner</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3156"></div><p>Yeah, you very well may be right.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3155">
		<div id="div-comment-3155">
		<div class="cmtinfo"><em> on <a href="#comment-3155" title="">2011-06-17 at 11:44 am</a></em> <img alt='' src='https://i1.wp.com/graph.facebook.com/527168879/picture?q=type%3Dlarge&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/mrmcgibby' rel='external nofollow' class='url'>Mike Gibson</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3155"></div><p>I think much of what was done with concepts would be applicable to restrict.  A generalized way of specifying restrictions on the code you write.  Then, instead of requiring a new keyword for code you want to use in with direct3d, the compiler just checks individual restrictions as it goes and doesn&#8217;t allow direct3d when the code doesn&#8217;t comply.  Then, the restrict keyword just uses concepts to make the error messages nicer.  This would have the side benefit of allowing old code to take advantage of new processing models without having to be updated to include some new keyword.</p>
<p>Perhaps it&#8217;s a good thing that concepts didn&#8217;t make it this time around.  Perhaps the idea is far more powerful than previously thought.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3154">
		<div id="div-comment-3154">
		<div class="cmtinfo"><em> on <a href="#comment-3154" title="">2011-06-17 at 11:34 am</a></em> <img alt='' src='https://i1.wp.com/a2.twimg.com/sticky/default_profile_images/default_profile_3_normal.png?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/contextfree' rel='external nofollow' class='url'>contextfree</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3154"></div><p>Must &#8220;restrict&#8221; targets be built into the compiler, or is there some way to write them as libraries?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3153">
		<div id="div-comment-3153">
		<div class="cmtinfo"><em> on <a href="#comment-3153" title="">2011-06-17 at 11:12 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/eb1b1c602dedb6c6854050ca9557dc3b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jesse Towner</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3153"></div><p>Yeah, I was thinking about that stuff too. Perhaps something that utilizes C++0x&#8217;s new attribute syntax, which would provide better context sensitivity, is the way to go?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3152">
		<div id="div-comment-3152">
		<div class="cmtinfo"><em> on <a href="#comment-3152" title="">2011-06-17 at 10:46 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/eb1b1c602dedb6c6854050ca9557dc3b?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jesse Towner</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3152"></div><p>It would appear you are caught in some sort of Reality Distortion Field. Here, let me target you with my tractor beam, perhaps I can free you from that treacherous trap.</p>
<p>Firstly, GCD has absolutely nothing to do with heterogeneous computing. What GCD provides is a hierarchical work-stealing task scheduler and some interesting lock-free/wait-free data structures underneath the hood to facilitate message passing between worker threads. That&#8217;s all it is. It&#8217;s modeled after technologies from Cilk and other early concurrency projects, which have been around since the 90s or earlier&#8211;and it doesn&#8217;t even do a good job of providing all of the features from Cilk, only the bare necessities. Microsoft&#8217;s PPL and Intel&#8217;s TBB initiatives, also somewhat based off of Cilk, go further than GCD in providing concurrent algorithmic skeletons and other high level abstractions which can be composed together to solve various concurrency problems. GCD just gives you a bare bones task scheduler. But in the end, GCD, PPL, TBB, et. al. don&#8217;t really attempt to tackle heterogeneous computing.</p>
<p>In fact, Apple came up with a completely different technology for heterogeneous massively parallel computing that I&#8217;m sure you&#8217;ve heard of&#8211;OpenCL. OpenCL takes C99, makes some changes and provides some abstractions for working with vector data-types and image memory buffers on GPUs, but it can also be used for running code on CPUs and perhaps other hardware like FPGAs. And that&#8217;s really what heterogeneous computing is about, about writing code that can run on different types of devices in a uniform way. OpenCL implements something of a client-server model similar to OpenGL, where the host application written in regular C (or C++/Obj-C) running on the CPU can delegate work to OpenCL compute kernels, written in the OpenCL C99 dialect and compiled separately that are instantiated and run on various compute devices such as the GPU, or as new threads on the same CPU if you so choose.</p>
<p>So why not just use OpenCL? Well, OpenCL is modeled after C, which is all fine and good, but for C++ programmers, may leave something to be desired. C++ AMP, from what I&#8217;ve gleaned, provides you with all of those higher level abstractions if you so chose to use them, such as templates, exceptions, class types with RAII, rvalue-references and so on. Hopefully I&#8217;m not wrong about this, but C++ AMP also appears to do away with the client-server model of OpenCL and DirectCompute: it unifies the programming environment in a natural way. You write your application code in C++ AMP, which is just a superset of C++0x (hopefully C++11 really soon), and when you want to delegate computation to heterogeneous devices, you instruct a concurrent algorithmic skeleton, which is simply a template library abstraction, to invoke a function or functor object that has been restricted to run on such devices, also written in C++ AMP and within the same source file. You don&#8217;t have to write compute kernel code in a different language or compile the kernel source files separately, it&#8217;s all handled by the C++ AMP compiler and runtime libraries automatically. It&#8217;s really the next logical step to take within the domain of heterogeneous computing. I really hope C++1x adopts what ever emerges and stabilizes out of the C++ AMP effort. I&#8217;m really pumped about it and I&#8217;m glad to see it&#8217;ll be an open standard as I primarily work on non-Microsoft platforms.</p>
<p>As for Apple&#8217;s blocks, they are an Objective-C language extension that doesn&#8217;t fit nicely into the C++ programming model. C++0x lambda functions are much more expressive. They provide standard C++ object semantics such as constructors, assignment operators, etc. and facilitate fine-grained variable capture capabilities where you can precisely decide what you want to capture within the closure, either by value or by reference, if you so choose. Additionally, C++0x lambda functions have been in the works for a long time, long before Apple released Obj-C blocks with OS X 10.6.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3151">
		<div id="div-comment-3151">
		<div class="cmtinfo"><em> on <a href="#comment-3151" title="">2011-06-17 at 8:00 am</a></em> <img alt='' src='https://i1.wp.com/graph.facebook.com/527168879/picture?q=type%3Dlarge%26_md5%3D7c706bfad4f604e2a324f7b59025c68f&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/mrmcgibby' rel='external nofollow' class='url'>Mike Gibson</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3151"></div><p>This is awesome.  Given that the restrict keyword and writeonly additions are totally new, how willing are you to allow the legendary C++ language community to figure out how to &#8220;do it better&#8221;?.  I can foresee that many folks won&#8217;t like how MS has done this stuff.</p>
<p>I think that the writeonly idea is even more broadly applicable than the restrict stuff.</p>
<p>What you&#8217;re doing with restrict is just adding a way to add more qualifiers, like const and volatile.  I see the need to qualify functions/lambdas/etc. in a number ways, but just adding more and more keywords isn&#8217;t the way to go.  Perhaps you extend restrict to not just this parallel stuff, but to include *all* the restrictive qualifiers that one can use, like const and volatile.  Then the writeonly stuff can just be included directly along with the rest of the restrictions.</p>
<p>I can envision a system whereby you can create new restriction types based on other restriction types, all built up from a core set of restrictions like const, volatile, writeonly, pure, direct3d, etc.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-3149">
		<div id="div-comment-3149">
		<div class="cmtinfo"><em> on <a href="#comment-3149" title="">2011-06-17 at 4:15 am</a></em>  <cite><a href='http://gpucloud.dk/?p=90' rel='external nofollow' class='url'>GPU in the cloud &raquo; Blog Archive &raquo; C++ AMP keynote is online « Sutter&#039;s Mill</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3149"></div><p>[&#8230;] Read More: C++ AMP keynote is online « Sutter&#039;s Mill [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-3148">
		<div id="div-comment-3148">
		<div class="cmtinfo"><em> on <a href="#comment-3148" title="">2011-06-17 at 4:00 am</a></em> <img alt='' src='https://i2.wp.com/graph.facebook.com/100000005396278/picture?q=type%3Dlarge%26_md5%3D512885c375ef261efc2cc58e59ecc7c4&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.facebook.com/profile.php?id=100000005396278' rel='external nofollow' class='url'>Lothar Scholz</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_3148"></div><p>I&#8217;m not impressed &#8211; i would have been 5 years ago.</p>
<p>For general purpose multithreading i believe that Apples GCD is much more helpful in reality. And why couldn&#8217;t you use Apples lamba function C extension? Maintaining platform independent business logic was already hard without using MT, this is going to be a pain in the butt. Please stop this API wars.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2011/06/16/c-amp-keynote/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-0ac9ea59bbd5477c1b06458866f0b3c9">
	</div>
	<div class="grofile-hash-map-c0ba56bfd231f8f04feb057728975181">
	</div>
	<div class="grofile-hash-map-4b1184f475792c4d95848336130121e0">
	</div>
	<div class="grofile-hash-map-d32e607a6b5992ab6a3ac0f930a0ac43">
	</div>
	<div class="grofile-hash-map-24daeffcb799c6a88dfe9b80216f9f3a">
	</div>
	<div class="grofile-hash-map-2499f3ea09846a269d6e4525cb635a1c">
	</div>
	<div class="grofile-hash-map-1ca4bb7bab2db7296f3e1bf6a8ca5d1d">
	</div>
	<div class="grofile-hash-map-0f1316ecb725006d020998e6b8a0740c">
	</div>
	<div class="grofile-hash-map-e0e8b14355c5c70c7b55341378278945">
	</div>
	<div class="grofile-hash-map-eb1b1c602dedb6c6854050ca9557dc3b">
	</div>
	<div class="grofile-hash-map-128b7d2b61160b90b0b4a8d2dca0c6d2">
	</div>
	<div class="grofile-hash-map-cf8af69d1265b4b49890d2f954a2c168">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_3586={"id":468178,"unique_id":"wp-comment-3586","title":"%26%23091%3B...%26%23093%3B%20recall%20from%20Herb%26%238217%3Bs%20keynote%20that%20Microsoft%20is%20pushing%20C%2B%2B%20AMP%20as%20%26%238220%3Bopen%26%238221%3B.%20How%20long%20before%20NVIDIA%20offer%20C%2B%2B%20AMP%20%26%23091%3B...%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3586","item_id":"_comm_3586"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3586 == 'undefined' ){PDRTJS_468178_comm_3586 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3586 );}}PDRTJS_settings_468178_comm_3293={"id":468178,"unique_id":"wp-comment-3293","title":"Slam%20dunkin%20like%20Shaquille%20O%26%23039%3BNeal%2C%20if%20he%20wrote%20ifnomartive%20articles....","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3293","item_id":"_comm_3293"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3293 == 'undefined' ){PDRTJS_468178_comm_3293 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3293 );}}PDRTJS_settings_468178_comm_3271={"id":468178,"unique_id":"wp-comment-3271","title":"%26%23091%3B...%26%23093%3B%20%20%26%23091%3B...%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3271","item_id":"_comm_3271"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3271 == 'undefined' ){PDRTJS_468178_comm_3271 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3271 );}}PDRTJS_settings_468178_comm_3266={"id":468178,"unique_id":"wp-comment-3266","title":"%40JSawyer%3A%20Those%20are%20good%20questions.%20We%26%23039%3Bve%20considered%20those%20things%20and%20intend%20to%20do%20some%20of%20them.%20Briefly%3ATag%2Fversion%3A%20%26quot%3Bdirect3d%26quot%3B%20is%20a%20placeholder%20and%20we%20agree%20it%20implies%20the%20wrong%20thing%20because%20n...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3266","item_id":"_comm_3266"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3266 == 'undefined' ){PDRTJS_468178_comm_3266 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3266 );}}PDRTJS_settings_468178_comm_3264={"id":468178,"unique_id":"wp-comment-3264","title":"Hello%21%20I%26%23039%3Bve%20never%20done%20GPGPU%2C%20but%20our%20financial%20applications%20are%20increasingly%20computation%20intensive%20and%20AMP%20seems%20like%20a%20nice%20way%20to%20go.%20I%26%23039%3Bve%20watched%20your%20presentation%2C%20but%20I%20have%20I%20few%20concerns%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3264","item_id":"_comm_3264"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3264 == 'undefined' ){PDRTJS_468178_comm_3264 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3264 );}}PDRTJS_settings_468178_comm_3235={"id":468178,"unique_id":"wp-comment-3235","title":"%26%23091%3B...%26%23093%3B%20%23Microsoft%20C%2B%2B%20AMP%20keynote%20is%20online%20The%20main%20reasons%20we%20decided%20to%20build%20a%20new%20model%20is%20that%20we%20believe%20there%20needs%20to%20be%20a%20single%20model%20that%20has%20all%20of%20the%20following%20attributes%3A%26nbsp%3B%20%26%23091%3B.....","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3235","item_id":"_comm_3235"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3235 == 'undefined' ){PDRTJS_468178_comm_3235 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3235 );}}PDRTJS_settings_468178_comm_3234={"id":468178,"unique_id":"wp-comment-3234","title":"I%20have%20some%20questions%20about%20the%20MatrixMult%20example%20presented.%20That%20function%20has%2C%20in%20its%20body%2C%20a%20lambda%20that%20is%20restrict%28direct3d%29.%20The%20function%20itself%2C%20though%2C%20defaults%20to%20restrict%28cpu%29.%20What%20doe...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3234","item_id":"_comm_3234"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3234 == 'undefined' ){PDRTJS_468178_comm_3234 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3234 );}}PDRTJS_settings_468178_comm_3211={"id":468178,"unique_id":"wp-comment-3211","title":"All%20questions%20of%20that%20form%20involve%20a%20scheduler%20that%20is%20responsible%20for%20mapping%20app%20workload%20to%20hardware%20and.%20Traditionally%2C%20app%20threads%20are%20mapped%20to%20cores%20by%20the%20OS%20scheduler%2C%20and%20this%20includes%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3211","item_id":"_comm_3211"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3211 == 'undefined' ){PDRTJS_468178_comm_3211 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3211 );}}PDRTJS_settings_468178_comm_3202={"id":468178,"unique_id":"wp-comment-3202","title":"First%20off%2C%20I%20really%20like%20this%20concept%2C%20the%20syntax%20that%20goes%20with%20it%2C%20and%20pretty%20much%20everything%20about%20it.I%20do%20have%20a%20couple%20of%20points%20of%20curiosity%2C%20though%2C%20although%20this%20may%20be%20my%20navet%20about%20GPU...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3202","item_id":"_comm_3202"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3202 == 'undefined' ){PDRTJS_468178_comm_3202 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3202 );}}PDRTJS_settings_468178_comm_3172={"id":468178,"unique_id":"wp-comment-3172","title":"sooo%20could%20this%20mean%20a%20whole%20new%20level%20for%20pc%20gaming%20%26amp%3B%20graphics%3For%20easier%20to%20program%20direct%20to%20metal%3F...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3172","item_id":"_comm_3172"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3172 == 'undefined' ){PDRTJS_468178_comm_3172 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3172 );}}PDRTJS_settings_468178_comm_3171={"id":468178,"unique_id":"wp-comment-3171","title":"%40Herb%20Sutter%3A%20%20Thanks%20for%20the%20explanation.%20%20I%20didn%26%23039%3Bt%20realize%20how%20weak%20%26lt%3Bcode%26gt%3Bextern%20%26quot%3BC%26quot%3B%20%7B%20...%20%7D%26lt%3B%2Fcode%26gt%3B%20actually%20is%20as%20a%20language%20linkage.%20%20From%20the%20current%20draft%20standard%20%28%20http%3A%2F%2Fwww.open-std.org...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3171","item_id":"_comm_3171"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3171 == 'undefined' ){PDRTJS_468178_comm_3171 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3171 );}}PDRTJS_settings_468178_comm_3169={"id":468178,"unique_id":"wp-comment-3169","title":"The%20trouble%20with%20extern%20is%20that%20it%26%23039%3Bs%20not%20fully%20integrated%20into%20the%20language.%20Here%20are%20a%20few%20examples%3A%201.%20It%26%23039%3Bs%20important%20to%20be%20able%20to%20overload%20on%20these%20qualifiers%20even%20when%20only%20the%20qualifier%20is%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3169","item_id":"_comm_3169"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3169 == 'undefined' ){PDRTJS_468178_comm_3169 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3169 );}}PDRTJS_settings_468178_comm_3168={"id":468178,"unique_id":"wp-comment-3168","title":"Here%20is%20another%20%28potentially%20naive%29%20way%20to%20allow%20the%20coordinate%20and%20matrix%20perspectives%20to%20coexist%20%28again%20limited%20to%20an%20index%26lt%3B2%26gt%3B%20example%2C%20but%20using%20unions%20instead%20of%20references%29%3A%26lt%3Bcode%26gt%3B%2F%2F%3D%3D%3D...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3168","item_id":"_comm_3168"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3168 == 'undefined' ){PDRTJS_468178_comm_3168 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3168 );}}PDRTJS_settings_468178_comm_3167={"id":468178,"unique_id":"wp-comment-3167","title":"The%20%26quot%3Bmultiple%20schedulers%26quot%3B%20problem%20is%20real%20and%20needs%20to%20be%20solved%20independently.%20For%20example%2C%20C%2B%2B%20PPL%20uses%20the%20ConcRT%20runtime%20scheduler.%20If%20OpenMP%20uses%20a%20different%20scheduler%2C%20then%20unless%20there%20are...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3167","item_id":"_comm_3167"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3167 == 'undefined' ){PDRTJS_468178_comm_3167 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3167 );}}PDRTJS_settings_468178_comm_3166={"id":468178,"unique_id":"wp-comment-3166","title":"They%20must%20be%20built%20into%20the%20compiler.%20Allowing%20user-defined%20restriction%20qualifiers%20would%20be%20a%20much%20bigger%20language%20extension%20because%20you%26%23039%3Bd%20need%20to%20be%20able%20to%20have%20a%20whole%20new%20set%20of%20language%20synt...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3166","item_id":"_comm_3166"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3166 == 'undefined' ){PDRTJS_468178_comm_3166 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3166 );}}PDRTJS_settings_468178_comm_3165={"id":468178,"unique_id":"wp-comment-3165","title":"%40Mike%3A%20While%20we%20designed%20this%2C%20I%20did%20explore%20unifying%20this%20with%20const-%20and%20volatile-qualifiers%20on%20member%20functions.%20It%20turns%20out%20that%20they%26%23039%3Bre%20not%20quite%20the%20same%20thing%20--%20you%20could%20shoehorn%20mem-fu...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3165","item_id":"_comm_3165"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3165 == 'undefined' ){PDRTJS_468178_comm_3165 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3165 );}}PDRTJS_settings_468178_comm_3164={"id":468178,"unique_id":"wp-comment-3164","title":"%40Jesse%3A%20Alas%2C%20attributes%20aren%26%23039%3Bt%20the%20answer%20because%20they%26%23039%3Bre%20not%20part%20of%20the%20language.%20For%20example%2C%20you%20can%26%23039%3Bt%20overload%20on%20them....","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3164","item_id":"_comm_3164"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3164 == 'undefined' ){PDRTJS_468178_comm_3164 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3164 );}}PDRTJS_settings_468178_comm_3163={"id":468178,"unique_id":"wp-comment-3163","title":"%40Lothar%3A%20I%20understand%2C%20and%20a%20lot%20of%20people%20felt%20the%20same%20about%20GUIs%20and%20OO.The%20short%20answer%20is%20that%20we%20have%20to%20deal%20with%20it%20if%20we%20care%20about%20taking%20advantage%20of%20the%20compute%20throughput%20available%20o...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3163","item_id":"_comm_3163"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3163 == 'undefined' ){PDRTJS_468178_comm_3163 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3163 );}}PDRTJS_settings_468178_comm_3162={"id":468178,"unique_id":"wp-comment-3162","title":"The%20formating%20for%20the%20above%20code%20sample%20is%20fine%3B%20however%2C%20I%20forgot%20to%20modify%20the%20%26quot%3BAt%20run-time%2C%20this%20produces%20the%20following%26quot%3B%20example%2C%20so%20here%20it%20is%20...%20with%20proper%20formating%3A%26lt%3Bcode%26gt%3Bsizeof%28%26nbsp%3Bind...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3162","item_id":"_comm_3162"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3162 == 'undefined' ){PDRTJS_468178_comm_3162 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3162 );}}PDRTJS_settings_468178_comm_3161={"id":468178,"unique_id":"wp-comment-3161","title":"%40Herb%20Sutter%3AWhy%20%26lt%3Bcode%26gt%3Brestrict%28%20direct3d%20%29%20%7B%20...%20%7D%26lt%3B%2Fcode%26gt%3B%2C%20vice%20%26lt%3Bcode%26gt%3Bextern%20%26quot%3Bdirect3d%26quot%3B%20%7B%20...%20%7D%26lt%3B%2Fcode%26gt%3B%3F%26lt%3Bcode%26gt%3Bextern%20%26quot%3BC%26quot%3B%20%7B%20...%20%7D%26lt%3B%2Fcode%26gt%3B%20seems%20to%20have%20worked%20pretty%20well.%20%20What%20would%20%26lt%3Bcode%26gt%3Bextern%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3161","item_id":"_comm_3161"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3161 == 'undefined' ){PDRTJS_468178_comm_3161 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3161 );}}PDRTJS_settings_468178_comm_3160={"id":468178,"unique_id":"wp-comment-3160","title":"%40Mike%20Gibson%3A%20%20Gleened%20from%20just%20videos%2C%20my%20understanding%20of%20%26quot%3Brestrict%26quot%3B%20is%20that%20it%20tells%20the%20compiler%20to%20consider%20language%20rules%20for%20a%20set%20of%20the%20C%2B%2B%20language%20%28in%20this%20case%2C%20just%20a%20proper%20subset%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3160","item_id":"_comm_3160"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3160 == 'undefined' ){PDRTJS_468178_comm_3160 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3160 );}}PDRTJS_settings_468178_comm_3158={"id":468178,"unique_id":"wp-comment-3158","title":"Well%20being%20a%20normal%20application%20programmer%20i%20can%26%23039%3Bt%20think%20of%20heterogenous%20computing%20as%20any%20useful%20for%20my%20and%20the%20most%20non%20multi-media%2Fgaming%20applications.%20The%20shared%20memory%20requirement%20are%20what%20ki...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3158","item_id":"_comm_3158"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3158 == 'undefined' ){PDRTJS_468178_comm_3158 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3158 );}}PDRTJS_settings_468178_comm_3157={"id":468178,"unique_id":"wp-comment-3157","title":"Its%20wonderful%20that%20Microsoft%20has%20made%20it%20easier%20to%20write%20multi-core%2C%20hetrogeneous%20code%20but...If%20multiple%20applications%20are%20running%20trying%20to%20use%20all%20the%20cores%20and%20all%20the%20gpus%20things%20start%20to%20run%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3157","item_id":"_comm_3157"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3157 == 'undefined' ){PDRTJS_468178_comm_3157 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3157 );}}PDRTJS_settings_468178_comm_3156={"id":468178,"unique_id":"wp-comment-3156","title":"Yeah%2C%20you%20very%20well%20may%20be%20right....","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3156","item_id":"_comm_3156"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3156 == 'undefined' ){PDRTJS_468178_comm_3156 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3156 );}}PDRTJS_settings_468178_comm_3155={"id":468178,"unique_id":"wp-comment-3155","title":"I%20think%20much%20of%20what%20was%20done%20with%20concepts%20would%20be%20applicable%20to%20restrict.%20%20A%20generalized%20way%20of%20specifying%20restrictions%20on%20the%20code%20you%20write.%20%20Then%2C%20instead%20of%20requiring%20a%20new%20keyword%20for%20cod...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3155","item_id":"_comm_3155"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3155 == 'undefined' ){PDRTJS_468178_comm_3155 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3155 );}}PDRTJS_settings_468178_comm_3154={"id":468178,"unique_id":"wp-comment-3154","title":"Must%20%26quot%3Brestrict%26quot%3B%20targets%20be%20built%20into%20the%20compiler%2C%20or%20is%20there%20some%20way%20to%20write%20them%20as%20libraries%3F...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3154","item_id":"_comm_3154"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3154 == 'undefined' ){PDRTJS_468178_comm_3154 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3154 );}}PDRTJS_settings_468178_comm_3153={"id":468178,"unique_id":"wp-comment-3153","title":"Yeah%2C%20I%20was%20thinking%20about%20that%20stuff%20too.%20Perhaps%20something%20that%20utilizes%20C%2B%2B0x%26%23039%3Bs%20new%20attribute%20syntax%2C%20which%20would%20provide%20better%20context%20sensitivity%2C%20is%20the%20way%20to%20go%3F...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3153","item_id":"_comm_3153"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3153 == 'undefined' ){PDRTJS_468178_comm_3153 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3153 );}}PDRTJS_settings_468178_comm_3152={"id":468178,"unique_id":"wp-comment-3152","title":"It%20would%20appear%20you%20are%20caught%20in%20some%20sort%20of%20Reality%20Distortion%20Field.%20Here%2C%20let%20me%20target%20you%20with%20my%20tractor%20beam%2C%20perhaps%20I%20can%20free%20you%20from%20that%20treacherous%20trap.Firstly%2C%20GCD%20has%20absolutel...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3152","item_id":"_comm_3152"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3152 == 'undefined' ){PDRTJS_468178_comm_3152 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3152 );}}PDRTJS_settings_468178_comm_3151={"id":468178,"unique_id":"wp-comment-3151","title":"This%20is%20awesome.%20%20Given%20that%20the%20restrict%20keyword%20and%20writeonly%20additions%20are%20totally%20new%2C%20how%20willing%20are%20you%20to%20allow%20the%20legendary%20C%2B%2B%20language%20community%20to%20figure%20out%20how%20to%20%26quot%3Bdo%20it%20better%26quot%3B%3F.%20...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3151","item_id":"_comm_3151"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3151 == 'undefined' ){PDRTJS_468178_comm_3151 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3151 );}}PDRTJS_settings_468178_comm_3149={"id":468178,"unique_id":"wp-comment-3149","title":"%26%23091%3B...%26%23093%3B%20Read%20More%3A%20C%2B%2B%20AMP%20keynote%20is%20online%20%20Sutter%26%23039%3Bs%20Mill%20%26%23091%3B...%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3149","item_id":"_comm_3149"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3149 == 'undefined' ){PDRTJS_468178_comm_3149 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3149 );}}PDRTJS_settings_468178_comm_3148={"id":468178,"unique_id":"wp-comment-3148","title":"I%26%23039%3Bm%20not%20impressed%20-%20i%20would%20have%20been%205%20years%20ago.For%20general%20purpose%20multithreading%20i%20believe%20that%20Apples%20GCD%20is%20much%20more%20helpful%20in%20reality.%20And%20why%20couldn%26%23039%3Bt%20you%20use%20Apples%20lamba%20function%20C%20ex...","permalink":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/#comment-3148","item_id":"_comm_3148"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_3148 == 'undefined' ){PDRTJS_468178_comm_3148 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_3148 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2011\/06\/16\/c-amp-keynote\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F","postID":"593","shortlink":"https:\/\/wp.me\/peb5Y-9z","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/593","statsLink":"https:\/\/wordpress.com\/stats\/post\/593\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2011%2F06%2F16%2Fc-amp-keynote%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'593','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sQm1FcWhtTi1+a1NEZ35rPzFBRlVTJVNUWnNGZTRDMmRmK3lmMVBhUzc3NUZ8Z1JnbUZVLz9vJTMwWy8sJVpQMFNkcTZYVzVpLFRFTSVbcnE1SzEwYVJBUn5zY2xSUmFyanordHVxVmg3UGtiZ1dCY2JdZmM2VUREK2NYLXpSW1hvLVV0NDQvXXQ/Y0Zwa2dPbllDUWtsVS5wLE8lbTVjTmRpdVRzMzN4dFAlK1JZUWNzPzBuVGNWVGxiWHNFfjhvJSxubTl8TQ=='}]);
_stq.push([ 'clickTrackerInit', '3379246', '593' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>