<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Metaclasses: Thoughts on generative C++ | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965459&amp;back=https%3A%2F%2Fherbsutter.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Metaclasses: Thoughts on generative&nbsp;C++ Comments Feed" href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Trip report: Summer ISO C++ standards meeting&nbsp;(Toronto)' href='https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/' />
<link rel='next' title='Update on October seminar in&nbsp;London' href='https://herbsutter.com/2017/09/05/update-on-october-seminar-in-london/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" />
<link rel='shortlink' href='https://wp.me/peb5Y-R6' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Metaclasses: Thoughts on generative C++" />
<meta property="og:url" content="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" />
<meta property="og:description" content="I’ve been working on an experimental new C++ language feature tentatively called “metaclasses” that aims to make C++ programming both more powerful and simpler. You can find out about it here: Curr…" />
<meta property="article:published_time" content="2017-07-26T15:34:32+00:00" />
<meta property="article:modified_time" content="2017-07-26T15:50:06+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965459" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="Metaclasses: Thoughts on generative&nbsp;C++" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="I’ve been working on an experimental new C++ language feature tentatively called “metaclasses” that aims to make C++ programming both more powerful and simpler. You can find out about it here: Current proposal paper: P0707R1. I hope the first ten pages give a readable motivation and overview. (The best two pages to start with are&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-3292 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/" rel="prev">Trip report: Summer ISO C++ standards meeting&nbsp;(Toronto)</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2017/09/05/update-on-october-seminar-in-london/" rel="next">Update on October seminar in&nbsp;London</a> &raquo;</div>
			</div>
			
			<div class="post-3292 post type-post status-publish format-standard hentry category-c category-uncategorized" id="post-3292">
				<div class="posttitle">
					<h2>Metaclasses: Thoughts on generative&nbsp;C++</h2>
					<p class="post-info">2017-07-26 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>I’ve been working on an experimental new C++ language feature tentatively called “metaclasses” that aims to make C++ programming both more powerful and simpler. You can find out about it here:</p>
<ul>
<li><a href="https://herbsutter.files.wordpress.com/2017/07/p0707r1.pdf"><strong>Current proposal paper: P0707R1.</strong></a> I hope the first ten pages give a readable motivation and overview. (The best two pages to start with are 9 and 10, which probably means I need to reorder the paper…)</li>
<li><a href="https://youtu.be/6nsyX37nsRs"><strong>Initial intro talk video: ACCU 2017 (YouTube).</strong></a> This is the initial public presentation three months ago. Thank you to <strong>Roger Orr, Russel Winder, Julie Archer, and the other ACCU organizers</strong> for inviting me and for holding back the video until we could have the ISO C++ summer meeting about a week ago, so it could go live along with a report (herein) on the results of this feature’s first presentation to the ISO C++ committee. And special thanks to <strong>Ina and Arvid</strong>, the two audience volunteers who graciously agreed to come on-stage to participate in a live mini UX study. There’s a lot of subtle information in their nuanced reactions to the code examples; pay special attention when their responses are different or as their responses evolve.</li>
<li><strong>“Incomplete and experimental” prototype compiler.</strong> The Clang-based prototype by <strong>Andrew Sutton</strong> is available as an online live compiler at <a href="https://cppx.godbolt.org/">cppx.godbolt.org</a>, and as source at <a href="https://github.com/asutton/clang">github.com/asutton/clang</a>. It’s incomplete but can compile a number of the examples in the paper (see the paper for example code links). Thanks to <strong>Matt Godbolt</strong> for hosting it on godbolt.org!</li>
</ul>
<p>Please see the paper and video to answer “what are metaclasses and why should I care?” If you’re the “show me code first, English later” kind of person, try the live compiler and these quick examples: <a href="https://godbolt.org/g/Uzw5iJ">interface</a>, <a href="https://godbolt.org/g/sXmhkN">base_class</a>, <a href="https://godbolt.org/g/59LSSZ">value</a> (regular type), <a href="https://godbolt.org/g/2uMpF5">plain_struct</a> (these links are also in the paper).</p>
<p>The rest of this post aims not to duplicate any information above, but to provide some context about the broader journey, and what I and others are attempting to accomplish.</p>
<h1>A journey: Toward more powerful and simpler C++ programming</h1>
<h2>Phase 1: By using the existing language better</h2>
<p>About five years ago, I started working on long-term effort toward making using C++ simpler and safer.</p>
<p>In the first phase, a small group of us—centered on <strong>Bjarne Stroustrup, Gabriel Dos Reis, Neil MacIntosh </strong>and <strong>Andrew Pardoe</strong>—pushed to see how far we could get with “C++ as it is” plus just a few well-chosen library-only extensions, with a particular goal of improving type and memory safety. Bjarne, Neil, and I first publicly reported on this effort in the two CppCon 2015 plenary sessions <a href="https://www.youtube.com/watch?v=1OEu9C51K2A">“Writing Good C++14”</a> and <a href="https://www.youtube.com/watch?v=hEx5DNLWGgA">“Writing Good C++14… By Default.”</a> The results of that work so far have manifested as the <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">C++ Core Guidelines</a> and its support library <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#S-gsl">GSL</a> that adds a limited number of library types (e.g., <a href="https://wg21.link/P0122"><em>span</em>, now being standardized</a>); and I led the Lifetime design in particular (available in the <a href="https://github.com/isocpp/CppCoreGuidelines/tree/master/docs">Guidelines /docs folder</a>) which Neil and I and others continue to work on formalizing with the aim of sharing a “draft” static analysis spec later this year.</p>
<p>One of the goals of this phase was to answer the question: “How much progress can we make toward simplifying the existing C++ language with only a few key library extensions?” The answer as I see it turned out to be: “Some solid progress, but probably not a major simplification.” And so that answer led to phase two…</p>
<h2>Phase 2: By evolving the language</h2>
<p>Two years ago, I started to focus specifically on exploring ways that we might evolve the C++ language itself to make C++ programming both more powerful and simpler. The only way to accomplish both of those goals at the same time is by adding abstractions that let programmers directly express their intent—to elevate comments and documentation to testable code, and elevate coding patterns and idioms into compiler-checkable declarations. The work came up with several potential candidate features where judiciously adding some power to the language could simplify code dramatically.</p>
<p>Of those potential candidate features, metaclasses is the first major piece I picked to propose for ISO C++. [*] We presented it for the first time at the summer ISO C++ meeting earlier this month, and it received a warm reception. There was (rare) unanimous support for pursuing this kind of capability, but also some concern about how best to expose it and specific design change feedback the committee wants us to apply to improve the proposal. [**] We’ll work to include in a revision for the November standards meeting as we start the multi-year process of vetting and refining the proposal. So this is good progress, but note that it (only) means encouragement to continue the experiment and see where it leads; it’s far too early to talk about potential ship vehicles.</p>
<p>So do expect change: The proposal is still evolving, and it in turn assumes and builds on the <a href="https://wg21.link/P0578">static reflection proposal (P0578 et al.)</a> and the <a href="https://wg21.link/P0633">compile-time programming proposal (P0633)</a>, both of which are actively evolving in their own right. Incidentally, one of the contributions of Andrew Sutton’s prototype metaclasses compiler is that it is implementing those other proposals too(!), since the metaclasses feature needs them. The aim is to keep the latest compiler and the latest P0707 paper in sync with each other and with those related proposals, but there will doubtless be occasional drift in between syncs.</p>
<h1>What’s next</h1>
<p>I’ll talk about metaclasses more in my upcoming <a href="https://cppcon.org/2017-keynote-speakers/">CppCon 2017 talk</a> this September, and<strong> Andrew Sutton </strong>will also be giving two CppCon talks about metaclasses—one about implementing them in Clang, and one about using them for a real project.</p>
<p>This is just the beginning, and we’ll see whether it all pans out and leads somewhere, but I hope you enjoy this exploration and I look forward to talking with many of you about it at CppCon this September.</p>
<p>&nbsp;</p>
<p>———</p>
<h1>Notes</h1>
<p>[*] I actually brought a smaller piece from this same work to the committee at the previous meeting, the winter meeting in Kona: <a href="https://wg21.link/P0515">P0515</a> (consistent comparisons), which proposes adding the three-way <strong>&lt;=&gt;</strong> comparison operator. P0515 is only about a minor feature, and not one of the most important things that can help improve C++, so normally I wouldn’t have picked that piece to contribute first; but the committee was already continuing to actively discuss comparisons, so I cherry-picked it from my design work and contributed it since I had the design in my pocket anyway. Happily the committee liked what they saw and both EWG and LEWG accepted it, and it is now progressing well and on track to hopefully be voted into draft C++20 in the next meeting or two. Thanks to <strong>Jens Maurer</strong> and <strong>Walter Brown</strong> for the heavy lifting of writing the core language and library standardese wording, respectively, for that P0515 proposal.</p>
<p>[**] The committee’s design feedback was primarily about how to wrap up the transformation code: Instead of putting it inside a new “meta” class-like abstraction, how about wrapping the same code inside a compile-time function-like abstraction that takes an input meta::type parameter and returns a generated meta::type return value? This doesn’t affect the proposal’s basic engine, just the shape of its steering wheel—for example, we could change the first line of each example metaclass definition from the class-like syntax</p>
<pre>$class <strong>interface</strong> {
    constexpr {
        // … basically same code …
    }
};</pre>
<p>to the decorator-function-like syntax</p>
<pre>meta::type <strong>interface</strong>(const meta::type source) {
    // … basically same code …
};</pre>
<p>where the latter has the advantage that it’s easy to see that we’re reading one type and generating another type. Interestingly, I think this dovetails with the mini UX study in the video where most of the difficulty the UX participants seemed to encounter was in understanding the $class syntax, not the metaclass bodies and not later using the metaclasses to author new types.</p>
<p>But we’ll explore this and other options and validate/invalidate it with more experiments… and feel free to express your thoughts in the comments if you like one of these styles better, or perhaps another variation.</p>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a>, <a href="https://herbsutter.com/category/uncategorized/" rel="category tag">Uncategorized</a> | 											78 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">78 Responses</h3>

	<ol class="commentlist">
			<li class="pingback even thread-even depth-1 highlander-comment" id="comment-40207">
		<div id="div-comment-40207">
		<div class="cmtinfo"><em> on <a href="#comment-40207" title="">2018-04-09 at 4:17 am</a></em>  <cite><a href='http://cppdepend.com/blog/?p=1035' rel='external nofollow' class='url'>The best of C++ is what&#8217;s coming. &#8211; CppDepend Blog</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40207"></div><p>[&#8230;] C++ a better language, and the last year he proposes the metaclasses feature. here&#8217;s from his post the motivation behind adding [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40106">
		<div id="div-comment-40106">
		<div class="cmtinfo"><em> on <a href="#comment-40106" title="">2017-12-20 at 4:19 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/f3c0ef3a6375dadde65b171cacae404a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>frank</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40106"></div><p>This looks great! My only problem is understanding where the capabilities of metaclasses (or maybe even metafunctions) stop. Would all of the features below be possible?<br />
&#8211; generating serializer functions automatically (e.g. to_json() or to_protobuf())<br />
&#8211; generating wrappers for other languages like python avoid using awful tools like swig<br />
&#8211; using different defaults for function arguments (e.g. everything const like in rust)<br />
&#8211; solving the nightmare of writing multiple overloads for constructors with string arguments (see Nicolai&#8217;s “The Nightmare of Move Semantics for Trivial Classes” cppcon talk) and algorithm interfaces (see David Sankel “Choosing an Abstraction” cppcon talk).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-40048">
		<div id="div-comment-40048">
		<div class="cmtinfo"><em> on <a href="#comment-40048" title="">2017-11-14 at 2:08 pm</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/v2.9/10212679051184315/picture?q=type%3Dlarge%26_md5%3D28c366e89c5be2163f4ace0f7f7fa128&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/10212679051184315/' rel='external nofollow' class='url'>Shiv Kumar</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40048"></div><p>Thank you Herb for your reply. I see your point, however I still feel we’ll be having conversations like, “is that your interface, my interface or std::interface” :)). The ability to be able to define one’s own keyword (C# vocabulary) is extremely powerful (to say the least) but also a maintenance nightmare, I feel. Further, as regards all of the other things one can do with Meta Classes – for those of us not hardcore C++ programmers a huge learning curve (I feel). Maybe it’s just me.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-40047">
		<div id="div-comment-40047">
		<div class="cmtinfo"><em> on <a href="#comment-40047" title="">2017-11-14 at 1:37 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_40047"></div><p>Sorry for the delay catching up to comments&#8230; I think this batch of replies brings me up to date&#8230;</p>
<p>@Paul: Right, the prototype compiler is still very incomplete and just does the first handful of examples I linked.</p>
<p>Re removing things: Based on the current feedback at last week&#8217;s ISO C++ meeting, we will actually be pursuing a functional style along the lines of the third option in section 5 of the updated paper at <a href="https://wg21.link/p0707" rel="nofollow">https://wg21.link/p0707</a>, where the idea (among other things) is to treat each class as read-only&#8230; that is, the source-written class is read-only input, every &#8220;metaclass&#8221; is defined by a compile-time function that takes a read-only meta::type and builds up a new meta::type which is read-only after it is returned, etc. So think of it as a succession of additions. To remove something, you would copy &#8220;everything except that something&#8221; into a new meta::type.</p>
<p>Oh, and yes the committee is actively pursuing constexpr vector. However, this proposal does not rely on that.</p>
<p>@Tony: I&#8217;m hopeful that compile times will be competitive, and better than expressing the same things more convolutedly using today&#8217;s TMP and/or extra compilers.</p>
<p>@moonshadow: Lots of syntax variations are under consideration. I don&#8217;t think we&#8217;d reuse &#8220;$this&#8221; in particular beause that would already have a meaning (to reflect on the &#8216;this&#8217; parameter). But see section 5 of the current paper which mentions an example of where we&#8217;d need to say &#8220;this_class&#8221; or similar.</p>
<p>@Shiv Kumar: Actually &#8220;interface&#8221; would be just another type, which we already disambiguate using namespaces. The idea is that if we standardized &#8220;interface&#8221; it would still be a library, not in the language, but put in namespace std:: along with all the other library types, and then if you want the standard one you&#8217;d namespace-qualify &#8220;std::interface Shape { /*&#8230;* };&#8221;.</p>
<p>@raen: First, thanks! Specific comments follow&#8230;</p>
<p>Re syntax: Agreed, the committee last week gave guidance to steer toward a functional style (see earlier in this reply) which among other things removes much of the need to reflect and therefore to even use the strawman $ notation.</p>
<p>Re &#8220;1. the meta function can be a free constexpr function&#8221;: Yes, that&#8217;s the direction the committee just encouraged.</p>
<p>Re &#8220;2. the decorator would simply be applied with C++ attributes, with the possibility of chaining them&#8221;: I probably wouldn&#8217;t use attributes, but in general yes that&#8217;s one of the alternatives &#8212; see the alternatives showsn in the new section 6 of the paper at <a href="https://wg21.link/p0707" rel="nofollow">https://wg21.link/p0707</a>.</p>
<p>Thanks all,</p>
<p>Herb</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-raffienficiaud even thread-even depth-1 highlander-comment" id="comment-39952">
		<div id="div-comment-39952">
		<div class="cmtinfo"><em> on <a href="#comment-39952" title="">2017-10-12 at 4:55 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/735d5e5fcd3d277281d374c910002cff?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>raen</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39952"></div><p>Hi,</p>
<p>I assisted your Qt Keynote this morning. I like the idea of metaclass a lot, especially in sense that<br />
it complements very well the notion of templates.</p>
<p>Concerning the syntax, my first impression was apparently the same as the feedback given<br />
by the cpp committee: it introduces new symbols and<br />
keywords (somehow instead of &#8220;struct&#8220; we have something else), while at the end what<br />
we want is to transform a type through a function at compile time. The<br />
transformed type remains a type, so it would make sense to keep calling it a &#8220;struct&#8220; or<br />
a &#8220;class&#8220;.</p>
<p>It also quite similar in principles to `bind` for functions: we create a new function from an existing one,<br />
but again `bind` returns a new function.  </p>
<p>The committee suggestion to have something like</p>
<pre class="brush: plain; title: ; notranslate" title="">
meta::type interface(const meta::type source) {
    // … basically same code …
};
</pre>
<p>is quite similar to what I was thinking during your keynote. The primary design I have in mind is the metaclass<br />
concept from Python, which has been slightly modified for python3 but is quite effective and seems<br />
to now have proven its design:</p>
<p>* a decorator indicates that a class is a metaclass, and the final executed class will be a transformed version<br />
  of it<br />
* the fact that a class is meta indicates the compiler/interpreter to apply the meta function on the initial type to get the final type.<br />
  This is the metaclass protocol.<br />
* the meta function that is called with the reflexion of the class being decorated is an entity that has the same type<br />
  of construct as any other (in python: a class member function, or a free function)<br />
* the meta function is evaluated at compile time (in python: when the interpreter sees the declaration of the class)</p>
<p>For the C++ counterpart of that, I believe not introducing any new notion or constructs (`$class`, `constexp{}`)<br />
would have a better chance to convey the idea of metaclass in a proper way.</p>
<p>I would suggest this:</p>
<p>1. the meta function can be a free constexpr function, or a function object with a `static constexpr operator()`.<br />
  Calling this function, or the member function, with the right parameters, is the first step of the meta protocol<br />
  between the type being transformed and the transformation function.<br />
  The advantage would be<br />
  to compose the meta function from eg. a template and member constexpr variables in an easier way for a developer</p>
<pre class="brush: plain; title: ; notranslate" title="">
  meta::type metaFunc1(const meta::type source) {
  };

  // here we could imagine meta2 behaving **exactly** as any struct, but with a 
  // required interface to be applied by the compiler
  template &lt;class T&gt;
  struct metaStruct2 {

    constexpr auto operator()(const meta::type source) {
      // here the returned type is a new type that is defined nowhere in 
      // the source code, auto make sense
      auto modified_source = source.add_member_function(); // each of your &quot;compiler&quot; command returns a new type or a compile time test
      auto modified_source2 = modified_source.delete_member(&quot;x&quot;);
      return modified_source2;
    }
  };
  </pre>
<p>2. the decorator would simply be applied with C++ attributes, with the possibility of chaining them. Then they would be applied in order<br />
  Something like</p>
<pre class="brush: plain; title: ; notranslate" title="">
  class [[meta(metaFunc1, metaStruct2&lt;4&gt;)]] 
  some_class_before_transformation{};
  </pre>
<p>  In this case, we would apply first metaFunc1, then metaStruct2, etc</p>
<p>  Another possible syntax would be (since attributes can be ignored or are considered as language extensions)<br />
  to reveal the fact that we are applying a function transforming a type that is being declared:</p>
<pre class="brush: plain; title: ; notranslate" title="">
  class metaStruct2&lt;4&gt;(metaFunc1(some_class_before_transformation)) 
  {};
  </pre>
<p>  which seems to me clearer and less ambiguous on the orders. It also reveals the fact that we are transforming a type that<br />
  has not yet been fully parsed. This does not really clash with the notion of `final` that you mention in your paper:<br />
  `final` would be an attribute of a returned type, that would prevent its &#8220;compiler casting&#8221; to &#8220;meta::type&#8220; and stop<br />
  the evaluation of the meta functions.</p>
<p>3. it would be possible to use type alias (w/wo template) with the meta functions:</p>
<pre class="brush: plain; title: ; notranslate" title="">
  using my_augmented_type = metaStruct2&lt;4&gt;(metaFunc1(some_class_before_transformation));

  template &lt;int Value&gt;
  using my_augmented_type2 = metaStruct2&lt;Value&gt;(some_class_before_transformation);
  </pre>
<p>  One of the possibilities would be to enable or not eg. &#8220;some checks&#8221; depending on a boolean</p>
<pre class="brush: plain; title: ; notranslate" title="">
  template &lt;bool B = false&gt;
  struct metaStruct3 {
      constexpr auto operator()(const meta::type source) {
        return source; // defaults to identity
      }
  };

  template &lt;&gt;
  struct metaStruct3&lt;true&gt; {
      constexpr auto operator()(const meta::type source) {
        // instruments source
        return modified_source;
      }
  };  
  </pre>
<p>Let me know if any of this makes sense :)</p>
<p>Best,</p>
<p>(apologies if I posted twice)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39912">
		<div id="div-comment-39912">
		<div class="cmtinfo"><em> on <a href="#comment-39912" title="">2017-09-29 at 8:45 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/5518ba0dfb414dc65f7e17319625919f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Shriram V</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39912"></div><p>One idea to mitigate that could be: Apart from namespaces that can be used to scope them, all meta class names in any user library can be made to require to start with an _ (e.g _interface), except those that are part of the standard library. Much like string literals.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39909">
		<div id="div-comment-39909">
		<div class="cmtinfo"><em> on <a href="#comment-39909" title="">2017-09-29 at 12:18 pm</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/v2.9/10212679051184315/picture?q=type%3Dlarge%26_md5%3Db71fd4092dad8bfe9e39c945a1972ca3&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/10212679051184315/' rel='external nofollow' class='url'>Shiv Kumar</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39909"></div><p>Hey Herb, I thoroughly enjoy your talks (in video format on YouTube). I&#8217;m a full time C# programmer and a part time C++ programmer (mainly embedded systems), watching your C++ talks has essentially pushed me to explore C++ fairly recently&#8230;</p>
<p>On the face of it, I like Meta Classes, but the thought that the word &#8220;interface&#8221; could mean many things for folks is not really a good thing it is? I addressed this in your talk, but I&#8217;m not convinced your argument is valid. Having a standardized meaning of interface has a real value for the language. Giving me to ability to doing other things with MetaClasses is great, but something&#8217;s should be addressed by the language as a spec BEFORE we have a clutter of the meaning of &#8220;interfaces&#8221;. </p>
<p>So in the case of interface you&#8217;re saying this metaclass will be in the language. Ok, but I can have an interface metaclass in a different header file, include that header instead of the standard and now my entire program changes or has compile errors? Can I define my own metaclass for &#8220;class&#8221;? In C# I don&#8217;t use extension methods for similar reasons.<br />
1. The meaning could change from file to file or project to project<br />
2. When I switch projects or jobs, what I understand an interface will likely not have the same meaning<br />
3. When I see &#8220;interface&#8221; on stack overflow I wouldn&#8217;t know what that really means.</p>
<p>If standardization takes time then well, maybe it needs to be speeded up? :).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39904">
		<div id="div-comment-39904">
		<div class="cmtinfo"><em> on <a href="#comment-39904" title="">2017-09-28 at 4:17 pm</a></em> <img alt='' src='https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://herbsutter.com/2017/09/28/my-cppcon-2017-session-is-now-on-youtube/' rel='external nofollow' class='url'>My CppCon 2017 session is now on YouTube | Sutter’s Mill</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39904"></div><p>[&#8230;] CppCon talk yesterday is now on YouTube. You can read more about in my July blog post on &#8220;Metaclasses: Thoughts on generative C++&#8221; which contains links to the current paper and some examples that work so far on the live prototype [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39901">
		<div id="div-comment-39901">
		<div class="cmtinfo"><em> on <a href="#comment-39901" title="">2017-09-25 at 8:18 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/b29618fb757e483120ae4936f23aeb36?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>moonshadow</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39901"></div><p>How about using &#8220;$this&#8220; instead of the name of metaclass<br />
or like this:<br />
&#8220;`<br />
constexpr class interface {<br />
    constexpr {<br />
        compiler.require($this.variables().empty(), &#8220;interfaces may not contain data&#8221;);<br />
   }<br />
   interface(const decltype(this)&amp; that) = default;<br />
};<br />
&#8220;`<br />
Where the type of &#8220;this&#8220; (if its used from &#8220;constexpr&#8220; block or metaclass) be the type of the class which inherits it.<br />
Wouldn&#8217;t this simplify things?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39894">
		<div id="div-comment-39894">
		<div class="cmtinfo"><em> on <a href="#comment-39894" title="">2017-09-18 at 11:49 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/6aa3fa5fc8328db9d6429e1511e1b593?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jen</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39894"></div><p>I absolutely love this proposal.  When I was done reading it, I was left thinking that the only thing it needs is to be paired with a niladic function proposal like N1611 (Implicitly-Callable Functions).  The combination would allow for properties like in other languages, by generating a niladic function from a metaclass that returns a proxy object that provides any appropriate function overloads.  It also turns all the difficult questions about property semantics into user-defined code, rather than trying to normalize specific semantics in the core language.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-tonyriviere88 even thread-even depth-1 highlander-comment" id="comment-39832">
		<div id="div-comment-39832">
		<div class="cmtinfo"><em> on <a href="#comment-39832" title="">2017-09-01 at 7:18 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/9a1f53ac8c2b36e9fd2713a76a8a684c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Tony Rivière</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39832"></div><p>I&#8217;ve watched your presentation just yesterday, without any knowledge of what it would be about.<br />
Beside my eyes shined even more at each new slide, it&#8217;s just like you&#8217;ve answered all C++ issues with this killer feature. I&#8217;m C++ developers for 10 years now, and metaclasses bring to life all features I could dream of for C++.</p>
<p>For the examples you mentioned in your presentation, my only feedback is: yes we wanted that because they were missing features that are present on other languages. The good point is that we will be able to make our own semantic by ourselves. Taking the property example, there are plenty ways to design a property like object with more or less features. And instead of waiting several years for the committee to validate a proposition, we will have the tools to implement it directly.</p>
<p>Here are few &#8220;issues&#8221; that could be solve using metaclasses:<br />
&#8211; dot operator dilemma, for any forward wrapper like reference_wrapper, one of the main issue using dot operator is: does it grant you access to the wrapper functions? the T functions? or both? With a reference_wrapper metaclass we don&#8217;t care anymore since we will have the choice to implement it like we want. In this case: for all functions of T, add a function inside reference_wrapper which just forward the parameters to the T function. But for another kind of forward wrapper, we can imagine different rules.<br />
&#8211; in the same idea: we could wrap a type T to be always contained inside shared_ptr transparently.<br />
&#8211; automatically generate wrappers to another language.<br />
&#8211; automatically generate boilerplate code (factory, etc&#8230;)<br />
&#8211; override default historical choices of the C++ like everything is mutable and you have to explicitly apply const whenever it&#8217;s needed, compared to Rust where everything is const by default.</p>
<p>To answer people saying that it will increase the complexity and readibility of a code because it introduce potentially an infinite number of class behavior aside &#8220;class&#8221; and &#8220;struct&#8221;, I would say it&#8217;s already what templates do except that metaprogramming using templates can become really hard to read and maintain if you&#8217;re not an expert. I hope metaclasses will allow us to do more metaprogramming, more easily, more readable / smoother syntax, with less painful error messages than templates.</p>
<p>Regarding the syntax $class vs a function call: I really prefer the $class syntax because it looks more like a declarative thing. To me, a function is made for executing something (whatever it&#8217;s done at compile time or runtime). But here, the metaclass is something that we declare, not something that we compute.</p>
<p>@Herb<br />
I got few more questions:<br />
&#8211; Do you expect metaclasses to compile (far more) faster than templates? I guess yes.<br />
&#8211; I don&#8217;t know if there are proposals for generalized attributes like C# attributes (inside []) that can be used to flag any class, function or data member &#8211; but can we imagine that we could some C#-like attributes to have even better control over what can be generated by metaclasses? For example: tell which members have to be serialized or not.</p>
<p>Anyway, I definitely cannot wait to gets my hand on. I have many ideas I would like to implement that would benefit the simplicity of metaclasses compared to templates.</p>
<p>And please, make it available through Visual Studio soon enough :)</p>
<p>Thanks for this brilliant and revolutionary idea.  Looking forward for any updates.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39829">
		<div id="div-comment-39829">
		<div class="cmtinfo"><em> on <a href="#comment-39829" title="">2017-08-29 at 4:51 am</a></em>  <cite><a href='https://blog.jetbrains.com/clion/2017/08/cpp-annotated-april-august-2017/' rel='external nofollow' class='url'>C++ Annotated: Apr – Aug 2017 | CLion Blog</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39829"></div><p>[&#8230;] full collection of links for further reading can be found in this blog post by Herb Sutter. And if you are looking for a short technical summary of Herb’s proposal, check the blog post by [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1 highlander-comment" id="comment-39828">
		<div id="div-comment-39828">
		<div class="cmtinfo"><em> on <a href="#comment-39828" title="">2017-08-29 at 2:34 am</a></em>  <cite><a href='https://blog.jetbrains.com/rscpp/cpp-annotated-apr-aug-2017/' rel='external nofollow' class='url'>C++ Annotated: Apr – Aug 2017 - ReSharper C++ BlogReSharper C++ Blog</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39828"></div><p>[&#8230;] full collection of links for further reading can be found in this blog post by Herb Sutter. And if you are looking for a short technical summary of Herb’s proposal, check the blog post by [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39827">
		<div id="div-comment-39827">
		<div class="cmtinfo"><em> on <a href="#comment-39827" title="">2017-08-28 at 1:43 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/eae96b302a26664e90e9594ef2fb87ce?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Paul</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39827"></div><p>I am wondering though, how is clear implemented? Would this require a &#8220;constexpr vector&#8221; implementation? If so, how is the &#8220;constexpr vector&#8221; implemented?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39826">
		<div id="div-comment-39826">
		<div class="cmtinfo"><em> on <a href="#comment-39826" title="">2017-08-28 at 12:41 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/eae96b302a26664e90e9594ef2fb87ce?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Paul</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39826"></div><p>Hey, I would like ask a few things about how this proposal and how it will progress in the future.</p>
<p>I am currently checking out the cppx-compiler and it seems that with the current state of libcppx, it doesn&#8217;t provide all features which are needed to eg. imlement the safe_union metaclass.</p>
<p>The interesting thing here is that members can be removed, injected and iterated through. I guess this isn&#8217;t implemented yet? Or has there been changes in this regards?</p>
<p>I am also wondering though, if you plan to expand the &#8220;removal behavior&#8221; to more &#8220;iterable reflections&#8221;, something like removing all base classes with &#8220;$metaclass.bases().clear()&#8221;.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-amirkoblog odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39803">
		<div id="div-comment-39803">
		<div class="cmtinfo"><em> on <a href="#comment-39803" title="">2017-08-15 at 12:53 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/92714c5dd36683d8260536595c803fc3?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://amirkoblog.wordpress.com' rel='external nofollow' class='url'>amirshrestha</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39803"></div><p>This proposal is definitely on my reading lists. I hope I could attend your CppCon 2017 talk this September!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-39801">
		<div id="div-comment-39801">
		<div class="cmtinfo"><em> on <a href="#comment-39801" title="">2017-08-13 at 3:24 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39801"></div><p>@soulformachine Consider that a metaclass can compute anything that is reflectable and constexpr-computable, (although the prototype currently only supports a small subset of that) and all the rules you&#8217;d like to express are computable at compile time using reflection&#8230; and see also the paper&#8217;s safe_union example for a type that completely replaces the declared implementation.</p>
<p>@Christian The non-virtual interface idiom (NVI) is a recurring and useful idiom, especially for classes that also have implementation, not a do-always rule. Pure public interfaces are a perfectly valid pattern &#8212; it&#8217;s just until now they have been written entirely by convention without any guard rails where the compiler can help enforce we followed the intent and that it stays that way under maintenance.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-christianhacklaustria odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39799">
		<div id="div-comment-39799">
		<div class="cmtinfo"><em> on <a href="#comment-39799" title="">2017-08-11 at 7:49 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/be2ad8c4d8ff3e745d83767c6ab1bd79?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Christian Hackl</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39799"></div><p>Isn&#8217;t the interface example which appears in the proposal and which is being discussed here a blatant violation of your own guidelines regarding the &#8220;non-virtual interface idiom&#8221; (<a href="http://www.gotw.ca/publications/mill18.htm" rel="nofollow">http://www.gotw.ca/publications/mill18.htm</a>), according to which virtual functions in C++ should usually be private and public functions should usually be non-virtual?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-soulformachine even thread-even depth-1 highlander-comment" id="comment-39798">
		<div id="div-comment-39798">
		<div class="cmtinfo"><em> on <a href="#comment-39798" title="">2017-08-10 at 11:33 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/f7d2637cff4ec7eb8979845b7ca4efd4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://soulformachine.wordpress.com' rel='external nofollow' class='url'>soulformachine</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39798"></div><p>@HerbSutter: I guess that would work, I like the fact that the details would be hidden away behind $class interface and say $class implementation, but what worries me is that this is just a way of providing a nicer syntax for the existing system and not a tool which can change the system so that for example in this case a solution can be produced which is more efficient than virtual inheritance (if there is one). Also it would not be possible to provide interface behavior such as in C# which can provide interface function implementation through a base class which is unrelated to interface but has a function with the same signature:</p>
<pre class="brush: plain; title: ; notranslate" title="">
interface IA
{
    void foo();
}
    
class B
{
    public void foo() { }
}
    
class A : B, IA
{
        
}
    
public class Program
{
    public static void Main(string[] args)
    {
        IA a = new A();
        a.foo();
    }
}
</pre>
<p>Also, it would still be possible to derive a class from an interface, which would produce different behavior, unless there is a possibility to say &#8220;this $class is final unless the deriving $class is implementation&#8221;.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39795">
		<div id="div-comment-39795">
		<div class="cmtinfo"><em> on <a href="#comment-39795" title="">2017-08-09 at 5:16 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39795"></div><p>@soulformachine: If you want such a system, you can use a metaclass for your derived classes that recognizes interfaces and inherits from them virtually by default. Would that address your concern?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-39794">
		<div id="div-comment-39794">
		<div class="cmtinfo"><em> on <a href="#comment-39794" title="">2017-08-09 at 5:04 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39794"></div><p>@Alex:</p>
<p>You wrote: &#8220;I don’t like resulting property metaclass because we express similar things (property attributes like type, name, getter, setter, scriptable etc) using very different C++ constructs (like type name, tag types, return type or names of data members).&#8221;</p>
<p>Sure, that&#8217;s a reasonable point for the example I gave. The actual Qt property will be more elegant than my initial strawman, which was mostly to demonstrate capability. The flexibility we have gives lots of ways to design a property metaclass&#8230; for example, if we changed the requirements to (this again is just a strawman that approximates the published Qt rules, see <a href="http://doc.qt.io/qt-5/properties.html" rel="nofollow">http://doc.qt.io/qt-5/properties.html</a>):</p>
<p>•	We recognize as a “get” any function that is const and returns T or T const&amp;.<br />
•	We recognize as a “set” any function that is non-const and takes exactly one parameter of type T, T&amp;, or T const&amp;.<br />
•	We recognize as a “notify” any function declaration that is a signal function in the same class.</p>
<p>then you could write this in your example:</p>
<pre class="brush: plain; title: ; notranslate" title="">
property&lt;bool&gt; focus : scriptable, revision(3) {
    bool hasFocus() const { return ::HasFocus(m_widgetHandle); /* ??? */ }
    void focusChanged();
};
</pre>
<p>or, since we can also reflect over attributes:</p>
<pre class="brush: plain; title: ; notranslate" title="">
property&lt;bool&gt; focus [[scriptable, revision(3)]] {
    bool hasFocus() const { return ::HasFocus(m_widgetHandle); /* ??? */ }
    void focusChanged();
};
</pre>
<p>or many other variations.</p>
<p>The major point here is that you can match Qt rules pretty much exactly, or WinRT rules, etc. plus have strong expressive power to express an opinion on what your users&#8217; code would best look like &#8212; but never straying far from the C++ grammar, since it has to match the C++ grammar, so we couple great flexibility with constraints that help ensure the result still &#8220;looks like C++&#8221; even though it is expressing things C++ could never express before. As with any (meta)class design, taste comes into play, and the (meta)class author has the flexibility to express their taste as well as express their core requirements and functionality. &#8212; Just as with classes, metaclasses offer flexible expressive power to let the (meta)class designer express what they want and make their (meta)class usable in the way that they want. And so I fully expect that we&#8217;ll get &#8220;Effective C++ Metaclass Design&#8221; design guidance just as we have &#8220;Effective C++ Class Desigh&#8221; guidance (i.e., &#8220;just because you can doesn&#8217;t mean you should&#8221;); we are just now learning those style rules for metaclasses, just as we did with classes in the late 80s and early 90s.</p>
<p>And regarding the use of m_widgetHandle in the property getter definition, the short answer is &#8220;yes that should work&#8221; and the hint as to why is &#8220;same as in-class member function definitions and non-static data member initializers.&#8221;  [*]</p>
<p>Does that help to address some of your concerns, even if it may not yet address all of them completely?</p>
<p>    [*] Far too briefly, but enough that you&#8217;ll get the idea if you&#8217;re familiar with compilers: In-class member function definitions and member initializers already effectively require two-pass compilation of the class definition &#8212; it&#8217;s the only place in C++ that requires two-pass today, so that you can refer to something that is not declared until later in the source file. Actual compilers like GCC and Clang implement this by effectively storing up the tokens of the function definition (doing just brace matching) or default initializer (looking for the ;) and then not actually even parsing the contents of those things (never mind doing semantic analysis, name lookup, etc.) until after the class is fully defined. &#8212; And that same rule should apply here, so that the function body above would be parsed after the enclosing class is fully defined, which is after its metaclass has run and moved the functions there so they&#8217;re in a scope where they can refer to each other naturally. &#8212; Two things to note about this: (a) it&#8217;s just the same rule C++ already has today for in-class function definitions, and (b) it just does what the user expects in other languages where properties are nested scopes so I don&#8217;t expect this to be surprising. Having said that, we absolutely won&#8217;t know until we validate the above by implementing it in real compilers and then testing it with real users. That&#8217;s real work and design risk, and I&#8217;m not minimizing it, just saying why technically we think it&#8217;s sound at this point.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39791">
		<div id="div-comment-39791">
		<div class="cmtinfo"><em> on <a href="#comment-39791" title="">2017-08-09 at 8:12 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/dae1a88a8ce815a448134d7b2d10c69a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jay Sistar</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39791"></div><p>I know that it has been said that these features will not make it into C++20, but we do have a Clang version that implements some of it. When could we expect Visual C++ to have it?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-soulformachine even thread-even depth-1 highlander-comment" id="comment-39786">
		<div id="div-comment-39786">
		<div class="cmtinfo"><em> on <a href="#comment-39786" title="">2017-08-07 at 9:08 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/f7d2637cff4ec7eb8979845b7ca4efd4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://soulformachine.wordpress.com' rel='external nofollow' class='url'>soulformachine</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39786"></div><p>Consider this case with a hierarchy of interfaces and implementation classes:</p>
<pre class="brush: plain; title: ; notranslate" title="">
interface IA {
    void foo();
};

interface IB : IA {
    void bar();
};


class A : public IA {
public:
    void foo() override {}
};

class B : public A, public IB {
public:
    void bar() override {}

    // but now we have to also provide foo override introduced by IB,
    // even though IA has been implemented by base class A
    void foo() override { A::foo(); }
};
</pre>
<p>Interfaces would still not act as in other languages, not without an ability to do virtual table fixup, or enforce virtual inheritance with that meta code.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39785">
		<div id="div-comment-39785">
		<div class="cmtinfo"><em> on <a href="#comment-39785" title="">2017-08-06 at 1:43 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/0899671f68c2b0e4731d807ae0f68be8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>RiaD</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39785"></div><p>You didn’t say anything about namespacing, it probably better be smth like std::interface etc which looks less nice</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39784">
		<div id="div-comment-39784">
		<div class="cmtinfo"><em> on <a href="#comment-39784" title="">2017-08-06 at 1:43 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/0899671f68c2b0e4731d807ae0f68be8?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>RiaD</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39784"></div><p>Note, that it’s hard to get the difference between creating a class and creating a member (it’s actually specific to the previous definitions)</p>
<p>vector x{}<br />
vs<br />
property y{}</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39781">
		<div id="div-comment-39781">
		<div class="cmtinfo"><em> on <a href="#comment-39781" title="">2017-08-06 at 4:56 am</a></em> <img alt='' src='https://i2.wp.com/pbs.twimg.com/profile_images/3178269409/e3d1305d97e3c4f8330ce3b6bbd6d0fc_normal.jpeg?resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://twitter.com/xaizek' rel='external nofollow' class='url'>xaizek (@xaizek)</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39781"></div><p>While this might reduce amount of macros/boilerplate used to generate some classes, my overall impression of defining &#8220;interface&#8221; and alike is basically this:</p>
<pre class="brush: plain; title: ; notranslate" title="">
#define BEGIN {
#define END }
</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39779">
		<div id="div-comment-39779">
		<div class="cmtinfo"><em> on <a href="#comment-39779" title="">2017-08-03 at 6:43 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/5518ba0dfb414dc65f7e17319625919f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Shriram V</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39779"></div><p>Herb, it&#8217;s a really cool proposal! We can then create DSLs as we like, implemented as a standard c++ library!!</p>
<p>Would it be possible to implement features like memory safety, thread safety equivalent to how Rust provides?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39775">
		<div id="div-comment-39775">
		<div class="cmtinfo"><em> on <a href="#comment-39775" title="">2017-08-02 at 1:03 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/a0c15d12299c8ac9dd9a8e913c68a955?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Alex Zhondin</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39775"></div><p>I&#8217;m seeing your example of properties.<br />
Some notes:</p>
<p>1. You wrote:<br />
	This metaclass implements the following requirements and defaults:<br />
	• Each function’s name must begin with “get” or “set.”<br />
	• T must be copyable.<br />
	• Apply any other Qt property rules</p>
<p>It&#8217;s not true. Getters/Setters may have arbitrary names. We could have read-only property with const ref return type, so it could be non-copyable.</p>
<p>2. Anyway, I&#8217;m just trying to build up more compete example of the property metaclass.<br />
Using your idea of signal/slot as helper types I came to the following:</p>
<p>Qt property declaration:<br />
    Q_PROPERTY(bool focus READ hasFocus NOTIFY focusChanged SCRIPTABLE true REVISION 3)</p>
<p>C++ property declaration:<br />
	property focus {<br />
		getter hasFocus() const { return ::HasFocus(m_widgetHandle); /* ??? */ }<br />
		notifier focusChanged();<br />
		bool scriptable = true;<br />
		int revision = 3;<br />
	};</p>
<p>Where getter/setter/notifier are helper types to mark or distinguish property attributes (READ/WRITE/NOTIFY etc.)</p>
<p>Note that line with /* ??? */ is lexically not correct because uses m_widgetHandle from outer class.<br />
Is this (using outer class members or similar &#8220;incorrect&#8221; code) will be forbidden?</p>
<p>I don&#8217;t like resulting property metaclass because we express similar things (property attributes like type, name, getter, setter, scriptable etc) using very different C++ constructs (like type name, tag types, return type or names of data members).<br />
And more over we use redundant words (like &#8220;int&#8221; for revision) just because of C++ syntax requirement.</p>
<p>I consider metaclasses as attempt to introduce &#8220;programmable&#8221; declaration statements into C++.<br />
And you want to limit it by existing C++ declaration facilities like class/subclass declarations, data and function members.<br />
It works in simple cases like $interface where you introduce just replacement for &#8220;class&#8221; keyword.<br />
But more complex and useful declarative statements looks unnatural at my opinion.</p>
<p>I&#8217;m programming C++ quite a long time (&gt;10 years) and noticed that C++ is too imperative (and thus more verbose) in some cases. We had to invent DSLs (Domain Specific Language) to eliminate writing a lot of required but &#8220;stupid&#8221; code. Just like interfaces and value classes do in your proposal. You could see as example my project <a href="https://github.com/lexxmark/QtnProperty" rel="nofollow">https://github.com/lexxmark/QtnProperty</a>.</p>
<p>So I wonder at some time metaclasses will replace all these DSLs (I&#8217;m consigering Qt classes and WinRT as DSL too). But I think C++ declarative facilities not enough to cover all cases. We need more unified and powerful declarative syntax like JSON or QML.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39774">
		<div id="div-comment-39774">
		<div class="cmtinfo"><em> on <a href="#comment-39774" title="">2017-08-02 at 1:00 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Robert Andrzejuk</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39774"></div><p>Here&#8217;s an idea, define a meta-class:<br />
&#8220;fake&#8221;: all functions from inherited classes /return default values/are erased(compile time error when called)/&#8230;/<br />
&#8220;mock&#8221;: /&#8230;/<br />
&#8220;test-fixture&#8221;: /&#8230;/<br />
&#8220;tests&#8221;: /&#8230;/</p>
<p>Wonder if/how that will work? :-)<br />
O my &#8230; 6 years to wait for this feature &#8230;<br />
(I wonder if meta-functions are plausible?)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39772">
		<div id="div-comment-39772">
		<div class="cmtinfo"><em> on <a href="#comment-39772" title="">2017-08-01 at 6:24 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39772"></div><p>@kpfleming: The original intention when that code was written before constexpr blocks was that they be visible, yes. However now those variables should be injected into the class, or the constexpr block extended, if they are going to be used. I will update the examples for the next revision.</p>
<p>@Eric: This isn&#8217;t instead of concepts. See Figure 1 &#8212; Metaclasses complement (and rely on) concepts and reflection, which are about querying capabilities – based on “does this expression compile” and “does this member/signature exist,” respectively. Metaclasses are about defining types – participating in interpreting the meaning of source code to generate the class definition. Also see section 2.7.</p>
<p>@Gregory: It gives you the &#8220;usual&#8221; property syntax modulo writing (). Metaclasses can generate what the language already lets you write, and dropping the () would be an additional language extension (orthogonal to metaclasses).</p>
<p>@Adam: I think it&#8217;s consistent &#8212; this to_string is not print all the possible values of the enum, it&#8217;s printing all the enumerators.</p>
<p>And yes, I do need to add a note/discussion that one way to think of this is that it should replace all uses of CRTP, which basically was an early approximation. Curious how this technique is recurring, huh? :)</p>
<p>@Roland: I didn&#8217;t write out the property code but described what it does in the prose. See some of the other examples in the paper for generating functions, such as safe_union.</p>
<p>@Andreas: Yup, that&#8217;s a good summary of benefits of the function style syntax.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1 highlander-comment" id="comment-39771">
		<div id="div-comment-39771">
		<div class="cmtinfo"><em> on <a href="#comment-39771" title="">2017-07-31 at 9:43 pm</a></em>  <cite><a href='https://abacusnoirform.wordpress.com/2017/08/01/scimathprog-summary-july-2017/' rel='external nofollow' class='url'>Sci/Math/Prog summary: July 2017 | Abacus Noir Form</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39771"></div><p>[&#8230;] Sutter put out a real teaser about upcoming metaprogramming abilities in [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39769">
		<div id="div-comment-39769">
		<div class="cmtinfo"><em> on <a href="#comment-39769" title="">2017-07-31 at 9:27 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/be4df75f22e1985be20f84fedfabf454?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/126489934615455/' rel='external nofollow' class='url'>Jason Heblack</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39769"></div><p>Commenting on &#8220;C++ Core Guidelines&#8221; where it says: &#8220;Note Capitalize the names of your user-defined types to distinguish them from standards-library types.&#8221; &#8211; You guys are &#8216;hypocrites&#8217;!!! You recommend something that you DON&#8217;T do! Why are standards-library types lower-case? Because nobody likes hitting the shift key. No One&#8217;s gonna follow that. They&#8217;ll just do everything lower-case. I&#8217;m commenting on this because I was following the Google Style Guide for C++ but I DON&#8217;T like it because of all the shift key usage. So, I&#8217;m refactoring my code to be all lower case so it&#8217;s easier to type. Also, I switched around the underscore key so I DON&#8217;T have to hit shift to get the underscore. THAT IS LAME</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39767">
		<div id="div-comment-39767">
		<div class="cmtinfo"><em> on <a href="#comment-39767" title="">2017-07-31 at 5:17 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/bfdfd1a62be7829b73e27ca80af1c635?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Andreas Mattes</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39767"></div><p>While I like the direction this is going, I think that that there is a bit of a mix-up between concepts and transformations in here. This can be seen in the definition of .is which assumes that the result of a metaclass transformation is a kind of concept and a second application of the same transformation is a No-op. But that is not the case for examples like the one that adds a new overload of each function with an additional int parameter.</p>
<p>The function syntax for metaclasses embraces that more. And why stop there? If the transformation is a function, then .as can be seen as a constexpr function call and maybe should have the function call syntax with types as parameters? It could then also have additional type or non-type parameters (like flags or similar) and transformations could call other transformations without special syntax that has an implicit call order.<br />
And finally maybe concepts should be the same syntax, functions returning bool for concepts and functions returning meta::type for transformations.<br />
If metaclass transformations result in a type that conforms to a concept, the function could return the name of that concept instead of meta::type (although the question is when the concept check should be done, some kind of cast maybe?).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39766">
		<div id="div-comment-39766">
		<div class="cmtinfo"><em> on <a href="#comment-39766" title="">2017-07-29 at 10:52 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/beee619022f0507cb7a8c735194e704d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://github.com/rbock/sqlpp11' rel='external nofollow' class='url'>Roland Bock</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39766"></div><p>I missed the code that defines property. In particular, I would be interested in the part that creates </p>
<pre class="brush: plain; title: ; notranslate" title="">
 T get_xxx() { return value; }
</pre>
<p>Is that code available somewhere? It requires constructing names out of thin air. Does the prototype by Andrew Sutton already support that?</p>
<p>Afaict, this could mean that we could finally get variadic composition.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39765">
		<div id="div-comment-39765">
		<div class="cmtinfo"><em> on <a href="#comment-39765" title="">2017-07-29 at 5:08 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/f00bf8017d72662a58d9df7834b1d425?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Adam Harter</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39765"></div><p>A question regarding the basic_enum to_string example:<br />
I&#8217;m assuming that a flag_enum instance (class?) would match the function &#8211; since a flag_enum can have values that aren&#8217;t part of the enum itself, does this mean that a flag_enum isn&#8217;t a basic_enum?  This could be fixed easily enough with a more constrained to_string function, but it feels kind of weird that the more general function doesn&#8217;t work.  Of course the to_string of the original could be (inefficiently) rewritten to work but that, again, doesn&#8217;t feel right.<br />
Am I missing something basic or reasoning about this incorrectly?</p>
<p>That aside, this a really exciting feature (and CRTP wouldn&#8217;t be needed anymore!)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39763">
		<div id="div-comment-39763">
		<div class="cmtinfo"><em> on <a href="#comment-39763" title="">2017-07-29 at 9:44 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/418a35526fec06e8f35423373b0b6bef?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Gregory</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39763"></div><p>About properties. While metaclasses can generate ordinary methods from property declarations, what about caller side? Does user of the class have to use generated methods instead of property name to get or set property? If so, why bother to implement properties at all?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39762">
		<div id="div-comment-39762">
		<div class="cmtinfo"><em> on <a href="#comment-39762" title="">2017-07-29 at 8:22 am</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/v2.9/1441247629302941/picture?q=type%3Dlarge&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/1441247629302941/' rel='external nofollow' class='url'>Eric Duhon</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39762"></div><p>void foo(interface arg)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39761">
		<div id="div-comment-39761">
		<div class="cmtinfo"><em> on <a href="#comment-39761" title="">2017-07-29 at 8:20 am</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/v2.9/1441247629302941/picture?q=type%3Dlarge%26_md5%3Dcc3d8d8fe0c3204db73f0953b5a17303&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/1441247629302941/' rel='external nofollow' class='url'>Eric Duhon</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39761"></div><p>This almost seems like it could be used instead of concepts. At first I was thinking of it as concepts specify requirements on a type, and a metaclass modifies a type to make it adhere to a concept. Was thinking it would probably be common to have concepts and a matching metaclass in pairs. How is the name collision between concepts and meta classes? Does it cause problems to have a concept named ForwardIterator and a metaclass called ForwardIterator as well? Since metaclasses have requirement clauses, could a metclass implicitly create a concept as well so you don&#8217;t have to create a separate matching one? Then you can get the terse concept syntax with your metaclass for free. void foo(observer_ptr arg);</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39759">
		<div id="div-comment-39759">
		<div class="cmtinfo"><em> on <a href="#comment-39759" title="">2017-07-29 at 2:45 am</a></em> <img alt='' src='https://i0.wp.com/graph.facebook.com/v2.9/1668699946678169/picture?q=type%3Dlarge%26_md5%3Df99bceaf8e3e63f9baaa11b51d785c1b&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/1668699946678169/' rel='external nofollow' class='url'>Kamil Koczurek</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39759"></div><p>Amazing. I hope it will get to c++23, it would be so nice to use with concepts. And I&#8217;ll finally be able to compute semi–complex stuff without workarounds in those </p>
<pre class="brush: plain; title: ; notranslate" title="">constexpr</pre>
<p> blocks. &lt;3</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-kpfleming odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39757">
		<div id="div-comment-39757">
		<div class="cmtinfo"><em> on <a href="#comment-39757" title="">2017-07-28 at 1:23 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/accc02afb4d806a2baad04156e14372a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/kpfleming' rel='external nofollow' class='url'>kpfleming</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39757"></div><p>Question: throughout the example implementations, there are variables defined to do calculations during the constexpr code evaluation (compute the number of objects, etc.) Some of these variables, although not all, are then referenced in the code *outside* the class-level constexpr block (for example, in the bitfield example). Is it your intention that these will be visible to code outside the constexpr block, but not injected into the protoclass (as they would have been if they were declared outside the constexpr block)?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-39756">
		<div id="div-comment-39756">
		<div class="cmtinfo"><em> on <a href="#comment-39756" title="">2017-07-28 at 12:31 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39756"></div><p>@Martin: Yes, that&#8217;s the direction we&#8217;re exploring. The current paper doesn&#8217;t mention it but the current design and compiler already allows constexpr { } compile-time code blocks in regular classes too.</p>
<p>@Jonathan: Good news, it is actually not too early to tell &#8212; there is zero chance of this being in C++20. :) Besides that this needs further development and trying out at increasing scales in more domains, the door for C++20 features closes in two years and this depends on two other features (reflection and compile-time programming) of which only one (reflection) is even yet in progress toward becoming a draft TS itself.</p>
<p>@Paul: Yes, since it&#8217;s &#8220;just code&#8221; you can put it in namespaces, libraries, etc. just like any code &#8212; including putting common ones in namespace std.</p>
<p>And yes, reducing reliance on the preprocessor (and template metaprogramming) is a primary goal. TMP is &#8220;meta&#8221; too but templates are &#8220;accidentally&#8221; meta :) whereas the point here is to design and leverage first-class compile-time programming.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39755">
		<div id="div-comment-39755">
		<div class="cmtinfo"><em> on <a href="#comment-39755" title="">2017-07-28 at 11:19 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/87c99c94a78281cd234aa57fded68d1e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Andreas</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39755"></div><p>Great work! There is definetly no reason not to push as hard as possible to make this go into c++20<br />
Is there a timeplan when this might become an TS?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39754">
		<div id="div-comment-39754">
		<div class="cmtinfo"><em> on <a href="#comment-39754" title="">2017-07-28 at 9:59 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/f2d639be5b596b39a0039f12601b092c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Martin Kosicky</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39754"></div><p>Also in java you can chain these code generations &#8230; therefore i wouldnt put it into a new block  ut rather have it ordinarry code that gets chained&#8230;</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jaysistar odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39753">
		<div id="div-comment-39753">
		<div class="cmtinfo"><em> on <a href="#comment-39753" title="">2017-07-28 at 9:58 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/dae1a88a8ce815a448134d7b2d10c69a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>jaysistar</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39753"></div><p>I know that C++ is sometimes considered an &#8220;expert&#8217;s language&#8221;, and that this feature renforces that consideration, but it also opens the door for expert senior programmers to give themselves and their juniors a construct with rules that they not only define, bht can change if something seems illogical later, and also have code, not English, for any user of their metaclass to check to see if an assumption is true.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39752">
		<div id="div-comment-39752">
		<div class="cmtinfo"><em> on <a href="#comment-39752" title="">2017-07-28 at 9:48 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/f2d639be5b596b39a0039f12601b092c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Martin Kosicky</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39752"></div><p>To be more constructive. I would be happier if you didnt introduce new syntax. Why cant we have a special code block costexpr and inside regular c++. The reflection can be stored in some well known variable with name access with regular methods. Injecting members not with an arrow but rather a method&#8230; AddFunc&#8230; etc. Java has simmiliar mechanism when generating code based on annotations.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-vschawathe odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39751">
		<div id="div-comment-39751">
		<div class="cmtinfo"><em> on <a href="#comment-39751" title="">2017-07-28 at 8:38 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/dd3ee80afb7e777359b3eaf8c724a642?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://Chawathe.iProcess.firm.In/' rel='external nofollow' class='url'>Chawathe, Vipul S.</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39751"></div><p>$ operator syntax overlaps sigil from PERL for strings. As this can improvise WRL like COM dialects radically, when using /std:latest flag VC++ UWP developers must get this ASAP. This must be technical specification at least, as some dependencies will hold up until C++ 20.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39750">
		<div id="div-comment-39750">
		<div class="cmtinfo"><em> on <a href="#comment-39750" title="">2017-07-28 at 6:35 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/878405ef25b8837f7d15b1b2dc0e8265?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jonathan O'Connor</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39750"></div><p>I appreciate that it is probably too early to tell, but what chance do you think that some form of metaclasses will be in C++20?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39749">
		<div id="div-comment-39749">
		<div class="cmtinfo"><em> on <a href="#comment-39749" title="">2017-07-28 at 6:11 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/273c37e60fa7a2114937c5e22d61bf24?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Laurent Lessieux</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39749"></div><p>There has been quite a lot of C++ proposal where I have been wondering where I could apply them.<br />
Concepts, ok it will help but not sure how often. Modules yes I can see how that would help too.<br />
But this one is the first one where I could see how to solve problems that have been creeping in our applications and framework over the years by making the code cleaner, a lot simpler AND safer.</p>
<p>Just one request, can you make a prototype version in Visual Studio 2017 ;)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39748">
		<div id="div-comment-39748">
		<div class="cmtinfo"><em> on <a href="#comment-39748" title="">2017-07-28 at 5:23 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/673eff0ea4d4542a4aca7a126ff40744?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Paul</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39748"></div><p>Very interesting way to extend the &#8216;language&#8217;. It could encourage better implementations, but the flip side is you would&#8217;ve given people a bigger shotgun to shoot themselves in the foot.</p>
<p>Would you expect there to be some &#8216;standard&#8217; meta classes defined for things like interface, value, raii_value etc.</p>
<p>My main concern is the difficulty in managing user defined abstractions which materially can affect code written elsewhere. e.g. updating the definition of meta::type flintstone would propagate to all class barney, class wilma etc.</p>
<p>Probably no worse than base class dependencies, but another place for bugs, subtle interface issues and surprises to hide.</p>
<p>That said, seems to elegantly extend in some areas of C++ weakness and may reduce reliance on the pre-processor.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39747">
		<div id="div-comment-39747">
		<div class="cmtinfo"><em> on <a href="#comment-39747" title="">2017-07-28 at 3:34 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/3bc0fb48d8849a9cbf2041c81fd3693f?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Guy</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39747"></div><p>I&#8217;ve found the metaclasses (and surrounding compile time programming) talks very interesting. I think this feature will likely be overused tremendously to start with and eventually we will settle down as a community to a few common uses (apart from cutting edge library authors who will think if amazing uses).<br />
I would like to see if you could use metaclasses to write compile time html or similar technologies in a very natural way that could then be converted into C++ types.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39746">
		<div id="div-comment-39746">
		<div class="cmtinfo"><em> on <a href="#comment-39746" title="">2017-07-28 at 3:27 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/510a1689ea6540725b3569bc2063e03c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jochen Kerdels</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39746"></div><p>The other &#8220;obvious&#8221; candidate would be the § sign. As a law or regulation is something akin to a specification &#8211; which metaclasses essentially are.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39745">
		<div id="div-comment-39745">
		<div class="cmtinfo"><em> on <a href="#comment-39745" title="">2017-07-28 at 3:20 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/510a1689ea6540725b3569bc2063e03c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jochen Kerdels</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39745"></div><p>Regarding the use of the $ sign. Maybe a good alternative is the € symbol &#8211; though I am not sure if the symbol is readily available on non-EU keyboards. The € sign looks a bit like a C (class) that was cut open on the operating table, which one could use as a metaphor for reflection ;-)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39744">
		<div id="div-comment-39744">
		<div class="cmtinfo"><em> on <a href="#comment-39744" title="">2017-07-28 at 2:54 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/95e2dcd7fb949c6ef074353e0e96f7cf?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Luc</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39744"></div><p>Very nice. I have use case in mind:</p>
<p>In VTK (a 3D visualisation toolkit), objects have a last modification timestamp, that the setters update whenever the new value differs from the old one. As of now, this is implemented with macros:</p>
<pre class="brush: plain; title: ; notranslate" title="">
int SomeField;
public:
vtkSetMacro(SomeField, int)
</pre>
<p>where vtkSetMacro generates a function like</p>
<pre class="brush: plain; title: ; notranslate" title="">
void SetSomeField(int x) { if (SomeField == x) return; Modified(); SomeField = x; }
</pre>
<p>With metaclasses, we could have a trivial wrapper</p>
<pre class="brush: plain; title: ; notranslate" title="">
template&lt;typename T&gt; Settable&lt;T&gt; struct { T value; }
</pre>
<p>and a meta class that generates a setter for each field that is a Settable.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39742">
		<div id="div-comment-39742">
		<div class="cmtinfo"><em> on <a href="#comment-39742" title="">2017-07-27 at 11:36 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/510a1689ea6540725b3569bc2063e03c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Jochen Kerdels</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39742"></div><p>I just watched the first 20 minutes of the video and &#8220;participated&#8221;. Programming experience is 15+ years. My reactions to the three slides can be summarized as follows:</p>
<p>I&#8217;m really of two minds about this. Metaclasses seem to be a very powerful way to describe the expected structure of classes, resulting in better compile time checking and better, more meaningful error messages. It also reduces the amount of code that has to be written &#8211; but that is not a true benefit in each case. It can reduce boilerplate, but it also makes a lot of things very implicit, which is a very dangerous route imho. </p>
<p>If you are a good programmer, this new feature is certainly incredible powerful and useful, but for weak programmers the implicit nature of the resulting code is really a problem. You increase the amount of things you have to keep in mind and have to know when reading/writing a piece of code that uses new specifiers introduced by metaclasses. The good programmer will look up the metaclass definition, and will be able to parse it (maybe). The weak programmer will just assume things and go by his/her gut feeling. This tendency is imho the key problem of &#8220;modern&#8221; programming languages like Python et al. It makes these languages attractive to weak programmers, because they &#8220;appear&#8221; to be simpler to use. But this appearance is just based on assumptions that are for the most part not backed up by actual knowledge of what is going on. As a consequence, you get pretty horrible code that is full of assumptions made by the programmer that seem ok, but are actually wrong.</p>
<p>As much as I am intrigued by the power of metaclasses, I am also very skeptical about introducing a language feature that increases the potential amount of assumptions made by programmers.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-jaysistar even thread-even depth-1 highlander-comment" id="comment-39739">
		<div id="div-comment-39739">
		<div class="cmtinfo"><em> on <a href="#comment-39739" title="">2017-07-27 at 5:50 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/dae1a88a8ce815a448134d7b2d10c69a?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>jaysistar</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39739"></div><p>Removing the need for side compilers is the single greatest thing that could be done for C++. This proposal, and the proposals on which it depends, seems to remove that need nicely.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39737">
		<div id="div-comment-39737">
		<div class="cmtinfo"><em> on <a href="#comment-39737" title="">2017-07-27 at 1:29 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39737"></div><p>@Alex, this is an interesting suggestion:</p>
<p>&gt; property declaration looks a bit strange with redundant curly braces. I understand that you are trying to stay within C++ syntax here</p>
<p>First, my usual response has been that properties are an abstraction/scope, so that&#8217;s why they have braces in other languages.</p>
<p>Interestingly, though, it&#8217;s your comment this time that made me think more about how properties in other languages (e.g., C#) do omit the {} if you use the defaults, and actually there is no reason I can&#8217;t do that in this proposal&#8230; in the enclosing type&#8217;s metaclass, the logic can just choose to treat a nested property class forward declaration the same as if it was a nested property class with an empty definition. (Note that in this example in the paper, the enclosing type&#8217;s metaclass just throws away the nested property class anyway and &#8216;inlines&#8217; it into the enclosing type, so nothing is lost by allowing &#8220;property&lt;int&gt; x;&#8221; to mean the same as &#8220;property&lt;int&gt; x { };&#8221; here.)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-39736">
		<div id="div-comment-39736">
		<div class="cmtinfo"><em> on <a href="#comment-39736" title="">2017-07-27 at 11:43 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39736"></div><p>@Adrien: Note that a metaclass is to specify a group of types having common characteristics, and simplify writing such a type, using generative code to automate/enforce the boring/required parts. Templates are about parameterizing a type.</p>
<p>I don&#8217;t think vector itself wants to be a metaclass, but you could write a &#8220;container&#8221; metaclass with common container-related code/requirements to help write vector itself (and other container types) more simply and robustly as</p>
<pre class="brush: plain; title: ; notranslate" title="">
template&lt;class T&gt; sequence_container vector { /*...*/ };
template&lt;class T&gt; sequence_container array  { /*...*/ };
template&lt;class T&gt; sequence_container deque  { /*...*/ };
// ...
</pre>
<p>Does that make sense?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39735">
		<div id="div-comment-39735">
		<div class="cmtinfo"><em> on <a href="#comment-39735" title="">2017-07-27 at 8:57 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39735"></div><p>(Sorry a couple of the comments were delayed, I just noticed they were trapped in the spam filter. Fixed.)</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor even thread-even depth-1 highlander-comment" id="comment-39734">
		<div id="div-comment-39734">
		<div class="cmtinfo"><em> on <a href="#comment-39734" title="">2017-07-27 at 8:47 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39734"></div><p>@Tyler: Ah, I think that static_assert (and the others in the file) are bugs. I&#8217;ll open an issue&#8230; Thanks!</p>
<p>Also, yes there will be a way (but not yet in this compiler) to apply several metaclasses, including in the body of the class. I&#8217;m still attached to providing a convenient &#8220;replace &#8216;class&#8217; up front&#8221; syntax for applying a single, or dominant, metaclass, for much the same reasons that Bjarne is attached to providing a convenient &#8220;replace a parameter type name with a concept name&#8221; abbreviated syntax to constraint function parameters with concepts &#8212; it makes the common case clean/natural/readable. But I&#8217;m not saying I&#8217;m wed to that a priori, it would just take a lot to convince me it&#8217;s a bad idea.</p>
<p>@Alf: I hear you (though I&#8217;m not sure what you mean by the const/nonconst example since we can do that). It is a real problem that we are adding individual special-purpose language extensions; one benefit of a general mechanism like this is that it would replace the need for some (not all) special-purpose language extensions we&#8217;re actively working on now. And I appreciate focusing on &#8220;what&#8217;s *missing*&#8221; &#8212; that was part of my motivation too, because some of the very vendor-specific extensions you rightly complain about are repeatedly reinvented because key things are missing in the language &#8212; does the final section 4 of the paper perhaps sway you on that just a little?</p>
<p>@Nicolas: I think you&#8217;re right! Thanks.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39733">
		<div id="div-comment-39733">
		<div class="cmtinfo"><em> on <a href="#comment-39733" title="">2017-07-27 at 8:08 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39733"></div><p>@Bender: I approved your new comment above, thank you for not including NSFW material this time. I don&#8217;t mind contrary opinions if they&#8217;re reasonably professional, and not just trolling/abusive/NSFW.</p>
<p>Note that at the ISO meeting people did unanimously like the capability, but as I said in the endnote above some had concerns about how the compile-time logic was wrapped in an abstraction, and the group directed to explore further whether $class was the right abstraction to wrap the compile-time code in; the UX participants in the video found it difficult too. Also, a vocal minority in the committee strongly want a syntax that does not include the $ character (not just for $class, but also for $expr reflection) because they have large code bases that use $ in source code that is not C++ code but is processed to emit C++; removing $ is an easy change at any time and we&#8217;ll just follow what the committee decides for reflection syntax (in fact, the alternative syntax I showed in the endnote above removes the need to write $). So further work is needed on those items, but fortunately none of it affects the core model.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39732">
		<div id="div-comment-39732">
		<div class="cmtinfo"><em> on <a href="#comment-39732" title="">2017-07-27 at 7:05 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/1f89cd6a94e4a1e5fea6767a78ba5a0c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://vermeille.fr' rel='external nofollow' class='url'>Vermeille</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39732"></div><p>This looks like an upolished version of Template Haskell / Rust Macros.</p>
<p>In both case, you can directly inject AST stubs where the meta calls are.</p>
<p>You might want to look at it.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39731">
		<div id="div-comment-39731">
		<div class="cmtinfo"><em> on <a href="#comment-39731" title="">2017-07-27 at 5:14 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/41f167468c443444aae9193ea4e4b1b3?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Nicolas</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39731"></div><p>It think there is a mistake in the fourth code example.<br />
Instead of</p>
<pre class="brush: plain; title: ; notranslate" title="">compiler.require(f.is_public() || !f.is_virtual(),
                             &quot;a plain_struct function must be public and nonvirtual&quot;);</pre>
<p>it should be</p>
<pre class="brush: plain; title: ; notranslate" title="">compiler.require(f.is_public() &amp;&amp; !f.is_virtual(),
                             &quot;a plain_struct function must be public and nonvirtual&quot;);</pre>
<p>In short || should be &amp;&amp;.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-homerocda even thread-even depth-1 highlander-comment" id="comment-39730">
		<div id="div-comment-39730">
		<div class="cmtinfo"><em> on <a href="#comment-39730" title="">2017-07-27 at 4:15 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/b496d1aa1d91d06225f25ec9492974c3?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/homerocda' rel='external nofollow' class='url'>Homero</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39730"></div><p>I could not enforce the &#8220;interfaces must only inherit from other interfaces&#8221; rule. Is there any way to find out the meta type of a type?</p>
<p>I tried implement a lighter version: verify if the base classes are abstract and publicly inherited. It seems like I broke the compiler, because now it&#8217;s complaining that the virtual functions overriden in Circle are not virtual.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39729">
		<div id="div-comment-39729">
		<div class="cmtinfo"><em> on <a href="#comment-39729" title="">2017-07-27 at 3:56 am</a></em> <img alt='' src='https://2.gravatar.com/avatar/2e4e3e450ae63d8f78e4414f2925cdba?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://gravatar.com/webwebuilt' rel='external nofollow' class='url'>Bender</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39729"></div><p>Herb, nice of you to delete my comment, you can pretend that everybody loves your awful design that way&#8230;<br />
You can even claim at the ISO meetings that everybody you talked to loved it, like you pretended that your UX group in the video liked it.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-alfps even thread-even depth-1 highlander-comment" id="comment-39728">
		<div id="div-comment-39728">
		<div class="cmtinfo"><em> on <a href="#comment-39728" title="">2017-07-27 at 3:44 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/c6d1c46e2968a7674186b73b819dbca4?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://alfps.wordpress.com' rel='external nofollow' class='url'>Alf P. Steinbach</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39728"></div><p>Since I see only one existing non-fully-enthusiastic comment, I&#8217;ll add my 2c. We don&#8217;t need yet another sub-language tacked onto the existing one. Just like Microsoft Windows is heading towards obscurity and financial ruin for Microsoft without fixing the obvious up-front extreme issues (like the scroll-away-when-you-click in Windows Explorer), but instead introducing a never ending stream of new very limited things and sabotaging the existing stuff, so it seems, is C++. I would like modules: they&#8217;re logically *missing*. I would like a way to write `const` and non-`const` versions of a member functions, that&#8217;s logically *missing*. I would like support for covariant features like a clone functions, and maybe that could also address the `const`+ non-`const` issue: that&#8217;s logically *missing*. These are things to fix in the language. Adding more on top, however, without fixing the glaring issues, that&#8217;s the Microsoft Windows way.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39727">
		<div id="div-comment-39727">
		<div class="cmtinfo"><em> on <a href="#comment-39727" title="">2017-07-27 at 3:05 am</a></em> <img alt='' src='https://i2.wp.com/graph.facebook.com/v2.9/10209422328983778/picture?q=type%3Dlarge%26_md5%3D20542b4739a58793f557ce769d66ec09&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' /> <cite><a href='https://www.facebook.com/app_scoped_user_id/10209422328983778/' rel='external nofollow' class='url'>Martin Kosicky</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39727"></div><p>That is what I would like. However, this language is becoming such a huge mess of so many keywords and ways of writing stuff that I would just be happy if there was a new language that would break compatibility with C, and older C++ and a new language C+++ would exist with only these new good features.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39726">
		<div id="div-comment-39726">
		<div class="cmtinfo"><em> on <a href="#comment-39726" title="">2017-07-26 at 11:21 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/9f2f8ce1934c6def984a23d120a98107?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Kunal Vichare</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39726"></div><p>VERY NICE SIR</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39725">
		<div id="div-comment-39725">
		<div class="cmtinfo"><em> on <a href="#comment-39725" title="">2017-07-26 at 4:22 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/ffee03ef6ffe2af2855edc142b24f92c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Tyler</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39725"></div><p>gonna try that code block again</p>
<pre class="brush: plain; title: ; notranslate" title="">
both foo : some_interface {
    int x,y;
    void some_function() override {}
};
</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39724">
		<div id="div-comment-39724">
		<div class="cmtinfo"><em> on <a href="#comment-39724" title="">2017-07-26 at 4:21 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/ffee03ef6ffe2af2855edc142b24f92c?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Tyler</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39724"></div><p>@Herb I tried changing the compiler.require clause to: (!f.is_copy() &amp;&amp; !f.is_move()) || f.is_deleted(), but i hit a static_assert on line 690 of meta:<br />
static_assert(is_defined());</p>
<p>I&#8217;d guess this is a bug?</p>
<p>Are metaclasses going to be first class in the typesystem (can we pass them around to template metaclassfunctions or whatever)? If i want to create a class that&#8217;s both final and ordered, is there a syntax for that?</p>
<p>ex:</p>
<p>both foo : some_interface {<br />
  int x,y;<br />
  void some_function() override {}<br />
};</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-herbsutter bypostauthor odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39723">
		<div id="div-comment-39723">
		<div class="cmtinfo"><em> on <a href="#comment-39723" title="">2017-07-26 at 3:50 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/c0ba56bfd231f8f04feb057728975181?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://www.herbsutter.com' rel='external nofollow' class='url'>Herb Sutter</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39723"></div><p>(Sorry everyone for the NSFW comment, that&#8217;s not welcome here, comment deleted.)</p>
<p>@Thomas: Good point, I probably should have included the abstract in the post.</p>
<p>@bm: Yes, you could do that. See also P0515 (<a href="https://wg21.link/p0515" rel="nofollow">https://wg21.link/p0515</a>).</p>
<p>@The Sim: Interesting case I didn&#8217;t cover in my code, in part because with metaclasses there is no reason to explicitly delete a generated function (see the paper and search for &#8220;=delete&#8221;). But this is just code, so instead of posting the answer I invite anyone to take a crack at it: How would you change the &#8220;interface&#8221; metaclass to not flag an error on &#8220;Shape(const Shape&amp;) = delete;&#8221;? Hint: See <a href="https://github.com/asutton/clang/blob/master/tools/libcppx/include/cppx/meta" rel="nofollow">the meta header here</a> for the traits, including &#8220;deleted&#8221;:</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-nroberts666 even thread-even depth-1 highlander-comment" id="comment-39722">
		<div id="div-comment-39722">
		<div class="cmtinfo"><em> on <a href="#comment-39722" title="">2017-07-26 at 2:55 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://crazyeddiesbrain.wordpress.com' rel='external nofollow' class='url'>Crazy Eddie</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39722"></div><p>Something&#8217;s not quite right about the plain_struct example.  It would seem, based on comments, that I should be able to stick a public, non-virtual function in group_o_things and I can&#8217;t.  Attempts to guess a fix based on the compiler output did not work.</p>
<p>The problem appears to get worse with a static function.  It seems to be included in the collection returned by &#8220;functions&#8221; but doesn&#8217;t have the members used in the code.</p>
<p>I also would expect f.is_public() || !f.is_virtual() to be &amp;&amp; rather than || to express &#8220;must be public and non-virtual&#8221;.  I would expect this test to succeed with a non-public non-virtual or a public virtual.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39720">
		<div id="div-comment-39720">
		<div class="cmtinfo"><em> on <a href="#comment-39720" title="">2017-07-26 at 2:27 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/a0c15d12299c8ac9dd9a8e913c68a955?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Alex Zhondin</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39720"></div><p>Also, on my opinion, property declaration looks a bit strange with redundant curly braces. I understand that you are trying to stay within C++ syntax here.</p>
<p>And to be complete, $interface could be inherited from other interfaces only. So we need possibility to check if a class implements some metaclass(es).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39719">
		<div id="div-comment-39719">
		<div class="cmtinfo"><em> on <a href="#comment-39719" title="">2017-07-26 at 2:10 pm</a></em> <img alt='' src='https://1.gravatar.com/avatar/a0c15d12299c8ac9dd9a8e913c68a955?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Alex Zhondin</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39719"></div><p>I agree this feature will rock!</p>
<p>I only wondering if we could express object hierarchies using this feature, especially for GUI where hierarchies of widgets is essential part of the code.<br />
Something similar to QML or xml like WinForms should be expressible by metaclasses in some way too.</p>
<p>Is this possible using C++ syntax only as input to metaclasses?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment byuser comment-author-peroket odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39718">
		<div id="div-comment-39718">
		<div class="cmtinfo"><em> on <a href="#comment-39718" title="">2017-07-26 at 1:05 pm</a></em> <img alt='' src='https://0.gravatar.com/avatar/cca1632b003092fb8ba614751c64a085?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://aboutcpp.wordpress.com' rel='external nofollow' class='url'>Adrien Hamelin</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39718"></div><p>This is truly amazing work. It will need some time getting used to it, as the change is quite fundamental, but it shows a lot of promises.</p>
<p>If it is integrated in the standard, we will really be able to say &#8220;it feels like a new language&#8221;. My first impression is that it renders a lot of the current features obsolete. For example, templates. Do they still make sense with that powerful metaclass? I could write, for example, a metaclass vector that i would then declare simply as &#8220;vector { MyType; };&#8221;, reading the type to use for the vector in that way. Of course it feels like a misuse a bit, but it could also be more powerful that the template in the sense that i could have a vector with my own custom functions added to it. Am i correct? Have you thought about that?</p>
<p>Which makes me think, can i implement the metaclass by using functions i know will be provided? For example, in the case of vector can i write:</p>
<p>vector LimitedVector<br />
{<br />
   int myType; // Type stored by this implementation of the metaclass</p>
<p>   void emplace_back(int value) { // &#8220;overload&#8221; the method of the metaclass<br />
      if (size() &lt; 10)                         // size() is expected to be provided by the metaclass<br />
         emplace_back(value):         // somehow call the emplace_back from the metaclass?<br />
      }<br />
   }<br />
};</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39716">
		<div id="div-comment-39716">
		<div class="cmtinfo"><em> on <a href="#comment-39716" title="">2017-07-26 at 11:55 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/943840d2626e336cb68bdab9d53d3d05?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>The Sim</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39716"></div><p>this is really awesome stuff!</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39715">
		<div id="div-comment-39715">
		<div class="cmtinfo"><em> on <a href="#comment-39715" title="">2017-07-26 at 11:54 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/943840d2626e336cb68bdab9d53d3d05?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>The Sim</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39715"></div><p>I am getting an &#8220;error: interfaces may not copy or move&#8221; from the example compiler, when doing this: </p>
<pre class="brush: plain; title: ; notranslate" title="">Shape(const Shape&amp;) = delete;</pre>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-39714">
		<div id="div-comment-39714">
		<div class="cmtinfo"><em> on <a href="#comment-39714" title="">2017-07-26 at 10:36 am</a></em> <img alt='' src='https://1.gravatar.com/avatar/a523abedbce79d795117aad15b030a78?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>bm</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39714"></div><p>This looks really awesome and promising!  It looks like having metaclasses + concepts in C++ working together will give C++ the full typeclass feature from Haskell.  Based on my limited understanding of Haskell typeclasses, a typeclass allows for 1) interface to define a common set of behaviors, and 2) the ability to provide default implementation of some methods using other methods.  The first is fulfilled by concepts in C++. interfaces in Java, etc, but the second looks to be fulfilled by metaclasses.  So if my understanding of the paper is correct, then we define an Eq metaclass and an instance of it:</p>
<p>Eq Foo {<br />
  bool operator==(const Foo &amp;other) {<br />
    // &#8230;.<br />
  }<br />
}</p>
<p>When compiling, the Eq metaclass will use reflection to see that operator== is defined but operator!= is not, and thus automatically define operator!= to return &#8220;! operator==&#8221;.  (This is the behavior of Eq in Haskell).  Is this a correct usage of metaclass?</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-39713">
		<div id="div-comment-39713">
		<div class="cmtinfo"><em> on <a href="#comment-39713" title="">2017-07-26 at 8:08 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/362e148a10a5eacc072f5d98108e109d?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>Thomas McLeod</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_39713"></div><p>I have to say, wow, that paper is one of the more interesting proposals I&#8217;ve seen recently. Please next time put the abstract in your blog post. Some handheld devices do not handle PDFs well. You gave us one word &#8220;metaclasses&#8221; and asked that we read ten pages out of a paper. Not trying to be critical. But there is so much happening in the C++ world these days that it&#8217;s hard to keep up. I usually would not open a paper unless I have a good idea what it&#8217;s about beforehand.</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-f3c0ef3a6375dadde65b171cacae404a">
	</div>
	<div class="grofile-hash-map-1ba05be2d4979990e011365e0e23c58a">
	</div>
	<div class="grofile-hash-map-c0ba56bfd231f8f04feb057728975181">
	</div>
	<div class="grofile-hash-map-735d5e5fcd3d277281d374c910002cff">
	</div>
	<div class="grofile-hash-map-5518ba0dfb414dc65f7e17319625919f">
	</div>
	<div class="grofile-hash-map-b29618fb757e483120ae4936f23aeb36">
	</div>
	<div class="grofile-hash-map-6aa3fa5fc8328db9d6429e1511e1b593">
	</div>
	<div class="grofile-hash-map-9a1f53ac8c2b36e9fd2713a76a8a684c">
	</div>
	<div class="grofile-hash-map-eae96b302a26664e90e9594ef2fb87ce">
	</div>
	<div class="grofile-hash-map-92714c5dd36683d8260536595c803fc3">
	</div>
	<div class="grofile-hash-map-be2ad8c4d8ff3e745d83767c6ab1bd79">
	</div>
	<div class="grofile-hash-map-f7d2637cff4ec7eb8979845b7ca4efd4">
	</div>
	<div class="grofile-hash-map-dae1a88a8ce815a448134d7b2d10c69a">
	</div>
	<div class="grofile-hash-map-0899671f68c2b0e4731d807ae0f68be8">
	</div>
	<div class="grofile-hash-map-e5473ab8d88a2b08e95183805fba10ec">
	</div>
	<div class="grofile-hash-map-a0c15d12299c8ac9dd9a8e913c68a955">
	</div>
	<div class="grofile-hash-map-3ef5b308d33027fab8440d223828fe4c">
	</div>
	<div class="grofile-hash-map-be4df75f22e1985be20f84fedfabf454">
	</div>
	<div class="grofile-hash-map-bfdfd1a62be7829b73e27ca80af1c635">
	</div>
	<div class="grofile-hash-map-beee619022f0507cb7a8c735194e704d">
	</div>
	<div class="grofile-hash-map-f00bf8017d72662a58d9df7834b1d425">
	</div>
	<div class="grofile-hash-map-418a35526fec06e8f35423373b0b6bef">
	</div>
	<div class="grofile-hash-map-18d0bf49bbdc669688b8d3f79dd5a914">
	</div>
	<div class="grofile-hash-map-31cb5af5d276146912d0d6db8bb9e12c">
	</div>
	<div class="grofile-hash-map-accc02afb4d806a2baad04156e14372a">
	</div>
	<div class="grofile-hash-map-87c99c94a78281cd234aa57fded68d1e">
	</div>
	<div class="grofile-hash-map-f2d639be5b596b39a0039f12601b092c">
	</div>
	<div class="grofile-hash-map-dae1a88a8ce815a448134d7b2d10c69a">
	</div>
	<div class="grofile-hash-map-dd3ee80afb7e777359b3eaf8c724a642">
	</div>
	<div class="grofile-hash-map-878405ef25b8837f7d15b1b2dc0e8265">
	</div>
	<div class="grofile-hash-map-273c37e60fa7a2114937c5e22d61bf24">
	</div>
	<div class="grofile-hash-map-673eff0ea4d4542a4aca7a126ff40744">
	</div>
	<div class="grofile-hash-map-3bc0fb48d8849a9cbf2041c81fd3693f">
	</div>
	<div class="grofile-hash-map-510a1689ea6540725b3569bc2063e03c">
	</div>
	<div class="grofile-hash-map-95e2dcd7fb949c6ef074353e0e96f7cf">
	</div>
	<div class="grofile-hash-map-1f89cd6a94e4a1e5fea6767a78ba5a0c">
	</div>
	<div class="grofile-hash-map-41f167468c443444aae9193ea4e4b1b3">
	</div>
	<div class="grofile-hash-map-b496d1aa1d91d06225f25ec9492974c3">
	</div>
	<div class="grofile-hash-map-2e4e3e450ae63d8f78e4414f2925cdba">
	</div>
	<div class="grofile-hash-map-c6d1c46e2968a7674186b73b819dbca4">
	</div>
	<div class="grofile-hash-map-8f5e2e06376cc96b9df9b35c3d4845df">
	</div>
	<div class="grofile-hash-map-9f2f8ce1934c6def984a23d120a98107">
	</div>
	<div class="grofile-hash-map-ffee03ef6ffe2af2855edc142b24f92c">
	</div>
	<div class="grofile-hash-map-937b36681a56def2b41c438a00e12b46">
	</div>
	<div class="grofile-hash-map-cca1632b003092fb8ba614751c64a085">
	</div>
	<div class="grofile-hash-map-943840d2626e336cb68bdab9d53d3d05">
	</div>
	<div class="grofile-hash-map-a523abedbce79d795117aad15b030a78">
	</div>
	<div class="grofile-hash-map-362e148a10a5eacc072f5d98108e109d">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_40207={"id":468178,"unique_id":"wp-comment-40207","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20C%2B%2B%20a%20better%20language%2C%20and%20the%20last%20year%20he%20proposes%20the%20metaclasses%20feature.%20here%26%238217%3Bs%20from%20his%20post%20the%20motivation%20behind%20adding%20%26%23091%3B%26%238230%3B%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-40207","item_id":"_comm_40207"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40207 == 'undefined' ){PDRTJS_468178_comm_40207 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40207 );}}PDRTJS_settings_468178_comm_40106={"id":468178,"unique_id":"wp-comment-40106","title":"This%20looks%20great%21%20My%20only%20problem%20is%20understanding%20where%20the%20capabilities%20of%20metaclasses%20%28or%20maybe%20even%20metafunctions%29%20stop.%20Would%20all%20of%20the%20features%20below%20be%20possible%3F-%20generating%20serializer%20fu...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-40106","item_id":"_comm_40106"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40106 == 'undefined' ){PDRTJS_468178_comm_40106 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40106 );}}PDRTJS_settings_468178_comm_40048={"id":468178,"unique_id":"wp-comment-40048","title":"Thank%20you%20Herb%20for%20your%20reply.%20I%20see%20your%20point%2C%20however%20I%20still%20feel%20well%20be%20having%20conversations%20like%2C%20is%20that%20your%20interface%2C%20my%20interface%20or%20std%3A%3Ainterface%20%3A%29%29.%20The%20ability%20to%20be%20able%20to%20defi...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-40048","item_id":"_comm_40048"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40048 == 'undefined' ){PDRTJS_468178_comm_40048 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40048 );}}PDRTJS_settings_468178_comm_40047={"id":468178,"unique_id":"wp-comment-40047","title":"Sorry%20for%20the%20delay%20catching%20up%20to%20comments...%20I%20think%20this%20batch%20of%20replies%20brings%20me%20up%20to%20date...%40Paul%3A%20Right%2C%20the%20prototype%20compiler%20is%20still%20very%20incomplete%20and%20just%20does%20the%20first%20handful%20o...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-40047","item_id":"_comm_40047"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_40047 == 'undefined' ){PDRTJS_468178_comm_40047 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_40047 );}}PDRTJS_settings_468178_comm_39952={"id":468178,"unique_id":"wp-comment-39952","title":"Hi%2CI%20assisted%20your%20Qt%20Keynote%20this%20morning.%20I%20like%20the%20idea%20of%20metaclass%20a%20lot%2C%20especially%20in%20sense%20that%20it%20complements%20very%20well%20the%20notion%20of%20templates.Concerning%20the%20syntax%2C%20my%20first%20impressio...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39952","item_id":"_comm_39952"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39952 == 'undefined' ){PDRTJS_468178_comm_39952 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39952 );}}PDRTJS_settings_468178_comm_39912={"id":468178,"unique_id":"wp-comment-39912","title":"One%20idea%20to%20mitigate%20that%20could%20be%3A%20Apart%20from%20namespaces%20that%20can%20be%20used%20to%20scope%20them%2C%20all%20meta%20class%20names%20in%20any%20user%20library%20can%20be%20made%20to%20require%20to%20start%20with%20an%20_%20%28e.g%20_interface%29%2C%20exce...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39912","item_id":"_comm_39912"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39912 == 'undefined' ){PDRTJS_468178_comm_39912 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39912 );}}PDRTJS_settings_468178_comm_39909={"id":468178,"unique_id":"wp-comment-39909","title":"Hey%20Herb%2C%20I%20thoroughly%20enjoy%20your%20talks%20%28in%20video%20format%20on%20YouTube%29.%20I%26%23039%3Bm%20a%20full%20time%20C%23%20programmer%20and%20a%20part%20time%20C%2B%2B%20programmer%20%28mainly%20embedded%20systems%29%2C%20watching%20your%20C%2B%2B%20talks%20has%20essential...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39909","item_id":"_comm_39909"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39909 == 'undefined' ){PDRTJS_468178_comm_39909 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39909 );}}PDRTJS_settings_468178_comm_39904={"id":468178,"unique_id":"wp-comment-39904","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20CppCon%20talk%20yesterday%20is%20now%20on%20YouTube.You%20can%20read%20more%20about%20in%20my%20July%20blog%20post%20on%20%26%238220%3BMetaclasses%3A%20Thoughts%20on%20generative%20C%2B%2B%26%238221%3Bwhich%20contains%20links%20to%20the%20current%20paper%20an...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39904","item_id":"_comm_39904"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39904 == 'undefined' ){PDRTJS_468178_comm_39904 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39904 );}}PDRTJS_settings_468178_comm_39901={"id":468178,"unique_id":"wp-comment-39901","title":"How%20about%20using%20%60%60%24this%60%60%20instead%20of%20the%20name%20of%20metaclassor%20like%20this%3A%60%60%60constexpr%20class%20interface%20%7B%20%20%20%20constexpr%20%7B%20%20%20%20%20%20%20%20compiler.require%28%24this.variables%28%29.empty%28%29%2C%20%26quot%3Binterfaces%20may%20not%20contain...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39901","item_id":"_comm_39901"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39901 == 'undefined' ){PDRTJS_468178_comm_39901 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39901 );}}PDRTJS_settings_468178_comm_39894={"id":468178,"unique_id":"wp-comment-39894","title":"I%20absolutely%20love%20this%20proposal.%20%20When%20I%20was%20done%20reading%20it%2C%20I%20was%20left%20thinking%20that%20the%20only%20thing%20it%20needs%20is%20to%20be%20paired%20with%20a%20niladic%20function%20proposal%20like%20N1611%20%28Implicitly-Callable%20Fun...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39894","item_id":"_comm_39894"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39894 == 'undefined' ){PDRTJS_468178_comm_39894 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39894 );}}PDRTJS_settings_468178_comm_39832={"id":468178,"unique_id":"wp-comment-39832","title":"I%26%23039%3Bve%20watched%20your%20presentation%20just%20yesterday%2C%20without%20any%20knowledge%20of%20what%20it%20would%20be%20about.Beside%20my%20eyes%20shined%20even%20more%20at%20each%20new%20slide%2C%20it%26%23039%3Bs%20just%20like%20you%26%23039%3Bve%20answered%20all%20C%2B%2B%20issues%20wit...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39832","item_id":"_comm_39832"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39832 == 'undefined' ){PDRTJS_468178_comm_39832 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39832 );}}PDRTJS_settings_468178_comm_39829={"id":468178,"unique_id":"wp-comment-39829","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20full%20collection%20of%20links%20for%20further%20reading%20can%20be%20found%20in%20this%20blog%20post%20by%20Herb%20Sutter.%20And%20if%20you%20are%20looking%20for%20a%20short%20technical%20summary%20of%20Herbs%20proposal%2C%20check%20the%20blog%20post%20b...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39829","item_id":"_comm_39829"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39829 == 'undefined' ){PDRTJS_468178_comm_39829 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39829 );}}PDRTJS_settings_468178_comm_39828={"id":468178,"unique_id":"wp-comment-39828","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20full%20collection%20of%20links%20for%20further%20reading%20can%20be%20found%20in%20this%20blog%20post%20by%20Herb%20Sutter.%20And%20if%20you%20are%20looking%20for%20a%20short%20technical%20summary%20of%20Herbs%20proposal%2C%20check%20the%20blog%20post%20b...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39828","item_id":"_comm_39828"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39828 == 'undefined' ){PDRTJS_468178_comm_39828 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39828 );}}PDRTJS_settings_468178_comm_39827={"id":468178,"unique_id":"wp-comment-39827","title":"I%20am%20wondering%20though%2C%20how%20is%20clear%20implemented%3F%20Would%20this%20require%20a%20%26quot%3Bconstexpr%20vector%26quot%3B%20implementation%3F%20If%20so%2C%20how%20is%20the%20%26quot%3Bconstexpr%20vector%26quot%3B%20implemented%3F...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39827","item_id":"_comm_39827"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39827 == 'undefined' ){PDRTJS_468178_comm_39827 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39827 );}}PDRTJS_settings_468178_comm_39826={"id":468178,"unique_id":"wp-comment-39826","title":"Hey%2C%20I%20would%20like%20ask%20a%20few%20things%20about%20how%20this%20proposal%20and%20how%20it%20will%20progress%20in%20the%20future.I%20am%20currently%20checking%20out%20the%20cppx-compiler%20and%20it%20seems%20that%20with%20the%20current%20state%20of%20libcppx...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39826","item_id":"_comm_39826"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39826 == 'undefined' ){PDRTJS_468178_comm_39826 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39826 );}}PDRTJS_settings_468178_comm_39803={"id":468178,"unique_id":"wp-comment-39803","title":"This%20proposal%20is%20definitely%20on%20my%20reading%20lists.%20I%20hope%20I%20could%20attend%20your%20CppCon%202017%20talk%20this%20September%21...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39803","item_id":"_comm_39803"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39803 == 'undefined' ){PDRTJS_468178_comm_39803 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39803 );}}PDRTJS_settings_468178_comm_39801={"id":468178,"unique_id":"wp-comment-39801","title":"%40soulformachine%20Consider%20that%20a%20metaclass%20can%20compute%20anything%20that%20is%20reflectable%20and%20constexpr-computable%2C%20%28although%20the%20prototype%20currently%20only%20supports%20a%20small%20subset%20of%20that%29%20and%20all%20the%20ru...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39801","item_id":"_comm_39801"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39801 == 'undefined' ){PDRTJS_468178_comm_39801 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39801 );}}PDRTJS_settings_468178_comm_39799={"id":468178,"unique_id":"wp-comment-39799","title":"Isn%26%23039%3Bt%20the%20interface%20example%20which%20appears%20in%20the%20proposal%20and%20which%20is%20being%20discussed%20here%20a%20blatant%20violation%20of%20your%20own%20guidelines%20regarding%20the%20%26quot%3Bnon-virtual%20interface%20idiom%26quot%3B%20%28http%3A%2F%2Fwww.gotw...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39799","item_id":"_comm_39799"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39799 == 'undefined' ){PDRTJS_468178_comm_39799 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39799 );}}PDRTJS_settings_468178_comm_39798={"id":468178,"unique_id":"wp-comment-39798","title":"%40HerbSutter%3A%20I%20guess%20that%20would%20work%2C%20I%20like%20the%20fact%20that%20the%20details%20would%20be%20hidden%20away%20behind%20%24class%20interface%20and%20say%20%24class%20implementation%2C%20but%20what%20worries%20me%20is%20that%20this%20is%20just%20a%20way%20o...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39798","item_id":"_comm_39798"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39798 == 'undefined' ){PDRTJS_468178_comm_39798 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39798 );}}PDRTJS_settings_468178_comm_39795={"id":468178,"unique_id":"wp-comment-39795","title":"%40soulformachine%3A%20If%20you%20want%20such%20a%20system%2C%20you%20can%20use%20a%20metaclass%20for%20your%20derived%20classes%20that%20recognizes%20interfaces%20and%20inherits%20from%20them%20virtually%20by%20default.%20Would%20that%20address%20your%20concer...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39795","item_id":"_comm_39795"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39795 == 'undefined' ){PDRTJS_468178_comm_39795 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39795 );}}PDRTJS_settings_468178_comm_39794={"id":468178,"unique_id":"wp-comment-39794","title":"%40Alex%3AYou%20wrote%3A%20%26quot%3BI%20dont%20like%20resulting%20property%20metaclass%20because%20we%20express%20similar%20things%20%28property%20attributes%20like%20type%2C%20name%2C%20getter%2C%20setter%2C%20scriptable%20etc%29%20using%20very%20different%20C%2B%2B%20constru...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39794","item_id":"_comm_39794"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39794 == 'undefined' ){PDRTJS_468178_comm_39794 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39794 );}}PDRTJS_settings_468178_comm_39791={"id":468178,"unique_id":"wp-comment-39791","title":"I%20know%20that%20it%20has%20been%20said%20that%20these%20features%20will%20not%20make%20it%20into%20C%2B%2B20%2C%20but%20we%20do%20have%20a%20Clang%20version%20that%20implements%20some%20of%20it.%20When%20could%20we%20expect%20Visual%20C%2B%2B%20to%20have%20it%3F...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39791","item_id":"_comm_39791"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39791 == 'undefined' ){PDRTJS_468178_comm_39791 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39791 );}}PDRTJS_settings_468178_comm_39786={"id":468178,"unique_id":"wp-comment-39786","title":"Consider%20this%20case%20with%20a%20hierarchy%20of%20interfaces%20and%20implementation%20classes%3A%26%23091%3Bcode%26%23093%3Binterface%20IA%20%7B%20%20%20%20void%20foo%28%29%3B%7D%3Binterface%20IB%20%3A%20IA%20%7B%20%20%20%20void%20bar%28%29%3B%7D%3Bclass%20A%20%3A%20public%20IA%20%7Bpublic%3A%20%20%20%20void%20foo%28%29%20ov...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39786","item_id":"_comm_39786"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39786 == 'undefined' ){PDRTJS_468178_comm_39786 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39786 );}}PDRTJS_settings_468178_comm_39785={"id":468178,"unique_id":"wp-comment-39785","title":"You%20didnt%20say%20anything%20about%20namespacing%2C%20it%20probably%20better%20be%20smth%20like%20std%3A%3Ainterface%20etc%20which%20looks%20less%20nice...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39785","item_id":"_comm_39785"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39785 == 'undefined' ){PDRTJS_468178_comm_39785 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39785 );}}PDRTJS_settings_468178_comm_39784={"id":468178,"unique_id":"wp-comment-39784","title":"Note%2C%20that%20its%20hard%20to%20get%20the%20difference%20between%20creating%20a%20class%20and%20creating%20a%20member%20%28its%20actually%20specific%20to%20the%20previous%20definitions%29vector%20x%7B%7Dvsproperty%20y%7B%7D...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39784","item_id":"_comm_39784"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39784 == 'undefined' ){PDRTJS_468178_comm_39784 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39784 );}}PDRTJS_settings_468178_comm_39781={"id":468178,"unique_id":"wp-comment-39781","title":"While%20this%20might%20reduce%20amount%20of%20macros%2Fboilerplate%20used%20to%20generate%20some%20classes%2C%20my%20overall%20impression%20of%20defining%20%26quot%3Binterface%26quot%3B%20and%20alike%20is%20basically%20this%3A%26%23091%3Bcode%26%23093%3B%23define%20BEGIN%20%7B%23define%20END%20%7D%26%23091%3B%2Fc...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39781","item_id":"_comm_39781"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39781 == 'undefined' ){PDRTJS_468178_comm_39781 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39781 );}}PDRTJS_settings_468178_comm_39779={"id":468178,"unique_id":"wp-comment-39779","title":"Herb%2C%20it%26%23039%3Bs%20a%20really%20cool%20proposal%21%20We%20can%20then%20create%20DSLs%20as%20we%20like%2C%20implemented%20as%20a%20standard%20c%2B%2B%20library%21%21Would%20it%20be%20possible%20to%20implement%20features%20like%20memory%20safety%2C%20thread%20safety%20equivale...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39779","item_id":"_comm_39779"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39779 == 'undefined' ){PDRTJS_468178_comm_39779 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39779 );}}PDRTJS_settings_468178_comm_39775={"id":468178,"unique_id":"wp-comment-39775","title":"I%26%23039%3Bm%20seeing%20your%20example%20of%20properties.Some%20notes%3A1.%20You%20wrote%3AThis%20metaclass%20implements%20the%20following%20requirements%20and%20defaults%3A%20Each%20functions%20name%20must%20begin%20with%20get%20or%20set.%20T%20must%20be%20copyable...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39775","item_id":"_comm_39775"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39775 == 'undefined' ){PDRTJS_468178_comm_39775 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39775 );}}PDRTJS_settings_468178_comm_39774={"id":468178,"unique_id":"wp-comment-39774","title":"Here%26%23039%3Bs%20an%20idea%2C%20define%20a%20meta-class%3A%26quot%3Bfake%26quot%3B%3A%20all%20functions%20from%20inherited%20classes%20%2Freturn%20default%20values%2Fare%20erased%28compile%20time%20error%20when%20called%29%2F...%2F%26quot%3Bmock%26quot%3B%3A%20%2F...%2F%26quot%3Btest-fixture%26quot%3B%3A%20%2F...%2F%26quot%3Btests%26quot%3B%3A%20%2F...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39774","item_id":"_comm_39774"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39774 == 'undefined' ){PDRTJS_468178_comm_39774 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39774 );}}PDRTJS_settings_468178_comm_39772={"id":468178,"unique_id":"wp-comment-39772","title":"%40kpfleming%3A%20The%20original%20intention%20when%20that%20code%20was%20written%20before%20constexpr%20blocks%20was%20that%20they%20be%20visible%2C%20yes.%20However%20now%20those%20variables%20should%20be%20injected%20into%20the%20class%2C%20or%20the%20constexp...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39772","item_id":"_comm_39772"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39772 == 'undefined' ){PDRTJS_468178_comm_39772 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39772 );}}PDRTJS_settings_468178_comm_39771={"id":468178,"unique_id":"wp-comment-39771","title":"%26%23091%3B%26%238230%3B%26%23093%3B%20Sutter%20put%20out%20a%20real%20teaser%20about%20upcoming%20metaprogramming%20abilities%20in%20%26%23091%3B%26%238230%3B%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39771","item_id":"_comm_39771"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39771 == 'undefined' ){PDRTJS_468178_comm_39771 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39771 );}}PDRTJS_settings_468178_comm_39769={"id":468178,"unique_id":"wp-comment-39769","title":"Commenting%20on%20%26quot%3BC%2B%2B%20Core%20Guidelines%26quot%3B%20where%20it%20says%3A%20%26quot%3BNote%20Capitalize%20the%20names%20of%20your%20user-defined%20types%20to%20distinguish%20them%20from%20standards-library%20types.%26quot%3B%20-%20You%20guys%20are%20%26%23039%3Bhypocrites%26%23039%3B%21%21%21%20You%20reco...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39769","item_id":"_comm_39769"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39769 == 'undefined' ){PDRTJS_468178_comm_39769 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39769 );}}PDRTJS_settings_468178_comm_39767={"id":468178,"unique_id":"wp-comment-39767","title":"While%20I%20like%20the%20direction%20this%20is%20going%2C%20I%20think%20that%20that%20there%20is%20a%20bit%20of%20a%20mix-up%20between%20concepts%20and%20transformations%20in%20here.%20This%20can%20be%20seen%20in%20the%20definition%20of%20.is%20which%20assumes%20that%20t...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39767","item_id":"_comm_39767"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39767 == 'undefined' ){PDRTJS_468178_comm_39767 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39767 );}}PDRTJS_settings_468178_comm_39766={"id":468178,"unique_id":"wp-comment-39766","title":"I%20missed%20the%20code%20that%20defines%20property.%20In%20particular%2C%20I%20would%20be%20interested%20in%20the%20part%20that%20creates%20%26%23091%3Bcode%26%23093%3B%20T%20get_xxx%28%29%20%7B%20return%20value%3B%20%7D%26%23091%3B%2Fcode%26%23093%3BIs%20that%20code%20available%20somewhere%3F%20It%20requires%20con...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39766","item_id":"_comm_39766"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39766 == 'undefined' ){PDRTJS_468178_comm_39766 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39766 );}}PDRTJS_settings_468178_comm_39765={"id":468178,"unique_id":"wp-comment-39765","title":"A%20question%20regarding%20the%20basic_enum%20to_string%20example%3AI%26%23039%3Bm%20assuming%20that%20a%20flag_enum%20instance%20%28class%3F%29%20would%20match%20the%20function%20-%20since%20a%20flag_enum%20can%20have%20values%20that%20aren%26%23039%3Bt%20part%20of%20the%20enum%20its...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39765","item_id":"_comm_39765"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39765 == 'undefined' ){PDRTJS_468178_comm_39765 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39765 );}}PDRTJS_settings_468178_comm_39763={"id":468178,"unique_id":"wp-comment-39763","title":"About%20properties.%20While%20metaclasses%20can%20generate%20ordinary%20methods%20from%20property%20declarations%2C%20what%20about%20caller%20side%3F%20Does%20user%20of%20the%20class%20have%20to%20use%20generated%20methods%20instead%20of%20property%20name...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39763","item_id":"_comm_39763"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39763 == 'undefined' ){PDRTJS_468178_comm_39763 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39763 );}}PDRTJS_settings_468178_comm_39762={"id":468178,"unique_id":"wp-comment-39762","title":"void%20foo%28interface%20arg%29...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39762","item_id":"_comm_39762"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39762 == 'undefined' ){PDRTJS_468178_comm_39762 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39762 );}}PDRTJS_settings_468178_comm_39761={"id":468178,"unique_id":"wp-comment-39761","title":"This%20almost%20seems%20like%20it%20could%20be%20used%20instead%20of%20concepts.%20At%20first%20I%20was%20thinking%20of%20it%20as%20concepts%20specify%20requirements%20on%20a%20type%2C%20and%20a%20metaclass%20modifies%20a%20type%20to%20make%20it%20adhere%20to%20a%20conce...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39761","item_id":"_comm_39761"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39761 == 'undefined' ){PDRTJS_468178_comm_39761 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39761 );}}PDRTJS_settings_468178_comm_39759={"id":468178,"unique_id":"wp-comment-39759","title":"Amazing.%20I%20hope%20it%20will%20get%20to%20c%2B%2B23%2C%20it%20would%20be%20so%20nice%20to%20use%20with%20concepts.%20And%20I%26%23039%3Bll%20finally%20be%20able%20to%20compute%20semicomplex%20stuff%20without%20workarounds%20in%20those%20%26%23091%3Bcode%26%23093%3Bconstexpr%26%23091%3B%2Fcode%26%23093%3B%20blocks.%20%26amp%3B...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39759","item_id":"_comm_39759"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39759 == 'undefined' ){PDRTJS_468178_comm_39759 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39759 );}}PDRTJS_settings_468178_comm_39757={"id":468178,"unique_id":"wp-comment-39757","title":"Question%3A%20throughout%20the%20example%20implementations%2C%20there%20are%20variables%20defined%20to%20do%20calculations%20during%20the%20constexpr%20code%20evaluation%20%28compute%20the%20number%20of%20objects%2C%20etc.%29%20Some%20of%20these%20variables...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39757","item_id":"_comm_39757"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39757 == 'undefined' ){PDRTJS_468178_comm_39757 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39757 );}}PDRTJS_settings_468178_comm_39756={"id":468178,"unique_id":"wp-comment-39756","title":"%40Martin%3A%20Yes%2C%20that%26%23039%3Bs%20the%20direction%20we%26%23039%3Bre%20exploring.%20The%20current%20paper%20doesn%26%23039%3Bt%20mention%20it%20but%20the%20current%20design%20and%20compiler%20already%20allows%20constexpr%20%7B%20%7D%20compile-time%20code%20blocks%20in%20regular%20class...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39756","item_id":"_comm_39756"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39756 == 'undefined' ){PDRTJS_468178_comm_39756 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39756 );}}PDRTJS_settings_468178_comm_39755={"id":468178,"unique_id":"wp-comment-39755","title":"Great%20work%21%20There%20is%20definetly%20no%20reason%20not%20to%20push%20as%20hard%20as%20possible%20to%20make%20this%20go%20into%20c%2B%2B20Is%20there%20a%20timeplan%20when%20this%20might%20become%20an%20TS%3F...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39755","item_id":"_comm_39755"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39755 == 'undefined' ){PDRTJS_468178_comm_39755 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39755 );}}PDRTJS_settings_468178_comm_39754={"id":468178,"unique_id":"wp-comment-39754","title":"Also%20in%20java%20you%20can%20chain%20these%20code%20generations%20...%20therefore%20i%20wouldnt%20put%20it%20into%20a%20new%20block%20%20ut%20rather%20have%20it%20ordinarry%20code%20that%20gets%20chained......","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39754","item_id":"_comm_39754"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39754 == 'undefined' ){PDRTJS_468178_comm_39754 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39754 );}}PDRTJS_settings_468178_comm_39753={"id":468178,"unique_id":"wp-comment-39753","title":"I%20know%20that%20C%2B%2B%20is%20sometimes%20considered%20an%20%26quot%3Bexpert%26%23039%3Bs%20language%26quot%3B%2C%20and%20that%20this%20feature%20renforces%20that%20consideration%2C%20but%20it%20also%20opens%20the%20door%20for%20expert%20senior%20programmers%20to%20give%20themselves%20and...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39753","item_id":"_comm_39753"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39753 == 'undefined' ){PDRTJS_468178_comm_39753 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39753 );}}PDRTJS_settings_468178_comm_39752={"id":468178,"unique_id":"wp-comment-39752","title":"To%20be%20more%20constructive.%20I%20would%20be%20happier%20if%20you%20didnt%20introduce%20new%20syntax.%20Why%20cant%20we%20have%20a%20special%20code%20block%20costexpr%20and%20inside%20regular%20c%2B%2B.%20The%20reflection%20can%20be%20stored%20in%20some%20well%20kno...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39752","item_id":"_comm_39752"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39752 == 'undefined' ){PDRTJS_468178_comm_39752 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39752 );}}PDRTJS_settings_468178_comm_39751={"id":468178,"unique_id":"wp-comment-39751","title":"%24%20operator%20syntax%20overlaps%20sigil%20from%20PERL%20for%20strings.%20As%20this%20can%20improvise%20WRL%20like%20COM%20dialects%20radically%2C%20when%20using%20%2Fstd%3Alatest%20flag%20VC%2B%2B%20UWP%20developers%20must%20get%20this%20ASAP.%20This%20must%20be%20tec...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39751","item_id":"_comm_39751"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39751 == 'undefined' ){PDRTJS_468178_comm_39751 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39751 );}}PDRTJS_settings_468178_comm_39750={"id":468178,"unique_id":"wp-comment-39750","title":"I%20appreciate%20that%20it%20is%20probably%20too%20early%20to%20tell%2C%20but%20what%20chance%20do%20you%20think%20that%20some%20form%20of%20metaclasses%20will%20be%20in%20C%2B%2B20%3F...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39750","item_id":"_comm_39750"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39750 == 'undefined' ){PDRTJS_468178_comm_39750 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39750 );}}PDRTJS_settings_468178_comm_39749={"id":468178,"unique_id":"wp-comment-39749","title":"There%20has%20been%20quite%20a%20lot%20of%20C%2B%2B%20proposal%20where%20I%20have%20been%20wondering%20where%20I%20could%20apply%20them.Concepts%2C%20ok%20it%20will%20help%20but%20not%20sure%20how%20often.%20Modules%20yes%20I%20can%20see%20how%20that%20would%20help%20too.But...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39749","item_id":"_comm_39749"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39749 == 'undefined' ){PDRTJS_468178_comm_39749 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39749 );}}PDRTJS_settings_468178_comm_39748={"id":468178,"unique_id":"wp-comment-39748","title":"Very%20interesting%20way%20to%20extend%20the%20%26%23039%3Blanguage%26%23039%3B.%20It%20could%20encourage%20better%20implementations%2C%20but%20the%20flip%20side%20is%20you%20would%26%23039%3Bve%20given%20people%20a%20bigger%20shotgun%20to%20shoot%20themselves%20in%20the%20foot.Would%20you...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39748","item_id":"_comm_39748"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39748 == 'undefined' ){PDRTJS_468178_comm_39748 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39748 );}}PDRTJS_settings_468178_comm_39747={"id":468178,"unique_id":"wp-comment-39747","title":"I%26%23039%3Bve%20found%20the%20metaclasses%20%28and%20surrounding%20compile%20time%20programming%29%20talks%20very%20interesting.%20I%20think%20this%20feature%20will%20likely%20be%20overused%20tremendously%20to%20start%20with%20and%20eventually%20we%20will%20settle...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39747","item_id":"_comm_39747"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39747 == 'undefined' ){PDRTJS_468178_comm_39747 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39747 );}}PDRTJS_settings_468178_comm_39746={"id":468178,"unique_id":"wp-comment-39746","title":"The%20other%20%26quot%3Bobvious%26quot%3B%20candidate%20would%20be%20the%20%20sign.%20As%20a%20law%20or%20regulation%20is%20something%20akin%20to%20a%20specification%20-%20which%20metaclasses%20essentially%20are....","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39746","item_id":"_comm_39746"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39746 == 'undefined' ){PDRTJS_468178_comm_39746 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39746 );}}PDRTJS_settings_468178_comm_39745={"id":468178,"unique_id":"wp-comment-39745","title":"Regarding%20the%20use%20of%20the%20%24%20sign.%20Maybe%20a%20good%20alternative%20is%20the%20%20symbol%20-%20though%20I%20am%20not%20sure%20if%20the%20symbol%20is%20readily%20available%20on%20non-EU%20keyboards.%20The%20%20sign%20looks%20a%20bit%20like%20a%20C%20%28class%29%20that...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39745","item_id":"_comm_39745"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39745 == 'undefined' ){PDRTJS_468178_comm_39745 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39745 );}}PDRTJS_settings_468178_comm_39744={"id":468178,"unique_id":"wp-comment-39744","title":"Very%20nice.%20I%20have%20use%20case%20in%20mind%3AIn%20VTK%20%28a%203D%20visualisation%20toolkit%29%2C%20objects%20have%20a%20last%20modification%20timestamp%2C%20that%20the%20setters%20update%20whenever%20the%20new%20value%20differs%20from%20the%20old%20one.%20As%20of%20...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39744","item_id":"_comm_39744"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39744 == 'undefined' ){PDRTJS_468178_comm_39744 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39744 );}}PDRTJS_settings_468178_comm_39742={"id":468178,"unique_id":"wp-comment-39742","title":"I%20just%20watched%20the%20first%2020%20minutes%20of%20the%20video%20and%20%26quot%3Bparticipated%26quot%3B.%20Programming%20experience%20is%2015%2B%20years.%20My%20reactions%20to%20the%20three%20slides%20can%20be%20summarized%20as%20follows%3AI%26%23039%3Bm%20really%20of%20two%20minds%20abo...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39742","item_id":"_comm_39742"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39742 == 'undefined' ){PDRTJS_468178_comm_39742 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39742 );}}PDRTJS_settings_468178_comm_39739={"id":468178,"unique_id":"wp-comment-39739","title":"Removing%20the%20need%20for%20side%20compilers%20is%20the%20single%20greatest%20thing%20that%20could%20be%20done%20for%20C%2B%2B.%20This%20proposal%2C%20and%20the%20proposals%20on%20which%20it%20depends%2C%20seems%20to%20remove%20that%20need%20nicely....","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39739","item_id":"_comm_39739"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39739 == 'undefined' ){PDRTJS_468178_comm_39739 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39739 );}}PDRTJS_settings_468178_comm_39737={"id":468178,"unique_id":"wp-comment-39737","title":"%40Alex%2C%20this%20is%20an%20interesting%20suggestion%3A%26gt%3B%20property%20declaration%20looks%20a%20bit%20strange%20with%20redundant%20curly%20braces.%20I%20understand%20that%20you%20are%20trying%20to%20stay%20within%20C%2B%2B%20syntax%20hereFirst%2C%20my%20usual%20...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39737","item_id":"_comm_39737"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39737 == 'undefined' ){PDRTJS_468178_comm_39737 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39737 );}}PDRTJS_settings_468178_comm_39736={"id":468178,"unique_id":"wp-comment-39736","title":"%40Adrien%3A%20Note%20that%20a%20metaclass%20is%20to%20specify%20a%20group%20of%20types%20having%20common%20characteristics%2C%20and%20simplify%20writing%20such%20a%20type%2C%20using%20generative%20code%20to%20automate%2Fenforce%20the%20boring%2Frequired%20parts....","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39736","item_id":"_comm_39736"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39736 == 'undefined' ){PDRTJS_468178_comm_39736 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39736 );}}PDRTJS_settings_468178_comm_39735={"id":468178,"unique_id":"wp-comment-39735","title":"%28Sorry%20a%20couple%20of%20the%20comments%20were%20delayed%2C%20I%20just%20noticed%20they%20were%20trapped%20in%20the%20spam%20filter.%20Fixed.%29...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39735","item_id":"_comm_39735"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39735 == 'undefined' ){PDRTJS_468178_comm_39735 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39735 );}}PDRTJS_settings_468178_comm_39734={"id":468178,"unique_id":"wp-comment-39734","title":"%40Tyler%3A%20Ah%2C%20I%20think%20that%20static_assert%20%28and%20the%20others%20in%20the%20file%29%20are%20bugs.%20I%26%23039%3Bll%20open%20an%20issue...%20Thanks%21Also%2C%20yes%20there%20will%20be%20a%20way%20%28but%20not%20yet%20in%20this%20compiler%29%20to%20apply%20several%20metaclasse...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39734","item_id":"_comm_39734"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39734 == 'undefined' ){PDRTJS_468178_comm_39734 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39734 );}}PDRTJS_settings_468178_comm_39733={"id":468178,"unique_id":"wp-comment-39733","title":"%40Bender%3A%20I%20approved%20your%20new%20comment%20above%2C%20thank%20you%20for%20not%20including%20NSFW%20material%20this%20time.%20I%20don%26%23039%3Bt%20mind%20contrary%20opinions%20if%20they%26%23039%3Bre%20reasonably%20professional%2C%20and%20not%20just%20trolling%2Fabusive%2FN...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39733","item_id":"_comm_39733"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39733 == 'undefined' ){PDRTJS_468178_comm_39733 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39733 );}}PDRTJS_settings_468178_comm_39732={"id":468178,"unique_id":"wp-comment-39732","title":"This%20looks%20like%20an%20upolished%20version%20of%20Template%20Haskell%20%2F%20Rust%20Macros.In%20both%20case%2C%20you%20can%20directly%20inject%20AST%20stubs%20where%20the%20meta%20calls%20are.You%20might%20want%20to%20look%20at%20it....","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39732","item_id":"_comm_39732"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39732 == 'undefined' ){PDRTJS_468178_comm_39732 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39732 );}}PDRTJS_settings_468178_comm_39731={"id":468178,"unique_id":"wp-comment-39731","title":"It%20think%20there%20is%20a%20mistake%20in%20the%20fourth%20code%20example.Instead%20of%26%23091%3Bcode%26%23093%3Bcompiler.require%28f.is_public%28%29%20%7C%7C%20%21f.is_virtual%28%29%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26quot%3Ba%20plain_struct%20function%20must%20be%20public%20...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39731","item_id":"_comm_39731"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39731 == 'undefined' ){PDRTJS_468178_comm_39731 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39731 );}}PDRTJS_settings_468178_comm_39730={"id":468178,"unique_id":"wp-comment-39730","title":"I%20could%20not%20enforce%20the%20%26quot%3Binterfaces%20must%20only%20inherit%20from%20other%20interfaces%26quot%3B%20rule.%20Is%20there%20any%20way%20to%20find%20out%20the%20meta%20type%20of%20a%20type%3FI%20tried%20implement%20a%20lighter%20version%3A%20verify%20if%20the%20base%20cla...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39730","item_id":"_comm_39730"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39730 == 'undefined' ){PDRTJS_468178_comm_39730 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39730 );}}PDRTJS_settings_468178_comm_39729={"id":468178,"unique_id":"wp-comment-39729","title":"Herb%2C%20nice%20of%20you%20to%20delete%20my%20comment%2C%20you%20can%20pretend%20that%20everybody%20loves%20your%20awful%20design%20that%20way...You%20can%20even%20claim%20at%20the%20ISO%20meetings%20that%20everybody%20you%20talked%20to%20loved%20it%2C%20like%20you%20pr...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39729","item_id":"_comm_39729"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39729 == 'undefined' ){PDRTJS_468178_comm_39729 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39729 );}}PDRTJS_settings_468178_comm_39728={"id":468178,"unique_id":"wp-comment-39728","title":"Since%20I%20see%20only%20one%20existing%20non-fully-enthusiastic%20comment%2C%20I%26%23039%3Bll%20add%20my%202c.%20We%20don%26%23039%3Bt%20need%20yet%20another%20sub-language%20tacked%20onto%20the%20existing%20one.%20Just%20like%20Microsoft%20Windows%20is%20heading%20towards%20o...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39728","item_id":"_comm_39728"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39728 == 'undefined' ){PDRTJS_468178_comm_39728 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39728 );}}PDRTJS_settings_468178_comm_39727={"id":468178,"unique_id":"wp-comment-39727","title":"That%20is%20what%20I%20would%20like.%20However%2C%20this%20language%20is%20becoming%20such%20a%20huge%20mess%20of%20so%20many%20keywords%20and%20ways%20of%20writing%20stuff%20that%20I%20would%20just%20be%20happy%20if%20there%20was%20a%20new%20language%20that%20would%20brea...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39727","item_id":"_comm_39727"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39727 == 'undefined' ){PDRTJS_468178_comm_39727 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39727 );}}PDRTJS_settings_468178_comm_39726={"id":468178,"unique_id":"wp-comment-39726","title":"VERY%20NICE%20SIR...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39726","item_id":"_comm_39726"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39726 == 'undefined' ){PDRTJS_468178_comm_39726 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39726 );}}PDRTJS_settings_468178_comm_39725={"id":468178,"unique_id":"wp-comment-39725","title":"gonna%20try%20that%20code%20block%20again%26%23091%3Bcode%26%23093%3Bboth%20foo%20%3A%20some_interface%20%7B%20%20%20%20int%20x%2Cy%3B%20%20%20%20void%20some_function%28%29%20override%20%7B%7D%7D%3B%26%23091%3B%2Fcode%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39725","item_id":"_comm_39725"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39725 == 'undefined' ){PDRTJS_468178_comm_39725 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39725 );}}PDRTJS_settings_468178_comm_39724={"id":468178,"unique_id":"wp-comment-39724","title":"%40Herb%20I%20tried%20changing%20the%20compiler.require%20clause%20to%3A%20%28%21f.is_copy%28%29%20%26amp%3B%26amp%3B%20%21f.is_move%28%29%29%20%7C%7C%20f.is_deleted%28%29%2C%20but%20i%20hit%20a%20static_assert%20on%20line%20690%20of%20meta%3Astatic_assert%28is_defined%28%29%29%3BI%26%23039%3Bd%20gues...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39724","item_id":"_comm_39724"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39724 == 'undefined' ){PDRTJS_468178_comm_39724 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39724 );}}PDRTJS_settings_468178_comm_39723={"id":468178,"unique_id":"wp-comment-39723","title":"%28Sorry%20everyone%20for%20the%20NSFW%20comment%2C%20that%26%23039%3Bs%20not%20welcome%20here%2C%20comment%20deleted.%29%40Thomas%3A%20Good%20point%2C%20I%20probably%20should%20have%20included%20the%20abstract%20in%20the%20post.%40bm%3A%20Yes%2C%20you%20could%20do%20that.%20See%20also...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39723","item_id":"_comm_39723"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39723 == 'undefined' ){PDRTJS_468178_comm_39723 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39723 );}}PDRTJS_settings_468178_comm_39722={"id":468178,"unique_id":"wp-comment-39722","title":"Something%26%23039%3Bs%20not%20quite%20right%20about%20the%20plain_struct%20example.%20%20It%20would%20seem%2C%20based%20on%20comments%2C%20that%20I%20should%20be%20able%20to%20stick%20a%20public%2C%20non-virtual%20function%20in%20group_o_things%20and%20I%20can%26%23039%3Bt.%20%20Attemp...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39722","item_id":"_comm_39722"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39722 == 'undefined' ){PDRTJS_468178_comm_39722 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39722 );}}PDRTJS_settings_468178_comm_39720={"id":468178,"unique_id":"wp-comment-39720","title":"Also%2C%20on%20my%20opinion%2C%20property%20declaration%20looks%20a%20bit%20strange%20with%20redundant%20curly%20braces.%20I%20understand%20that%20you%20are%20trying%20to%20stay%20within%20C%2B%2B%20syntax%20here.And%20to%20be%20complete%2C%20%24interface%20could%20be%20...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39720","item_id":"_comm_39720"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39720 == 'undefined' ){PDRTJS_468178_comm_39720 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39720 );}}PDRTJS_settings_468178_comm_39719={"id":468178,"unique_id":"wp-comment-39719","title":"I%20agree%20this%20feature%20will%20rock%21I%20only%20wondering%20if%20we%20could%20express%20object%20hierarchies%20using%20this%20feature%2C%20especially%20for%20GUI%20where%20hierarchies%20of%20widgets%20is%20essential%20part%20of%20the%20code.Something%20...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39719","item_id":"_comm_39719"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39719 == 'undefined' ){PDRTJS_468178_comm_39719 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39719 );}}PDRTJS_settings_468178_comm_39718={"id":468178,"unique_id":"wp-comment-39718","title":"This%20is%20truly%20amazing%20work.%20It%20will%20need%20some%20time%20getting%20used%20to%20it%2C%20as%20the%20change%20is%20quite%20fundamental%2C%20but%20it%20shows%20a%20lot%20of%20promises.If%20it%20is%20integrated%20in%20the%20standard%2C%20we%20will%20really%20be%20ab...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39718","item_id":"_comm_39718"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39718 == 'undefined' ){PDRTJS_468178_comm_39718 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39718 );}}PDRTJS_settings_468178_comm_39716={"id":468178,"unique_id":"wp-comment-39716","title":"this%20is%20really%20awesome%20stuff%21...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39716","item_id":"_comm_39716"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39716 == 'undefined' ){PDRTJS_468178_comm_39716 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39716 );}}PDRTJS_settings_468178_comm_39715={"id":468178,"unique_id":"wp-comment-39715","title":"I%20am%20getting%20an%20%26quot%3Berror%3A%20interfaces%20may%20not%20copy%20or%20move%26quot%3B%20from%20the%20example%20compiler%2C%20when%20doing%20this%3A%20%26%23091%3Bcode%26%23093%3BShape%28const%20Shape%26amp%3B%29%20%3D%20delete%3B%26%23091%3B%2Fcode%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39715","item_id":"_comm_39715"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39715 == 'undefined' ){PDRTJS_468178_comm_39715 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39715 );}}PDRTJS_settings_468178_comm_39714={"id":468178,"unique_id":"wp-comment-39714","title":"This%20looks%20really%20awesome%20and%20promising%21%20%20It%20looks%20like%20having%20metaclasses%20%2B%20concepts%20in%20C%2B%2B%20working%20together%20will%20give%20C%2B%2B%20the%20full%20typeclass%20feature%20from%20Haskell.%20%20Based%20on%20my%20limited%20understan...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39714","item_id":"_comm_39714"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39714 == 'undefined' ){PDRTJS_468178_comm_39714 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39714 );}}PDRTJS_settings_468178_comm_39713={"id":468178,"unique_id":"wp-comment-39713","title":"I%20have%20to%20say%2C%20wow%2C%20that%20paper%20is%20one%20of%20the%20more%20interesting%20proposals%20I%26%23039%3Bve%20seen%20recently.%20Please%20next%20time%20put%20the%20abstract%20in%20your%20blog%20post.%20Some%20handheld%20devices%20do%20not%20handle%20PDFs%20well.%20You...","permalink":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/#comment-39713","item_id":"_comm_39713"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_39713 == 'undefined' ){PDRTJS_468178_comm_39713 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_39713 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKiotzgjISczMAxpon2traGJkZGxiZGhskgUAFHlAaw=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2017\/07\/26\/metaclasses-thoughts-on-generative-c\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F","postID":"3292","shortlink":"https:\/\/wp.me\/peb5Y-R6","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/3292","statsLink":"https:\/\/wordpress.com\/stats\/post\/3292\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2017%2F07%2F26%2Fmetaclasses-thoughts-on-generative-c%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'3292','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sbVA1aEU1L0xnSXBRYkdYP2syVFJfblNQL0pKUHJxVEdLflpYZlR8d0ZWL2dTd0lPZ0JNcy5QX1JhdW1ZdHNMW0Jbd1R1NnVaUC1hU1pycT1LU3E3bHxxQnZ4NlY/X2M5bSY5VGkzOHlbVFp1VnRJSzRKRz89P21NRGFiRHl8aHxRTXxweFt2VHVYSDV0MnBKUFdVWjZDMXBGNkYzb1dZSV9vLi05d2s4WTU2LUlGVGEvTiVjXUYrUT9YbEI1M1FDVDBNU2RyNA=='}]);
_stq.push([ 'clickTrackerInit', '3379246', '3292' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>
<!--
	generated in 0.268 seconds
	202221 bytes batcached for 300 seconds
-->
