<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Questions About Exception Specifications | Sutter’s Mill</title>
<link rel="pingback" href="https://herbsutter.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"typekit":{"id":"eyo0tqd"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active #header h1{font-size:2.12em;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active body{font-size:89.7%;font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation{font-family:"ff-basic-gothic-web-pro-1","ff-basic-gothic-web-pro-2",sans-serif}.wf-active #navigation ul li.search{font-size:1.06em}.wf-active #navigation ul li.search input#searchsubmit{font-size:1.06em}.wf-active #content .post-info, .wf-active #content .postmetadata{font-size:1.06em}.wf-active #sidebar{font-size:1.06em}.wf-active #footer p.right{font-size:1.06em}.wf-active .commentnum{font-size:1.77em}.wf-active .commentlist li .cmtinfo{font-size:1.18em}.wf-active .commentlist li .cmtinfo em{font-size:1.06em}.wf-active #respond label{font-size:11.8px}.wf-active #respond .required{font-size:11.8px}.wf-active #respond .subscribe-label{font-size:14.2px}.wf-active #respond .comment-notes{font-size:13px}.wf-active .wp-caption p.wp-caption-text{font-size:13px}.wf-active #content h1, .wf-active h2, .wf-active h3, .wf-active h4, .wf-active h5, .wf-active h6{font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal;font-weight:400}.wf-active #header h2{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active #content h3{font-size:1.65em;font-weight:400;font-style:normal}.wf-active #content h4{font-size:1.3em;font-style:normal;font-weight:400}.wf-active #content h5{font-size:1.18em;font-style:normal;font-weight:400}.wf-active #content .post h2{font-size:1.65em;font-weight:400;font-style:normal}.wf-active li.sidebox h2{font-weight:400;font-size:1.89em;font-style:normal}.wf-active .post h4{font-size:1.18em;font-weight:400;font-family:"ff-dagny-web-pro-1","ff-dagny-web-pro-2",sans-serif;font-style:normal}.wf-active .post h4 em{font-style:normal;font-weight:400}</style>
		<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=herbsutter.com&amp;id=3379246&amp;t=1542965953&amp;back=https%3A%2F%2Fherbsutter.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//herbsutter.wordpress.com' />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Feed" href="https://herbsutter.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Comments Feed" href="https://herbsutter.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Sutter’s Mill &raquo; Questions About Exception&nbsp;Specifications Comments Feed" href="https://herbsutter.com/2007/01/24/questions-about-exception-specifications/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s2.wp.com/_static/??-eJyNkN1uwjAMhV9onsUG69W0Z0laE0zzp8QR6tvjUlUCwSpuonOS81knxkuGPkWhKBgaZN8cx4qeR6p4JsmmH+HmPvtaP/B1nOORI8uEcqKgYG4WA1eZfErjFtinQnofspE5EWhgQ15nRNnCQv5ZqVmetORmv0vWNFibC9UKegZuAZayT9wKuabWUnEwt0Tb2A9ofbotxBZTJpx/SE8DXi3hn+h9Rx4cSUVJGXKqqt5GaurZeGCNPJoFZoxJlsdVbE11lEB/aYRTfDBw9IbLFlpI9+NUOtTUnZ2hv/C7O+y/uu9uf+jOV8Xg7sY=?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFztEKwjAMBdAfsquTiXsRv6XWOFKXtDbphn69HeiDMBQCgdzDJXZOBtmP5QJiQ517gfx4rybIxv4ChnDITqEh5A/2kRVYF0vxjCOYIpDdUG+16BpXXIqiBCIVraTfLyFPCPNfFkCT8zeTQfC5tJ7o2Hb9Yde3+24bXjRNW9I='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://herbsutter.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='&#8220;Why Are You Doing What You&#8217;re&nbsp;Doing?&#8221;' href='https://herbsutter.com/2007/01/19/why-are-you-doing-what-youre-doing/' />
<link rel='next' title='Heinlein on Subtlety' href='https://herbsutter.com/2007/01/26/heinlein-on-subtlety/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://herbsutter.com/2007/01/24/questions-about-exception-specifications/" />
<link rel='shortlink' href='https://wp.me/peb5Y-Z' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fherbsutter.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fherbsutter.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Questions About Exception Specifications" />
<meta property="og:url" content="https://herbsutter.com/2007/01/24/questions-about-exception-specifications/" />
<meta property="og:description" content="In the past few days, I&#8217;ve had several people independently send me email to ask related questions about exception specifications. That must be reason enough to echo some answers here. Backgr…" />
<meta property="article:published_time" content="-001-11-30T00:00:00+00:00" />
<meta property="article:modified_time" content="-001-11-30T00:00:00+00:00" />
<meta property="og:site_name" content="Sutter’s Mill" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=200&amp;ts=1542965953" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="Questions About Exception&nbsp;Specifications" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=114" />
<link rel='openid.server' href='https://herbsutter.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://herbsutter.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://herbsutter.com/osd.xml" title="Sutter’s Mill" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style id="wpcom-hotfix-masterbar-style">
			@media screen and (min-width: 783px) {
				#wpadminbar .quicklinks li#wp-admin-bar-my-account.with-avatar > a img {
					margin-top: 5px;
				}
			}
		</style>
		<script type="text/javascript" id="webfont-output">
  
  WebFontConfig = {"typekit":{"id":"cjs1oxc"}};
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style type="text/css">
.widget_twitter li {
	word-wrap: break-word;
}
</style>
<meta name="application-name" content="Sutter’s Mill" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Herb Sutter on software development" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://herbsutter.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/4554b8d24c7f200dc5e2e1b18db1893f?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="In the past few days, I&#039;ve had several people independently send me email to ask related questions about exception specifications. That must be reason enough to echo some answers here. Background For background, here are two places where I&#039;ve written about exception specifications: &quot;A Pragmatic Look at Exception Specifications&quot; (C/C++ Users Journal, 20(7), July 2002). This&hellip;" />
<style type="text/css">
			#header h1 a,
		#header h2 {
			color: #265E15 !important;
		}
				#headerimage {
			background: url('https://herbsutter.files.wordpress.com/2011/10/cropped-blog-header.jpg') no-repeat;
			height: 200px;
		}
	</style>
<link rel="amphtml" href="https://herbsutter.com/2007/01/24/questions-about-exception-specifications/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="https://s2.wp.com/?custom-css=1&#038;csblog=eb5Y&#038;cscache=6&#038;csrev=60" />
		</head>
<body id="section-index" class="post-template-default single single-post postid-61 single-format-standard mp6 customizer-styles-applied highlander-enabled highlander-light">


<div id="navigation" class="clearfix">
		<div class="menu">
		<ul>
			<li ><a href="https://herbsutter.com/" title="Home">Home</a></li>
			<li class="page_item page-item-912"><a href="https://herbsutter.com/welcome-to-the-jungle/">Welcome to the&nbsp;Jungle</a></li>
<li class="page_item page-item-864 page_item_has_children"><a href="https://herbsutter.com/gotw/">GotW</a></li>
<li class="page_item page-item-761"><a href="https://herbsutter.com/elements-of-modern-c-style/">Elements of Modern C++&nbsp;Style</a></li>
<li class="page_item page-item-2 page_item_has_children"><a href="https://herbsutter.com/about/">About</a></li>
									<li class="search"><form method="get" id="searchform" action="https://herbsutter.com"><input type="text" class="textbox" value="" name="s" id="s" /><input type="submit" id="searchsubmit" value="Search" /></form></li>
					</ul>
	</div>
</div><!-- end id:navigation -->

<div id="container">

<div id="header">
<h1><a href="https://herbsutter.com/" title="Sutter’s Mill">Sutter’s Mill</a></h1>
<h2>Herb Sutter on software development</h2>
</div><!-- end id:header -->


	
		<div id="feedarea">
	<dl>
		<dt><strong>Feeds:</strong></dt>

			<dd><a href="https://herbsutter.com/feed/">Posts</a></dd>
	
			<dd><a href="https://herbsutter.com/comments/feed/">Comments</a></dd>
		</dl>
	</div><!-- end id:feedarea -->
	
	<div id="headerimage">
</div><!-- end id:headerimage -->

<div id="content">
<div id="content-main">

		
									<div class="postnav">
				<div class="alignleft">&laquo; <a href="https://herbsutter.com/2007/01/19/why-are-you-doing-what-youre-doing/" rel="prev">&#8220;Why Are You Doing What You&#8217;re&nbsp;Doing?&#8221;</a></div>
				<div class="alignright"><a href="https://herbsutter.com/2007/01/26/heinlein-on-subtlety/" rel="next">Heinlein on Subtlety</a> &raquo;</div>
			</div>
			
			<div class="post-61 post type-post status-publish format-standard hentry category-c" id="post-61">
				<div class="posttitle">
					<h2>Questions About Exception&nbsp;Specifications</h2>
					<p class="post-info">2007-01-24 by <a href="https://herbsutter.com/author/herbsutter/" title="Posts by Herb Sutter">Herb Sutter</a>  </p>
				</div>

				<div class="entry">
					<p>In the past few days, I&#8217;ve had several people independently send me email to ask related questions about exception specifications. That must be reason enough to echo some answers here.
</p>
<p><strong>Background</strong>
</p>
<p>For background, here are two places where I&#8217;ve written about exception specifications:</p>
<ul>
<li><a href="http://www.gotw.ca/mill22.htm">&quot;A Pragmatic Look at Exception Specifications&quot;</a> (<i>C/C++ Users Journal</i>, 20(7), July 2002). This is based on <a href="http://www.gotw.ca/gotw/082.htm">GotW #82</a>, and an updated version appeared as Item 13 of <em><a href="http://www.gotw.ca/publications/xc++s.htm">Exceptional C++ Style</a></em>.
</li>
<li>&quot;Item 75: Avoid Exception Specifications&quot; (in <a href="http://www.gotw.ca/publications/c++cs.htm"><em>C++ Coding Standards</em></a>, by me and Andrei Alexandrescu, Addison-Wesley, October 2004).</li>
</ul>
<p>I&#8217;ve taken the liberty of pasting the entire latter reference at the bottom of this post. Enjoy!
</p>
<p>Now on to Question the First&#8230;
</p>
<p><strong>Q1: How can you know you&#8217;ve caught everything if you don&#8217;t use exception specifications?</strong>
</p>
<p>Andrew Skypeck asked:</p>
<blockquote>
<p>In CCS#75 you suggest that one ought not provide an exception specifications with functions. Without them, how can a user of the function be certain they have caught all possible exceptions without inspecting the code they are calling? This is often not possible for API users that have header files only.</p>
</blockquote>
<p>Two thoughts:
</p>
<p>First, the way to catch everything is to catch(&#8230;), and that always works. You seem to be wanting to use exception specifications as documentation (which is fine), and so you can get the same ability by writing the exception specification as a comment. Note that even if you try to write them all as actual code, you can&#8217;t do it in general &#8212; notably you can&#8217;t do it for templates, because if a template can be instantiated with any type, you generally can&#8217;t know in advance what it might throw.
</p>
<p>Second, the caller of a function doesn&#8217;t always need to catch all possible exceptions; it should only catch the exceptions that it knows how to handle (or translate). Exception safety is not just about making sure that the code that knows how to detect an error throws, and that the code that knows how to handle the error catches; rather, in practice exception safety is largely about making sure the code in between stays out of the way, including that it doesn&#8217;t catch and absorb exceptions. For more about this aspect of exception safety, start with these Items in <a href="http://www.gotw.ca/publications/c++cs.htm"><em>C++ Coding Standards</em></a>, and follow the references at the end of each Item to dig into the details that interest you:</p>
<ul>
<li>70. Distinguish between errors and non-errors.
</li>
<li>71. Design and write error-safe code.
</li>
<li>72. Prefer to use exceptions to report errors.
</li>
<li>74. Report, handle, and translate errors appropriately.</li>
</ul>
<p>Which brings us to Question the Second:
</p>
<p><strong>Q2: Why not statically enforce exception specifications?</strong>
</p>
<p>Bob Rossi asked, while kindly citing the above article:</p>
<blockquote>
<p>I would like to know what the possibilities are of C++0x enforcing the exception specifications like Java does. Here is a good article describing why exception specifications acting the way they do are currently bad, <a href="http://www.gotw.ca/publications/mill22.htm">http://www.gotw.ca/publications/mill22.htm</a>
</p>
<p>I must not fully understand the situation. What is wrong with the compiler time checks that Java does to enforce the exception specifications? I find this feature extremely useful as a developer!</p>
</blockquote>
<p>The short answer is that nobody knows how to fix exception specifications in any language, because the dynamic enforcement C++ chose has only different (not greater or fewer) problems than the static enforcement Java chose.
</p>
<p>If you&#8217;re interested in reading more about this, try googling for newsgroup postings, <a href="http://groups.google.com/groups?q=sutter+exception+specifications">http://groups.google.com/groups?q=sutter+exception+specifications</a>. The following is taken from the second hit, which I wrote last fall:</p>
<blockquote>
<p>Essentially, exception specifications are a wonderful idea in basic principle, but no one really knows how to design them.
</p>
<p>There are two major approaches, and both have serious problems. Java chose static enforcement (at compile time, as suggested above), and C++ chose dynamic enforcement. Interestingly, I see Java people ask &quot;why not enforce these dynamically?&quot; about as often as I see C++ people ask &quot;why not enforce these statically?&quot;
</p>
<p>Briefly:
</p>
<p>When you go down the Java path, people love exception specifications until they find themselves all too often encouraged, or even forced, to add <strong>throws Exception</strong>, which immediately renders the exception specification entirely meaningless. (Example: Imagine writing a Java generic that manipulates an arbitrary type <strong>T</strong>&#8230;)
</p>
<p>When you go down the C++ path, people love exception specifications until they discover that violating one means invoking <strong>terminate</strong>, which is almost never what you want.</p>
</blockquote>
<p>So why did C++ do exception specifications the way it did, with dynamic enforcement via <strong>terminate</strong>? And why did Java do it the other way? In both cases, it seemed like a good idea that avoided some set of known problems, and you can&#8217;t always know the new problems you incur instead until you gain experience with multiple releases of large code bases, which means over time.
</p>
<p><strong>The future of exception specifications?</strong>
</p>
<p>Bob responded by asking why we don&#8217;t just fix exception specifications, or remove them entirely until something better comes along. Those are good questions.
</p>
<p>Taking the latter part first: As tempting as it may be, one can&#8217;t just rip out a language feature because one decides it isn&#8217;t working out quite right. The primary reason is that there are people using the feature, and breaking existing legal code is, well, rude.
</p>
<p>What about fixing exception specifications? That would be nice, and I think nearly everyone I know is willing to consider changing them, but only if: (a) there is a well-understood replacement (there isn&#8217;t today), and (b) there was a good way to deal with migration from existing code which may rely on the existing feature.
</p>
<p>Deliberate change with a strong dose of backward compatibility is always the key. This one needs more deliberation, at least for now, and isn&#8217;t expected to change in C++0x.
</p>
</p>
<p><strong>Epilogue: C++CS Item 75</strong>
</p>
<p>I&#8217;m sure Addison-Wesley won&#8217;t mind overmuch if I paste one Item here in its entirety. It has been slightly reformatted for the web.
</p>
<p><font color="#000080"><strong>75. Avoid exception specifications.</strong></font></p>
<blockquote>
<div>
<p><font color="#000080"><strong>Summary</strong></font>
</p>
<p><a><font color="#000080">Take exception to these specifications: Don’t write exception specifications on your functions unless you’re forced to (because other code you can’t change has already introduced them; see Exceptions)</font></a><font color="#000080">.</font>
</p>
<p><font color="#000080"><strong>Discussion</strong></font>
</p>
<p><font color="#000080">In brief, don’t bother with exception specifications. Even experts don’t bother. The main problems with exception specifications are that they’re only “sort of” part of the type system, they don’t do what most people think, and you almost always don’t want what they actually do. </font>
</p>
<p><font color="#000080">Exception specifications aren’t part of a function’s type, except when they are. They form a shadow type system whereby writing an exception specification is variously:</font></p>
<ul>
<li>
<div><font color="#000080"><i>Illegal:</i> In a typedef for a pointer to function.</font></div>
</li>
<li>
<div><font color="#000080"><i>Allowed:</i> In the identical code without the typedef.</font></div>
</li>
<li>
<div><font color="#000080"><i>Required:</i> In the declaration of a virtual function that overrides a base class virtual function that has an exception specification.</font></div>
</li>
<li>
<div><font color="#000080"><i>Implicit and automatic:</i> In the declaration of the constructors, assignment operators, and destructors when they are implicitly generated by the compiler.</font></div>
</li>
</ul>
<p><font color="#000080">A common but nevertheless incorrect belief is that exception specifications statically guarantee that functions will throw only listed exceptions (possibly none), and enable compiler optimizations based on that knowledge. </font>
</p>
<p><font color="#000080">In fact, exception specifications actually do something slightly but fundamentally different: They cause the compiler to inject additional run-time overhead in the form of implicit try/catch blocks around the function body to enforce via run-time checking that the function does in fact emit only listed exceptions (possibly none), unless the compiler can statically prove that the exception specification can never be </font><font color="#000080">violated in which case it is free to optimize the checking away. And exception specifications can both enable and prevent further compiler optimizations (besides the inherent overhead already described); for example, some compilers refuse to inline functions that have exception specifications.</font>
</p>
</p>
<p><font color="#000080">Worst of all, however, is that exception specifications are a blunt instrument: When violated, by default they immediately terminate your program. You can register an unexpected_handler, but it’s highly unlikely to help you much because you get exactly one global handler and the only way the handler could avoid immediately calling terminate would be to rethrow an exception that is permissible—but because you have only one handler for your whole application, it’s hard to see how it could do useful recovery or usefully know what exceptions might be legal without trivializing exception specifications altogether (e.g., following the discipline of having all exception specifications allow some general UnknownException eliminates any advantage that having an exception specification might have had in the first place).</font>
</p>
<p><font color="#000080">You generally can’t write useful exception specifications for function templates anyway, because you generally can’t tell what exceptions the types they operate on might throw. </font>
</p>
<p><font color="#000080">Paying a performance overhead in exchange for enforcements that are nearly always useless because they are fatal if they ever fire is an excellent example of a premature pessimization (see Item 9).</font>
</p>
<p><font color="#000080">These is no easy fix for the problems described in this Item. In particular, the problems are not easily solved by switching to static checking. People often suggest switching from dynamically checked exception specifications to statically checked ones, as provided in Java and other languages. In short, that just trades one set of problems for another; users of languages with statically checked exception specifications seem to equally often suggest switching to dynamically checked ones.</font>
</p>
<p><font color="#000080"><strong>Exceptions</strong></font>
</p>
<p><font color="#000080">If you have to override a base class virtual function that already has an exception spec­ifi­ca­tion (e.g., ahem, std::exception::what), and you don’t have the ability to change the class to remove the exception specifications (or to convince the class’s main­tainer to remove them), you will have to write a compatible exception specification on your overriding function, and you should prefer to make it no less restrictive than the base version so as to minimize the frequency with which it might be violated:</font>
</p>
<p><font color="#000080"><i>// in a class written by someone else,<br />// the author used an exception specification,<br />// and if you can’t get him to remove it&#8230;</i><br />class Base { <i>// …</i><i><br /> </i></font><font color="#000080">virtual f() <b>throw( X, Y, Z )</b>;<i><br /></i></font><font color="#000080">};</font>
</p>
<p><font color="#000080"><i>// … then in your own class your override<br />// must have a compatible (and preferably<br /></i><i>// the identical) exception specification</i><br />class MyDerived : public Base { <i>// …<br /></i></font><font color="#000080">  virtual f() <b>throw( X, Y, Z )</b>;<i><br /></i></font><font color="#000080">};</font>
</p>
<p><font color="#000080">[BoostLRG]’s experience is that a throws-nothing exception specification (i.e., throw()) on a non-inline function “may have some benefit with some compilers.” Not a stunning endorsement from one of the most highly regarded and expertly designed C++ library projects in the world.</font>
</p>
<p><font color="#000080"><strong>References [see the <a href="http://www.gotw.ca/publications/c++cs/bibliography.htm">C++CS online bibliography</a> for reference details and other links]</strong></font>
</p>
<p><font color="#000080"><a href="http://www.boost.org/more/lib_guide.htm">[BoostLRG]</a> &#8211; [Stroustrup00] §14.1, §14.6 &#8211; [Sutter04] §13</font></p>
</div>
</blockquote>
									</div>

				<p class="postmetadata">
					Posted in <a href="https://herbsutter.com/category/c/" rel="category tag">C++</a> | 											4 Comments									</p>
				
<!-- You can start editing here. -->

<h3 id="comments">4 Responses</h3>

	<ol class="commentlist">
			<li class="pingback even thread-even depth-1 highlander-comment" id="comment-1532">
		<div id="div-comment-1532">
		<div class="cmtinfo"><em> on <a href="#comment-1532" title="">2009-10-21 at 12:05 am</a></em>  <cite><a href='http://sevenjay.wordpress.com/2009/06/30/exception%e4%bd%bf%e7%94%a8%e7%9a%84%e6%99%82%e6%a9%9f/' rel='external nofollow' class='url'>exception使用的時機 &laquo; Jay</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_1532"></div><p>[&#8230;] Next: c++ checked exceptions (Exception specifications)? 根據[C++ coding Standards] 書中第 75 項 Avoid exception specifications ， 且在 A Pragmatic Look at Exception Specifications 中的建議 &#8220;Never write an exception specification.&#8221; 所以就不研究了，進階可看 Questions About Exception Specifications。 [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-1465">
		<div id="div-comment-1465">
		<div class="cmtinfo"><em> on <a href="#comment-1465" title="">2009-09-07 at 9:58 am</a></em>  <cite><a href='http://cboard.cprogramming.com/cplusplus-programming/119273-value-initialization-using-empty-pair-parentheses-3.html#post891176' rel='external nofollow' class='url'>Value initialization using an empty pair of parentheses - Page 3</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_1465"></div><p>[&#8230;] then they&#39;d be worth using.    Hmm&#8230; I suppose you mean the static checking. This is what Sutter has to say, this time about Java exceptions:  Quoting it here too:   [&#8230;]</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 highlander-comment" id="comment-446">
		<div id="div-comment-446">
		<div class="cmtinfo"><em> on <a href="#comment-446" title="">2007-01-26 at 8:18 am</a></em> <img alt='' src='https://0.gravatar.com/avatar/?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite>(no name)</cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_446"></div><div>The issue isn&#8217;t quite so cut and dried in Java as presented in this blog.  It seems that C++ exceptions truely do suffer from a flawed implementation, which reminds me of some of the issues with Java generics &#8211; problems because of the compromise approach the designers chose.</div>
<div> </div>
<div>But in this blog is reiterated the typical, main argument against Java exceptions: too complicated for Java Joe.  That&#8217;s what I call a punt.</div>
<div> </div>
<div>Here&#8217;s some great reading (with some strong pro&#8217;s and other weak con&#8217;s, in addition to Java Joe&#8217;s programming ability) on the subject, which advocates a more middle of the road approach.</div>
<div> </div>
<div><a href="http://www-128.ibm.com/developerworks/java/library/j-jtp05254.html" rel="nofollow">http://www-128.ibm.com/developerworks/java/library/j-jtp05254.html</a></div>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="comment-445">
		<div id="div-comment-445">
		<div class="cmtinfo"><em> on <a href="#comment-445" title="">2007-02-05 at 7:48 pm</a></em> <img alt='' src='https://2.gravatar.com/avatar/befdbe1213392044e071b6955ef54069?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' /> <cite><a href='http://ryan-technorabble.blogspot.com' rel='external nofollow' class='url'>Ryan Baker</a></cite></div>
						<div class="pd-rating" id="pd_rating_holder_468178_comm_445"></div><p>I see why C++&#8217;s exceptions are bad, and I&#8217;ve experienced Java&#8217;s, but in both cases it appears to me as if it&#8217;s a case of trying to overuse the available and imperfect information.  I think Java&#8217;s system might be great, if it was something you could demote to a warning.</p>
<p>Are they just glorified documentation then?  Depends on how far you take that, but I think they are far more useful than an unstructured comment.  Besides which it&#8217;s not if by chance someone finds the miraculous solution to strongly checked exceptions, those glorified comments might become even more useful (not crossing my fingers though).</p>
			<br style="clear: both" />
		</div>
</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<br />

  	<p class="nocomments">Comments are closed.</p>
  <div class="post-content">
<p>
</p>
</div>

			</div>

		
		<p align="center"></p>

	</div><!-- end id:content-main -->
<div id="sidebar">
<ul>
<li class="sidebox"><h2><label for="subscribe-field">Follow by email</label></h2>
				<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
																	<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
					
					<p>
						<input type="hidden" name="action" value="subscribe"/>
						<input type="hidden" name="blog_id" value="3379246"/>
						<input type="hidden" name="source" value="https://herbsutter.com/2007/01/24/questions-about-exception-specifications/"/>
						<input type="hidden" name="sub-type" value="widget"/>
						<input type="hidden" name="redirect_fragment" value="blog_subscription-3" />
						<input type="hidden" id="_wpnonce" name="_wpnonce" value="4590924cc6" />						<input type="submit" value="Subscribe" />
					</p>
				</form>
			
</li><li class="sidebox"><h2><a href='http://twitter.com/herbsutter'>Tweets</a></h2><ul class='tweets'></ul><a href="http://twitter.com/herbsutter"  class='twitter-follow-button' data-show-count='false' data-link-color='#265e15' data-text-color='#333333'>Follow @herbsutter</a></li><li class="sidebox"><h2>Popular</h2><ul>				<li>
										<a href="https://herbsutter.com/2018/11/13/trip-report-fall-iso-c-standards-meeting-san-diego/" class="bump-view" data-bump-view="tp">
						Trip report: Fall ISO C++ standards meeting (San Diego)					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/gotw/" class="bump-view" data-bump-view="tp">
						GotW					</a>
										</li>
								<li>
										<a href="https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/" class="bump-view" data-bump-view="tp">
						Lifetime profile v1.0 posted					</a>
										</li>
				</ul></li><li class="sidebox"><h2>Categories</h2>		<ul>
				<li class="cat-item cat-item-291"><a href="https://herbsutter.com/category/apple/" >Apple</a>
</li>
	<li class="cat-item cat-item-49277"><a href="https://herbsutter.com/category/c-net/" >C# / .NET</a>
</li>
	<li class="cat-item cat-item-2426"><a href="https://herbsutter.com/category/c/" >C++</a>
</li>
	<li class="cat-item cat-item-69816"><a href="https://herbsutter.com/category/cloud/" >Cloud</a>
</li>
	<li class="cat-item cat-item-214618"><a href="https://herbsutter.com/category/concurrency/" >Concurrency</a>
</li>
	<li class="cat-item cat-item-8259773"><a href="https://herbsutter.com/category/effective-concurrency/" >Effective Concurrency</a>
</li>
	<li class="cat-item cat-item-3696745"><a href="https://herbsutter.com/category/friday-thoughts/" >Friday Thoughts</a>
</li>
	<li class="cat-item cat-item-3867746"><a href="https://herbsutter.com/category/c/gotw/" >GotW</a>
</li>
	<li class="cat-item cat-item-79"><a href="https://herbsutter.com/category/hardware/" >Hardware</a>
</li>
	<li class="cat-item cat-item-1017"><a href="https://herbsutter.com/category/java/" >Java</a>
</li>
	<li class="cat-item cat-item-637"><a href="https://herbsutter.com/category/microsoft/" >Microsoft</a>
</li>
	<li class="cat-item cat-item-420845"><a href="https://herbsutter.com/category/opinion-editorial/" >Opinion &amp; Editorial</a>
</li>
	<li class="cat-item cat-item-1633077"><a href="https://herbsutter.com/category/reader-qa/" >Reader Q&amp;A</a>
</li>
	<li class="cat-item cat-item-2301"><a href="https://herbsutter.com/category/software-development/" >Software Development</a>
</li>
	<li class="cat-item cat-item-393523"><a href="https://herbsutter.com/category/talks-events/" >Talks &amp; Events</a>
</li>
	<li class="cat-item cat-item-1"><a href="https://herbsutter.com/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-151"><a href="https://herbsutter.com/category/web/" >Web</a>
</li>
		</ul>
			</li></ul>
</div><!-- end id:sidebar -->
</div><!-- end id:content -->
</div><!-- end id:container -->
<div id="footer">
	<div id="colophon">
		<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a></p>
		<p>WPThemes.</p>
		<br class="clear" />
	</div><!-- end #colophon-->
</div><!-- end #footer-->
<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201847y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-d41d8cd98f00b204e9800998ecf8427e">
	</div>
	<div class="grofile-hash-map-befdbe1213392044e071b6955ef54069">
	</div>
	</div>
<script type='text/javascript' charset='UTF-8' id='polldaddyRatings'><!--//--><![CDATA[//><!--
PDRTJS_settings_468178_comm_1532={"id":468178,"unique_id":"wp-comment-1532","title":"%26%23091%3B...%26%23093%3B%20Next%3A%20c%2B%2B%20checked%20exceptions%20%28Exception%20specifications%29%3F%20%26%23091%3BC%2B%2B%20coding%20Standards%26%23093%3B%20%2075%20%20Avoid%20exception%20specifications%20%20%20A%20Pragmatic%20Look%20at%20Exception%20Specifications%20%20%26%238220%3BNever%20write%20an%20exc...","permalink":"https:\/\/herbsutter.com\/2007\/01\/24\/questions-about-exception-specifications\/#comment-1532","item_id":"_comm_1532"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_1532 == 'undefined' ){PDRTJS_468178_comm_1532 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_1532 );}}PDRTJS_settings_468178_comm_1465={"id":468178,"unique_id":"wp-comment-1465","title":"%26%23091%3B...%26%23093%3B%20then%20they%26%23039%3Bd%20be%20worth%20using.%20%20%20%20Hmm...%20I%20suppose%20you%20mean%20the%20static%20checking.%20This%20is%20what%20Sutter%20has%20to%20say%2C%20this%20time%20about%20Java%20exceptions%3A%20%20Quoting%20it%20here%20too%3A%20%20%20%26%23091%3B...%26%23093%3B...","permalink":"https:\/\/herbsutter.com\/2007\/01\/24\/questions-about-exception-specifications\/#comment-1465","item_id":"_comm_1465"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_1465 == 'undefined' ){PDRTJS_468178_comm_1465 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_1465 );}}PDRTJS_settings_468178_comm_446={"id":468178,"unique_id":"wp-comment-446","title":"%26lt%3Bdiv%26gt%3BThe%20issue%20isn%26%23039%3Bt%20quite%20so%20cut%20and%20dried%20in%20Java%20as%20presented%20in%20this%20blog.%20It%20seems%20that%20C%2B%2B%20exceptions%20truely%20do%20suffer%20from%20a%20flawed%20implementation%2C%20which%20reminds%20me%20of%20some%20of%20the%20issues%20w...","permalink":"https:\/\/herbsutter.com\/2007\/01\/24\/questions-about-exception-specifications\/#comment-446","item_id":"_comm_446"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_446 == 'undefined' ){PDRTJS_468178_comm_446 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_446 );}}PDRTJS_settings_468178_comm_445={"id":468178,"unique_id":"wp-comment-445","title":"I%20see%20why%20C%2B%2B%26%23039%3Bs%20exceptions%20are%20bad%2C%20and%20I%26%23039%3Bve%20experienced%20Java%26%23039%3Bs%2C%20but%20in%20both%20cases%20it%20appears%20to%20me%20as%20if%20it%26%23039%3Bs%20a%20case%20of%20trying%20to%20overuse%20the%20available%20and%20imperfect%20information.%20I%20think%20Java%26%23039%3Bs%20...","permalink":"https:\/\/herbsutter.com\/2007\/01\/24\/questions-about-exception-specifications\/#comment-445","item_id":"_comm_445"}; if ( typeof PDRTJS_RATING !== 'undefined' ){if ( typeof PDRTJS_468178_comm_445 == 'undefined' ){PDRTJS_468178_comm_445 = new PDRTJS_RATING( PDRTJS_settings_468178_comm_445 );}}
//--><!]]></script><script type='text/javascript' charset='UTF-8' src='https://polldaddy.com/js/rating/rating.js'></script><script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"3379246","siteName":"Sutter\u2019s Mill","siteURL":"https:\/\/herbsutter.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/4554b8d24c7f200dc5e2e1b18db1893f?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/mistylook","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F","themeURL":"","xhrURL":"https:\/\/herbsutter.com\/wp-admin\/admin-ajax.php","nonce":"8fb9818ae2","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"4590924cc6\" \/>","referer":"https:\/\/herbsutter.com\/2007\/01\/24\/questions-about-exception-specifications\/","canFollow":"1","feedID":"171936","statusMessage":"","customizeLink":"https:\/\/herbsutter.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fherbsutter.wordpress.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F","postID":"61","shortlink":"https:\/\/wp.me\/peb5Y-Z","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/herbsutter.com\/61","statsLink":"https:\/\/wordpress.com\/stats\/post\/61\/herbsutter.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: MistyLook","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 19,532 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/herbsutter.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fherbsutter.com%2F2007%2F01%2F24%2Fquestions-about-exception-specifications%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyVjcEOgjAQRH/IuoIYT8Zvqe2GLrQLdlvAv7ceJEYTEg+bTGbe7MA8KjNwQk7QCVicyOC47DvZwUcUshp9bokFPPUocM+Y0Wm2HuM3/CblwUkvjlrnyyWMv87GjraBWN10hKCloEWpYcIYyZb91fvzQ4ra9LJVMokGfpVWVehruFSnujo0x+Zcd0+y+3Rn'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3379246','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3379246','v':'wpcom','tz':'-8','user_id':'0','post':'61','subd':'herbsutter'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1d1TjBELytHc0k/MXdHUVQyK2IyUVA5SjU1bj9VX3ExLHYsREFpcnlfNHYtXV1HSUIsLkJrcnp0eS5sfFU4bWVqN2ZlfC5WbGQ/MTY9dmIxVytZNy5qYUxVXWRxMml5PURScmNEN1BzfnFKV1FEVEpPS2JwRU1GUEQweHNmMi1qQWVNLlpwb0Q9YmhOL1hUej8mRG84fml5fC5zb3wtbVY0TEcyUVo9Qmg2ODJfeVlFRH5xL11ycmlQcXcmenFYWURmYWc0NDlsSCtWZTBBK2RrNHlacS01enx+MGZZJVdObnRWMFluLXdYeStseXItbWM1ZU9TVC1hbDN1STNFUyV1'}]);
_stq.push([ 'clickTrackerInit', '3379246', '61' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script></body>
</html>